2024-12-04 22:14:27.856 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.1.Final
2024-12-04 22:14:29.392 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [req-serv] nacos-server port:8848
2024-12-04 22:14:29.393 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - [settings] [http-client] connect timeout:1000
2024-12-04 22:14:29.397 [main] INFO  com.alibaba.nacos.client.utils.ParamUtil - PER_TASK_CONFIG_SIZE: 3000.0
2024-12-04 22:14:29.411 [Thread-4] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-12-04 22:14:29.567 [main] INFO  com.alibaba.nacos.common.labels - DefaultLabelsCollectorManager get labels.....
2024-12-04 22:14:29.568 [main] INFO  com.alibaba.nacos.common.labels - Process LabelsCollector with [name:defaultNacosLabelsCollector]
2024-12-04 22:14:29.568 [main] INFO  com.alibaba.nacos.common.labels - default nacos collect properties raw labels: null
2024-12-04 22:14:29.570 [main] INFO  com.alibaba.nacos.common.labels - default nacos collect properties labels: {}
2024-12-04 22:14:29.570 [main] INFO  com.alibaba.nacos.common.labels - default nacos collect jvm raw labels: null
2024-12-04 22:14:29.571 [main] INFO  com.alibaba.nacos.common.labels - default nacos collect jvm labels: {}
2024-12-04 22:14:29.571 [main] INFO  com.alibaba.nacos.common.labels - default nacos collect env raw labels: null
2024-12-04 22:14:29.571 [main] INFO  com.alibaba.nacos.common.labels - default nacos collect env labels: {}
2024-12-04 22:14:29.573 [main] INFO  com.alibaba.nacos.common.labels - DefaultLabelsCollectorManager get labels finished,labels :{}
2024-12-04 22:14:29.584 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-12-04 22:14:29.584 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-12-04 22:14:29.592 [main] INFO  c.a.n.client.config.impl.LocalConfigInfoProcessor - LOCAL_SNAPSHOT_PATH:C:\Users\刘智文\nacos\config
2024-12-04 22:14:29.602 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of ac7765fc-9426-4769-b592-4c2291444a37_config-0
2024-12-04 22:14:29.634 [main] INFO  com.alibaba.nacos.common.remote.client - [ac7765fc-9426-4769-b592-4c2291444a37_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$971/0x0000021118419e98
2024-12-04 22:14:29.635 [main] INFO  com.alibaba.nacos.common.remote.client - [ac7765fc-9426-4769-b592-4c2291444a37_config-0] Register server push request handler:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$$Lambda$972/0x000002111841a2b8
2024-12-04 22:14:29.636 [main] INFO  com.alibaba.nacos.common.remote.client - [ac7765fc-9426-4769-b592-4c2291444a37_config-0] Registry connection listener to current client:com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$1
2024-12-04 22:14:29.636 [main] INFO  com.alibaba.nacos.common.remote.client - [ac7765fc-9426-4769-b592-4c2291444a37_config-0] RpcClient init, ServerListFactory = com.alibaba.nacos.client.config.impl.ClientWorker$ConfigRpcTransportClient$2
2024-12-04 22:14:29.645 [main] INFO  com.alibaba.nacos.common.remote.client - [ac7765fc-9426-4769-b592-4c2291444a37_config-0] Try to connect to server on start up, server: {serverIp = 'nacos', server main port = 8848}
2024-12-04 22:14:29.731 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:nacos ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-12-04 22:14:31.870 [main] INFO  c.a.n.common.ability.AbstractAbilityControlManager - Ready to get current node abilities...
2024-12-04 22:14:31.875 [main] INFO  c.a.n.common.ability.AbstractAbilityControlManager - Ready to initialize current node abilities, support modes: [SDK_CLIENT]
2024-12-04 22:14:31.878 [main] INFO  c.a.n.common.ability.AbstractAbilityControlManager - Initialize current abilities finish...
2024-12-04 22:14:31.880 [main] INFO  c.a.n.c.ability.discover.NacosAbilityManagerHolder - [AbilityControlManager] Successfully initialize AbilityControlManager
2024-12-04 22:14:31.981 [main] INFO  com.alibaba.nacos.common.remote.client - [ac7765fc-9426-4769-b592-4c2291444a37_config-0] Success to connect to server [nacos:8848] on start up, connectionId = 1733321672295_10.0.0.101_64691
2024-12-04 22:14:31.983 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [ac7765fc-9426-4769-b592-4c2291444a37_config-0] Notify connected event to listeners.
2024-12-04 22:14:31.984 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [ac7765fc-9426-4769-b592-4c2291444a37_config-0] Connected,notify listen context...
2024-12-04 22:14:31.984 [main] INFO  com.alibaba.nacos.common.remote.client - [ac7765fc-9426-4769-b592-4c2291444a37_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-12-04 22:14:31.985 [main] INFO  com.alibaba.nacos.common.remote.client - [ac7765fc-9426-4769-b592-4c2291444a37_config-0] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$987/0x00000211185a35d8
2024-12-04 22:14:32.194 [main] INFO  com.alibaba.nacos.client.config.impl.Limiter - limitTime:5.0
2024-12-04 22:14:32.295 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service] & group[DEFAULT_GROUP]
2024-12-04 22:14:32.354 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:14:32.434 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service-prod.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:14:32.439 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-product-service-prod.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service,DEFAULT_GROUP'}]
2024-12-04 22:14:32.513 [main] INFO  cn.edu.xmu.oomall.product.bo.GrouponActTest - The following 1 profile is active: "prod"
2024-12-04 22:14:35.160 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:14:35.161 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-04 22:14:35.740 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 546 ms. Found 6 JPA repository interfaces.
2024-12-04 22:14:35.746 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:14:35.747 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-12-04 22:14:35.780 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 2 MongoDB repository interfaces.
2024-12-04 22:14:38.220 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[cn.edu.xmu.oomall.product]' package. Please check your configuration.
2024-12-04 22:14:38.729 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=f4e34340-7d00-3f01-af0d-61dfd90c1a34
2024-12-04 22:14:43.972 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:14:44.005 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:14:44.515 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:14:44.560 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:14:44.575 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:14:44.588 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$1213/0x00000211188e2de8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:14:44.615 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:14:44.725 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:14:44.777 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:14:47.518 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2024-12-04 22:14:49.774 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-04 22:14:50.153 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-04 22:14:50.343 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-12-04 22:14:51.063 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-04 22:14:55.738 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-04 22:14:55.751 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:15:01.089 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - JSqlParser is in classpath; If applicable, JSqlParser will be used.
2024-12-04 22:15:01.090 [main] INFO  o.s.data.jpa.repository.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-04 22:15:03.622 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-04 22:15:03.915 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'shop-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:15:04.601 [main] DEBUG cn.edu.xmu.oomall.product.config.ProductConfig - snowFlakeIdWorker: ip = 192.168.56.1
2024-12-04 22:15:04.958 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'elasticsearch-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:15:06.035 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo1:27017 to client view of cluster
2024-12-04 22:15:06.215 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo2:27017 to client view of cluster
2024-12-04 22:15:06.236 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo3:27017 to client view of cluster
2024-12-04 22:15:06.326 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/17.0.10+11-LTS-240"} created with settings MongoClientSettings{readPreference=ReadPreference{name=nearest, hedgeOptions=null}, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='demouser', source='oomall', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[cn.edu.xmu.oomall.product.config.MongoCommandLogger@4e5b612], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@399a27c0, com.mongodb.Jep395RecordCodecProvider@54baa076, com.mongodb.KotlinCodecProvider@3065d07d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[mongo1:27017, mongo2:27017, mongo3:27017], srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='rs0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-12-04 22:15:06.503 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=149678000, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:15:06 CST 2024, lastUpdateTimeNanos=46898501980700}
2024-12-04 22:15:06.504 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo3:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=149803300, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:15:06 CST 2024, lastUpdateTimeNanos=46898501980600}
2024-12-04 22:15:06.513 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:06.516 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:15:06.532 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:07.707 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'freight-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:15:16.305 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo2:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:86)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:86)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:201)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:551)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:105)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:80)
	... 4 common frames omitted
2024-12-04 22:15:16.574 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:15:16.575 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:16.590 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:15:16.590 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:16.673 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (goods-producer) init on namesrv rocketmq-namesrv:9876
2024-12-04 22:15:17.698 [main] INFO  o.s.b.test.mock.web.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-12-04 22:15:17.699 [main] INFO  o.s.test.web.servlet.TestDispatcherServlet - Initializing Servlet ''
2024-12-04 22:15:17.710 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2024-12-04 22:15:17.751 [main] INFO  o.s.test.web.servlet.TestDispatcherServlet - Completed initialization in 50 ms
2024-12-04 22:15:18.090 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-12-04 22:15:18.331 [main] INFO  cn.edu.xmu.oomall.product.bo.GrouponActTest - Started GrouponActTest in 51.72 seconds (process running for 54.898)
2024-12-04 22:15:18.349 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:15:18.356 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:202412042215183AKA
2024-12-04 22:15:18.373 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - admin token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsImRlcGFydElkIjowLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE1MTgzQUtBIiwidXNlck5hbWUiOiIxMzA4OGFkbWluIiwidXNlckxldmVsIjoxLCJpc3MiOiJPT0FEIiwic3ViIjoidGhpcyBpcyBhIHRva2VuIiwiYXVkIjoiTUlOSUFQUCIsImlhdCI6MTczMzMyMTcxOCwiZXhwIjoxNzMzMzI1MzE4fQ.RMSUBu-aQMf2QuiG5ylmwuML_K-SewjRHyywK9rf0bo
2024-12-04 22:15:18.373 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:15:18.373 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 2 userName=shop1 departId=1 tokenId:2024120422151836NA
2024-12-04 22:15:18.374 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - shop 1 token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjIsImRlcGFydElkIjoxLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE1MTgzNk5BIiwidXNlck5hbWUiOiJzaG9wMSIsInVzZXJMZXZlbCI6MSwiaXNzIjoiT09BRCIsInN1YiI6InRoaXMgaXMgYSB0b2tlbiIsImF1ZCI6Ik1JTklBUFAiLCJpYXQiOjE3MzMzMjE3MTgsImV4cCI6MTczMzMyNTMxOH0.1vg8xCDPSwtbyPSRnV5fMuPdTnzIbqce9TBfUSOq4d0
2024-12-04 22:15:18.381 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - config listener notify warn timeout millis use default 60000 millis 
2024-12-04 22:15:18.381 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - nacos.cache.data.init.snapshot = true 
2024-12-04 22:15:18.382 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-nacos_8848] [subscribe] product-service-prod.yaml+DEFAULT_GROUP
2024-12-04 22:15:18.398 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service-prod.yaml, group=DEFAULT_GROUP, cnt=1
2024-12-04 22:15:18.398 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service-prod.yaml, group=DEFAULT_GROUP
2024-12-04 22:15:18.399 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-nacos_8848] [subscribe] product-service+DEFAULT_GROUP
2024-12-04 22:15:18.399 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service, group=DEFAULT_GROUP, cnt=1
2024-12-04 22:15:18.399 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service, group=DEFAULT_GROUP
2024-12-04 22:15:18.400 [main] INFO  com.alibaba.nacos.client.config.impl.ClientWorker - [fixed-nacos_8848] [subscribe] product-service.yaml+DEFAULT_GROUP
2024-12-04 22:15:18.400 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service.yaml, group=DEFAULT_GROUP, cnt=1
2024-12-04 22:15:18.400 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service.yaml, group=DEFAULT_GROUP
2024-12-04 22:15:18.684 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=null, beginTime=2024-12-04T22:15:18.627160500, endTime=2024-12-04T22:15:18.627160500, quantity=null, maxQuantity=null, shopId=null, productId=null, type=null, deposit=null, payTime=null)]
2024-12-04 22:15:18.790 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:15:18.790 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:202412042215187KYA
2024-12-04 22:15:19.602 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service] & group[DEFAULT_GROUP]
2024-12-04 22:15:19.655 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:15:19.729 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service-prod.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:15:19.729 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-product-service-prod.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service,DEFAULT_GROUP'}]
2024-12-04 22:15:19.733 [main] INFO  c.e.x.o.product.controller.AdminControllerTest - The following 1 profile is active: "prod"
2024-12-04 22:15:20.118 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:15:20.119 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-04 22:15:20.130 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 6 JPA repository interfaces.
2024-12-04 22:15:20.130 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:15:20.131 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-12-04 22:15:20.136 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 2 MongoDB repository interfaces.
2024-12-04 22:15:20.338 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[cn.edu.xmu.oomall.product]' package. Please check your configuration.
2024-12-04 22:15:20.345 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=f4e34340-7d00-3f01-af0d-61dfd90c1a34
2024-12-04 22:15:20.662 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:15:20.664 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:15:20.665 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:15:20.668 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:15:20.669 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:15:20.670 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$1213/0x00000211188e2de8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:15:20.675 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:15:20.679 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:15:20.680 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:15:20.832 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-2} inited
2024-12-04 22:15:21.650 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-04 22:15:21.652 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-12-04 22:15:21.662 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-04 22:15:21.953 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-04 22:15:21.954 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:15:22.285 [main] DEBUG cn.edu.xmu.oomall.product.config.ProductConfig - snowFlakeIdWorker: ip = 192.168.56.1
2024-12-04 22:15:22.366 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-04 22:15:22.443 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'elasticsearch-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:15:22.527 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo1:27017 to client view of cluster
2024-12-04 22:15:22.531 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo2:27017 to client view of cluster
2024-12-04 22:15:22.536 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo3:27017 to client view of cluster
2024-12-04 22:15:22.541 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/17.0.10+11-LTS-240"} created with settings MongoClientSettings{readPreference=ReadPreference{name=nearest, hedgeOptions=null}, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='demouser', source='oomall', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[cn.edu.xmu.oomall.product.config.MongoCommandLogger@549c1c7f], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@399a27c0, com.mongodb.Jep395RecordCodecProvider@54baa076, com.mongodb.KotlinCodecProvider@3065d07d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[mongo1:27017, mongo2:27017, mongo3:27017], srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='rs0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-12-04 22:15:22.625 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=45714200, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:15:16 CST 2024, lastUpdateTimeNanos=46914633464300}
2024-12-04 22:15:22.626 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:22.628 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo3:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=44303100, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:15:16 CST 2024, lastUpdateTimeNanos=46914636466400}
2024-12-04 22:15:22.629 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:15:22.629 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:22.633 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo2:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47955500, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:15:16 CST 2024, lastUpdateTimeNanos=46914641278400}
2024-12-04 22:15:22.633 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:15:22.634 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:26.580 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:15:26.581 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:26.595 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:15:26.595 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:28.166 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (goods-producer) init on namesrv rocketmq-namesrv:9876
2024-12-04 22:15:28.456 [main] INFO  o.s.b.test.mock.web.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-12-04 22:15:28.456 [main] INFO  o.s.test.web.servlet.TestDispatcherServlet - Initializing Servlet ''
2024-12-04 22:15:28.463 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2024-12-04 22:15:28.480 [main] INFO  o.s.test.web.servlet.TestDispatcherServlet - Completed initialization in 23 ms
2024-12-04 22:15:28.814 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-12-04 22:15:28.893 [main] INFO  c.e.x.o.product.controller.AdminControllerTest - Started AdminControllerTest in 10.1 seconds (process running for 65.462)
2024-12-04 22:15:28.894 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:15:28.895 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:202412042215288R8A
2024-12-04 22:15:28.895 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - admin token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsImRlcGFydElkIjowLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE1Mjg4UjhBIiwidXNlck5hbWUiOiIxMzA4OGFkbWluIiwidXNlckxldmVsIjoxLCJpc3MiOiJPT0FEIiwic3ViIjoidGhpcyBpcyBhIHRva2VuIiwiYXVkIjoiTUlOSUFQUCIsImlhdCI6MTczMzMyMTcyOCwiZXhwIjoxNzMzMzI1MzI4fQ.4_Q2JxW7I5-jFQvBtg_oOPXfZFE2ZbOAHWIm-kl7Yd8
2024-12-04 22:15:28.895 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:15:28.896 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 2 userName=shop1 departId=1 tokenId:202412042215288ZNA
2024-12-04 22:15:28.896 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - shop 1 token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjIsImRlcGFydElkIjoxLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE1Mjg4Wk5BIiwidXNlck5hbWUiOiJzaG9wMSIsInVzZXJMZXZlbCI6MSwiaXNzIjoiT09BRCIsInN1YiI6InRoaXMgaXMgYSB0b2tlbiIsImF1ZCI6Ik1JTklBUFAiLCJpYXQiOjE3MzMzMjE3MjgsImV4cCI6MTczMzMyNTMyOH0.u1fJ3LxkbYCzD4M28FQKxCDMkO_LHH0WCNM6V674-ZQ
2024-12-04 22:15:28.896 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service-prod.yaml, group=DEFAULT_GROUP, cnt=2
2024-12-04 22:15:28.896 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service-prod.yaml, group=DEFAULT_GROUP
2024-12-04 22:15:28.896 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service, group=DEFAULT_GROUP, cnt=2
2024-12-04 22:15:28.896 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service, group=DEFAULT_GROUP
2024-12-04 22:15:28.897 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service.yaml, group=DEFAULT_GROUP, cnt=2
2024-12-04 22:15:28.897 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service.yaml, group=DEFAULT_GROUP
2024-12-04 22:15:29.287 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getTemplateProduct, paramNames = [shopId, id, page, pageSize]
2024-12-04 22:15:29.287 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:29.287 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:29.288 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = page
2024-12-04 22:15:29.288 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:15:29.288 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = pageSize
2024-12-04 22:15:29.288 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:15:29.313 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:15:18 CST 2024, userLevel=1)
2024-12-04 22:15:29.320 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/templates/1/products
2024-12-04 22:15:29.321 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/templates/1/products
2024-12-04 22:15:29.324 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - getTemplateProduct: templateId = 1
2024-12-04 22:15:29.621 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@59b1b701, method = retrieveProductByTemplateId
2024-12-04 22:15:29.622 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getTemplateProduct, code = OK
2024-12-04 22:15:29.893 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = putProductId, paramNames = [shopId, id, user, dto]
2024-12-04 22:15:29.893 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:29.894 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:29.894 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:15:29.894 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = dto
2024-12-04 22:15:29.894 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:15:18 CST 2024, userLevel=1)
2024-12-04 22:15:29.895 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/products/1550
2024-12-04 22:15:29.895 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/products/1550
2024-12-04 22:15:29.917 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - updateProduct: productId = 1550, product = Product(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), skuSn=null, name=null, originalPrice=null, weight=null, barcode=null, unit=null, originPlace=null, commissionRatio=null, status=null, goodsId=null, categoryId=null, shopId=null, templateId=null, shopLogisticId=null, freeThreshold=null)
2024-12-04 22:15:29.931 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1550
2024-12-04 22:15:30.009 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@59b1b701, method = findNoOnsaleById
2024-12-04 22:15:30.009 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =1550
2024-12-04 22:15:30.011 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: update obj
2024-12-04 22:15:30.011 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : className = cn.edu.xmu.oomall.product.mapper.po.ProductPo
2024-12-04 22:15:30.011 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : table = goods_product
2024-12-04 22:15:30.012 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getId
2024-12-04 22:15:30.012 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.id, object  = 1550
2024-12-04 22:15:30.012 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = id
2024-12-04 22:15:30.012 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorId
2024-12-04 22:15:30.012 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.creatorId, object  = null
2024-12-04 22:15:30.012 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_id
2024-12-04 22:15:30.012 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorName
2024-12-04 22:15:30.012 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.creatorName, object  = null
2024-12-04 22:15:30.012 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_name
2024-12-04 22:15:30.012 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierId
2024-12-04 22:15:30.012 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.modifierId, object  = 1
2024-12-04 22:15:30.012 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_id
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierName
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.modifierName, object  = 13088admin
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_name
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtCreate
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.ProductPo.gmtCreate, object  = null
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_create
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtModified
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.ProductPo.gmtModified, object  = 2024-12-04T22:15:30.009656100
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_modified
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopId
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.shopId, object  = null
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_id
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGoodsId
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.goodsId, object  = null
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = goods_id
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCategoryId
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.categoryId, object  = null
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = category_id
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getTemplateId
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.templateId, object  = null
2024-12-04 22:15:30.013 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = template_id
2024-12-04 22:15:30.014 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getSkuSn
2024-12-04 22:15:30.014 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.skuSn, object  = null
2024-12-04 22:15:30.014 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = sku_sn
2024-12-04 22:15:30.014 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getName
2024-12-04 22:15:30.014 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.name, object  = null
2024-12-04 22:15:30.014 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = name
2024-12-04 22:15:30.014 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getOriginalPrice
2024-12-04 22:15:30.014 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.originalPrice, object  = null
2024-12-04 22:15:30.014 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = original_price
2024-12-04 22:15:30.014 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getWeight
2024-12-04 22:15:30.014 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.weight, object  = null
2024-12-04 22:15:30.014 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = weight
2024-12-04 22:15:30.014 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getBarcode
2024-12-04 22:15:30.014 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.barcode, object  = null
2024-12-04 22:15:30.014 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = barcode
2024-12-04 22:15:30.014 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getUnit
2024-12-04 22:15:30.014 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.unit, object  = null
2024-12-04 22:15:30.014 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = unit
2024-12-04 22:15:30.014 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getOriginPlace
2024-12-04 22:15:30.015 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.originPlace, object  = null
2024-12-04 22:15:30.015 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = origin_place
2024-12-04 22:15:30.015 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopLogisticId
2024-12-04 22:15:30.015 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.shopLogisticId, object  = null
2024-12-04 22:15:30.015 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_logistic_id
2024-12-04 22:15:30.015 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCommissionRatio
2024-12-04 22:15:30.015 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Integer cn.edu.xmu.oomall.product.mapper.po.ProductPo.commissionRatio, object  = null
2024-12-04 22:15:30.015 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = commission_ratio
2024-12-04 22:15:30.015 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getStatus
2024-12-04 22:15:30.015 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Byte cn.edu.xmu.oomall.product.mapper.po.ProductPo.status, object  = null
2024-12-04 22:15:30.015 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = status
2024-12-04 22:15:30.015 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getFreeThreshold
2024-12-04 22:15:30.015 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.freeThreshold, object  = null
2024-12-04 22:15:30.015 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = free_threshold
2024-12-04 22:15:30.015 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : sql = update goods_product set modifier_id = 1, modifier_name = '13088admin', gmt_modified = '2024-12-04T22:15:30.009656100' where id = 1550;
2024-12-04 22:15:30.107 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@59b1b701, method = save
2024-12-04 22:15:30.109 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = putProductId, code = OK
2024-12-04 22:15:30.545 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = putProductId, paramNames = [shopId, id, user, dto]
2024-12-04 22:15:30.545 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:30.545 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:30.545 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:15:30.545 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = dto
2024-12-04 22:15:30.546 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:15:18 CST 2024, userLevel=1)
2024-12-04 22:15:30.547 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/0/products/1550
2024-12-04 22:15:30.547 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/0/products/1550
2024-12-04 22:15:30.547 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - updateProduct: productId = 1550, product = Product(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), skuSn=1215548, name=null, originalPrice=null, weight=123, barcode=null, unit=null, originPlace=null, commissionRatio=null, status=null, goodsId=null, categoryId=null, shopId=null, templateId=39, shopLogisticId=null, freeThreshold=3953)
2024-12-04 22:15:30.547 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1550
2024-12-04 22:15:30.598 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@59b1b701, method = findNoOnsaleById
2024-12-04 22:15:30.599 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =1550
2024-12-04 22:15:30.599 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: update obj
2024-12-04 22:15:30.599 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : className = cn.edu.xmu.oomall.product.mapper.po.ProductPo
2024-12-04 22:15:30.599 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : table = goods_product
2024-12-04 22:15:30.599 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getId
2024-12-04 22:15:30.599 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.id, object  = 1550
2024-12-04 22:15:30.599 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = id
2024-12-04 22:15:30.599 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorId
2024-12-04 22:15:30.599 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.creatorId, object  = null
2024-12-04 22:15:30.599 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_id
2024-12-04 22:15:30.599 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorName
2024-12-04 22:15:30.599 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.creatorName, object  = null
2024-12-04 22:15:30.599 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_name
2024-12-04 22:15:30.599 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierId
2024-12-04 22:15:30.599 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.modifierId, object  = 1
2024-12-04 22:15:30.599 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_id
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierName
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.modifierName, object  = 13088admin
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_name
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtCreate
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.ProductPo.gmtCreate, object  = null
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_create
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtModified
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.ProductPo.gmtModified, object  = 2024-12-04T22:15:30.598306700
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_modified
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopId
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.shopId, object  = null
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_id
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGoodsId
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.goodsId, object  = null
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = goods_id
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCategoryId
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.categoryId, object  = null
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = category_id
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getTemplateId
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.templateId, object  = 39
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = template_id
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getSkuSn
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.skuSn, object  = 1215548
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = sku_sn
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getName
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.name, object  = null
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = name
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getOriginalPrice
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.originalPrice, object  = null
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = original_price
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getWeight
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.weight, object  = 123
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = weight
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getBarcode
2024-12-04 22:15:30.600 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.barcode, object  = null
2024-12-04 22:15:30.601 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = barcode
2024-12-04 22:15:30.601 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getUnit
2024-12-04 22:15:30.601 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.unit, object  = null
2024-12-04 22:15:30.601 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = unit
2024-12-04 22:15:30.601 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getOriginPlace
2024-12-04 22:15:30.601 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.originPlace, object  = null
2024-12-04 22:15:30.601 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = origin_place
2024-12-04 22:15:30.601 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopLogisticId
2024-12-04 22:15:30.601 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.shopLogisticId, object  = null
2024-12-04 22:15:30.601 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_logistic_id
2024-12-04 22:15:30.601 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCommissionRatio
2024-12-04 22:15:30.601 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Integer cn.edu.xmu.oomall.product.mapper.po.ProductPo.commissionRatio, object  = null
2024-12-04 22:15:30.601 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = commission_ratio
2024-12-04 22:15:30.601 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getStatus
2024-12-04 22:15:30.601 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Byte cn.edu.xmu.oomall.product.mapper.po.ProductPo.status, object  = null
2024-12-04 22:15:30.601 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = status
2024-12-04 22:15:30.601 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getFreeThreshold
2024-12-04 22:15:30.601 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.freeThreshold, object  = 3953
2024-12-04 22:15:30.601 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = free_threshold
2024-12-04 22:15:30.601 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : sql = update goods_product set modifier_id = 1, modifier_name = '13088admin', gmt_modified = '2024-12-04T22:15:30.598306700', template_id = 39, sku_sn = '1215548', weight = 123, free_threshold = 3953 where id = 1550;
2024-12-04 22:15:30.651 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@59b1b701, method = save
2024-12-04 22:15:30.652 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = putProductId, code = OK
2024-12-04 22:15:30.932 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getProductId, paramNames = [shopId, id]
2024-12-04 22:15:30.932 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:30.933 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:30.933 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:15:18 CST 2024, userLevel=1)
2024-12-04 22:15:30.934 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/100/products/10550
2024-12-04 22:15:30.934 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/100/products/10550
2024-12-04 22:15:30.935 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - findProductById: id = 10550
2024-12-04 22:15:30.938 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findValidById: id = 10550
2024-12-04 22:15:30.993 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:15:30.994 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getProductId, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:15:31.150 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getLogisticsProduct, paramNames = [shopId, id, page, pageSize]
2024-12-04 22:15:31.150 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:31.151 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:31.151 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = page
2024-12-04 22:15:31.151 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:15:31.151 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = pageSize
2024-12-04 22:15:31.151 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:15:31.151 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:15:18 CST 2024, userLevel=1)
2024-12-04 22:15:31.152 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/shoplogistics/1/products
2024-12-04 22:15:31.152 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/shoplogistics/1/products
2024-12-04 22:15:31.152 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - getLogisticsProduct: Logistics Id = 1
2024-12-04 22:15:31.210 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@59b1b701, method = retrieveProductByLogisticsIdAndShopId
2024-12-04 22:15:31.213 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getLogisticsProduct, code = OK
2024-12-04 22:15:31.368 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getProductId, paramNames = [shopId, id]
2024-12-04 22:15:31.368 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:31.368 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:31.369 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:15:18 CST 2024, userLevel=1)
2024-12-04 22:15:31.369 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/1/products/10000
2024-12-04 22:15:31.369 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/1/products/10000
2024-12-04 22:15:31.369 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - findProductById: id = 10000
2024-12-04 22:15:31.372 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:15:31.372 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getProductId, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:15:31.690 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = delRelateProduct, paramNames = [shopId, id, user]
2024-12-04 22:15:31.690 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:31.690 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:31.690 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:15:31.690 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:15:18 CST 2024, userLevel=1)
2024-12-04 22:15:31.691 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/products/1550/relations
2024-12-04 22:15:31.691 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/products/1550/relations
2024-12-04 22:15:31.691 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1550
2024-12-04 22:15:31.743 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@59b1b701, method = findNoOnsaleById
2024-12-04 22:15:31.744 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =1550
2024-12-04 22:15:31.744 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: update obj
2024-12-04 22:15:31.744 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : className = cn.edu.xmu.oomall.product.mapper.po.ProductPo
2024-12-04 22:15:31.744 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : table = goods_product
2024-12-04 22:15:31.744 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getId
2024-12-04 22:15:31.745 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.id, object  = 1550
2024-12-04 22:15:31.745 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = id
2024-12-04 22:15:31.745 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorId
2024-12-04 22:15:31.745 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.creatorId, object  = null
2024-12-04 22:15:31.746 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_id
2024-12-04 22:15:31.746 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorName
2024-12-04 22:15:31.746 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.creatorName, object  = null
2024-12-04 22:15:31.746 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_name
2024-12-04 22:15:31.746 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierId
2024-12-04 22:15:31.746 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.modifierId, object  = 1
2024-12-04 22:15:31.746 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_id
2024-12-04 22:15:31.746 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierName
2024-12-04 22:15:31.746 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.modifierName, object  = 13088admin
2024-12-04 22:15:31.746 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_name
2024-12-04 22:15:31.746 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtCreate
2024-12-04 22:15:31.746 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.ProductPo.gmtCreate, object  = null
2024-12-04 22:15:31.746 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_create
2024-12-04 22:15:31.746 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtModified
2024-12-04 22:15:31.746 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.ProductPo.gmtModified, object  = 2024-12-04T22:15:31.743389
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_modified
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopId
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.shopId, object  = null
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_id
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGoodsId
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.goodsId, object  = 0
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = goods_id
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCategoryId
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.categoryId, object  = null
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = category_id
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getTemplateId
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.templateId, object  = null
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = template_id
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getSkuSn
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.skuSn, object  = null
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = sku_sn
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getName
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.name, object  = null
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = name
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getOriginalPrice
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.originalPrice, object  = null
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = original_price
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getWeight
2024-12-04 22:15:31.747 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.weight, object  = null
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = weight
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getBarcode
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.barcode, object  = null
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = barcode
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getUnit
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.unit, object  = null
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = unit
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getOriginPlace
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.originPlace, object  = null
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = origin_place
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopLogisticId
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.shopLogisticId, object  = null
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_logistic_id
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCommissionRatio
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Integer cn.edu.xmu.oomall.product.mapper.po.ProductPo.commissionRatio, object  = null
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = commission_ratio
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getStatus
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Byte cn.edu.xmu.oomall.product.mapper.po.ProductPo.status, object  = null
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = status
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getFreeThreshold
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.freeThreshold, object  = null
2024-12-04 22:15:31.748 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = free_threshold
2024-12-04 22:15:31.749 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : sql = update goods_product set modifier_id = 1, modifier_name = '13088admin', gmt_modified = '2024-12-04T22:15:31.743389', goods_id = 0 where id = 1550;
2024-12-04 22:15:31.799 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@59b1b701, method = save
2024-12-04 22:15:31.800 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = delRelateProduct, code = OK
2024-12-04 22:15:31.961 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getProductId, paramNames = [shopId, id]
2024-12-04 22:15:31.961 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:31.961 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:31.962 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:15:18 CST 2024, userLevel=1)
2024-12-04 22:15:31.963 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/3/products/1551
2024-12-04 22:15:31.963 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/3/products/1551
2024-12-04 22:15:31.963 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - findProductById: id = 1551
2024-12-04 22:15:31.964 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findValidById: id = 1551
2024-12-04 22:15:32.025 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@59b1b701, method = findValidById
2024-12-04 22:15:32.027 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =1551
2024-12-04 22:15:32.028 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@1f7ed2a6
2024-12-04 22:15:32.028 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 1551
2024-12-04 22:15:32.028 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =1551
2024-12-04 22:15:32.394 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@58c9a0fa, method = findLatestValidOnsaleByProductId
2024-12-04 22:15:32.394 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:15:32.395 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:15:32.395 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:15:32.448 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.CategoryDao@7e6aa937, method = findById
2024-12-04 22:15:32.450 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.openfeign.ShopDao@2f19583d, method = findById
2024-12-04 22:15:32.578 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.openfeign.TemplateDao@788bbbaa, method = findById
2024-12-04 22:15:32.578 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getProductId, code = OK
2024-12-04 22:15:32.683 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:15:32.684 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:32.684 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:15:32.686 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:32.696 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:15:32.696 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:32.784 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = putProductId, paramNames = [shopId, id, user, dto]
2024-12-04 22:15:32.784 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:32.784 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:32.784 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:15:32.784 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = dto
2024-12-04 22:15:32.785 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:15:18 CST 2024, userLevel=1)
2024-12-04 22:15:32.786 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/products/1200
2024-12-04 22:15:32.786 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/products/1200
2024-12-04 22:15:32.786 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - updateProduct: productId = 1200, product = Product(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), skuSn=1215548, name=null, originalPrice=null, weight=123, barcode=null, unit=null, originPlace=null, commissionRatio=null, status=null, goodsId=null, categoryId=null, shopId=null, templateId=39, shopLogisticId=null, freeThreshold=3953)
2024-12-04 22:15:32.786 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1200
2024-12-04 22:15:32.838 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:15:32.838 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = putProductId, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:15:32.955 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:15:32.955 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:202412042215329B6A
2024-12-04 22:15:32.955 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:15:32.956 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=1 departId=1 tokenId:202412042215329BDA
2024-12-04 22:15:32.958 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:15:32.958 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 10 userName=1 departId=10 tokenId:202412042215329L0A
2024-12-04 22:15:33.763 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service] & group[DEFAULT_GROUP]
2024-12-04 22:15:33.815 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:15:33.866 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service-prod.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:15:33.866 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-product-service-prod.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service,DEFAULT_GROUP'}]
2024-12-04 22:15:33.870 [main] INFO  c.e.x.o.p.c.AdminDraftProductControllerTest - The following 1 profile is active: "prod"
2024-12-04 22:15:34.144 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:15:34.144 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-04 22:15:34.157 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 6 JPA repository interfaces.
2024-12-04 22:15:34.158 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:15:34.158 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-12-04 22:15:34.164 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 2 MongoDB repository interfaces.
2024-12-04 22:15:34.323 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[cn.edu.xmu.oomall.product]' package. Please check your configuration.
2024-12-04 22:15:34.327 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=f4e34340-7d00-3f01-af0d-61dfd90c1a34
2024-12-04 22:15:34.357 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:15:34.358 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:15:34.359 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:15:34.362 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:15:34.363 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:15:34.363 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$1213/0x00000211188e2de8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:15:34.367 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:15:34.372 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:15:34.373 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:15:34.495 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-3} inited
2024-12-04 22:15:35.073 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-04 22:15:35.076 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-12-04 22:15:35.082 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-04 22:15:35.248 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-04 22:15:35.248 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:15:35.470 [main] DEBUG cn.edu.xmu.oomall.product.config.ProductConfig - snowFlakeIdWorker: ip = 192.168.56.1
2024-12-04 22:15:35.557 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-04 22:15:35.610 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'elasticsearch-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:15:35.663 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo1:27017 to client view of cluster
2024-12-04 22:15:35.669 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo2:27017 to client view of cluster
2024-12-04 22:15:35.682 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo3:27017 to client view of cluster
2024-12-04 22:15:35.687 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/17.0.10+11-LTS-240"} created with settings MongoClientSettings{readPreference=ReadPreference{name=nearest, hedgeOptions=null}, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='demouser', source='oomall', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[cn.edu.xmu.oomall.product.config.MongoCommandLogger@13040b00], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@399a27c0, com.mongodb.Jep395RecordCodecProvider@54baa076, com.mongodb.KotlinCodecProvider@3065d07d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[mongo1:27017, mongo2:27017, mongo3:27017], srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='rs0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-12-04 22:15:35.763 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=44212600, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:15:26 CST 2024, lastUpdateTimeNanos=46927771223300}
2024-12-04 22:15:35.764 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:35.782 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo3:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46154800, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:15:26 CST 2024, lastUpdateTimeNanos=46927790384900}
2024-12-04 22:15:35.784 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:15:35.785 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:35.813 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'freight-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:15:36.590 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:15:36.591 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:36.599 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:15:36.599 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:41.600 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (goods-producer) init on namesrv rocketmq-namesrv:9876
2024-12-04 22:15:41.871 [main] INFO  o.s.b.test.mock.web.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-12-04 22:15:41.871 [main] INFO  o.s.test.web.servlet.TestDispatcherServlet - Initializing Servlet ''
2024-12-04 22:15:41.875 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2024-12-04 22:15:41.884 [main] INFO  o.s.test.web.servlet.TestDispatcherServlet - Completed initialization in 13 ms
2024-12-04 22:15:42.372 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-12-04 22:15:42.453 [main] INFO  c.e.x.o.p.c.AdminDraftProductControllerTest - Started AdminDraftProductControllerTest in 9.493 seconds (process running for 79.022)
2024-12-04 22:15:42.455 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:15:42.455 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:2024120422154247OA
2024-12-04 22:15:42.455 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - admin token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsImRlcGFydElkIjowLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE1NDI0N09BIiwidXNlck5hbWUiOiIxMzA4OGFkbWluIiwidXNlckxldmVsIjoxLCJpc3MiOiJPT0FEIiwic3ViIjoidGhpcyBpcyBhIHRva2VuIiwiYXVkIjoiTUlOSUFQUCIsImlhdCI6MTczMzMyMTc0MiwiZXhwIjoxNzMzMzI1MzQyfQ.xcvyEYh9BvstZOvZRj7ERM3p6VAUijBixIrAgsiMXN4
2024-12-04 22:15:42.455 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:15:42.456 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 2 userName=shop1 departId=1 tokenId:202412042215424IQA
2024-12-04 22:15:42.456 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - shop 1 token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjIsImRlcGFydElkIjoxLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE1NDI0SVFBIiwidXNlck5hbWUiOiJzaG9wMSIsInVzZXJMZXZlbCI6MSwiaXNzIjoiT09BRCIsInN1YiI6InRoaXMgaXMgYSB0b2tlbiIsImF1ZCI6Ik1JTklBUFAiLCJpYXQiOjE3MzMzMjE3NDIsImV4cCI6MTczMzMyNTM0Mn0.vhHEo7akSrLroPFdzMrNu5q0SJPXz-YEyTKTGRxkm7g
2024-12-04 22:15:42.456 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service-prod.yaml, group=DEFAULT_GROUP, cnt=3
2024-12-04 22:15:42.457 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service-prod.yaml, group=DEFAULT_GROUP
2024-12-04 22:15:42.457 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service, group=DEFAULT_GROUP, cnt=3
2024-12-04 22:15:42.457 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service, group=DEFAULT_GROUP
2024-12-04 22:15:42.457 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service.yaml, group=DEFAULT_GROUP, cnt=3
2024-12-04 22:15:42.457 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service.yaml, group=DEFAULT_GROUP
2024-12-04 22:15:42.566 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = modifyDraft, paramNames = [shopId, id, user, vo]
2024-12-04 22:15:42.566 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:42.566 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:42.566 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:15:42.566 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = vo
2024-12-04 22:15:42.566 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=10, userName=1, departId=10, expireTime=Wed Dec 04 23:15:32 CST 2024, userLevel=11)
2024-12-04 22:15:42.567 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/draftproducts/70
2024-12-04 22:15:42.567 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/draftproducts/70
2024-12-04 22:15:42.567 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 10
2024-12-04 22:15:42.567 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:42.568 [main] DEBUG c.e.xmu.oomall.product.service.ProductDraftService - modifyById: shopId = 10, productDraft = ProductDraft(super=OOMallObject(id=70, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), name=test1, originalPrice=1000, originPlace=100, shopId=null, unit=unit, categoryId=1, productId=null)
2024-12-04 22:15:42.573 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDraftDao - findById: id =70
2024-12-04 22:15:42.627 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDraftDao@48d362b, method = findById
2024-12-04 22:15:42.683 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.CategoryDao@1fed29e5, method = findById
2024-12-04 22:15:42.684 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = CATEGORY_NOTALLOW
2024-12-04 22:15:42.684 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = modifyDraft, code = CATEGORY_NOTALLOW
2024-12-04 22:15:42.690 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:15:42.690 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:42.691 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:15:42.692 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:42.700 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:15:42.700 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:42.847 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getAllProductDraft, paramNames = [shopId, page, pageSize]
2024-12-04 22:15:42.847 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:42.847 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = page
2024-12-04 22:15:42.847 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:15:42.847 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = pageSize
2024-12-04 22:15:42.847 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:15:42.848 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=1, departId=1, expireTime=Wed Dec 04 23:15:32 CST 2024, userLevel=11)
2024-12-04 22:15:42.848 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/1/draftproducts
2024-12-04 22:15:42.848 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/1/draftproducts
2024-12-04 22:15:42.848 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 1
2024-12-04 22:15:42.848 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:42.907 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDraftDao - bos size:0
2024-12-04 22:15:42.908 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDraftDao@48d362b, method = retrieveProductDraftByShopId
2024-12-04 22:15:42.908 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getAllProductDraft, code = OK
2024-12-04 22:15:43.084 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getProductDraft, paramNames = [shopId, id]
2024-12-04 22:15:43.084 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:43.084 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:43.085 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:15:32 CST 2024, userLevel=1)
2024-12-04 22:15:43.085 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/0/draftproducts/70
2024-12-04 22:15:43.085 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/0/draftproducts/70
2024-12-04 22:15:43.086 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDraftDao - findById: id =70
2024-12-04 22:15:43.136 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDraftDao@48d362b, method = findById
2024-12-04 22:15:43.138 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.openfeign.ShopDao@3f15269d, method = findById
2024-12-04 22:15:43.139 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1576
2024-12-04 22:15:43.190 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6be1ba6c, method = findNoOnsaleById
2024-12-04 22:15:43.190 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getProductDraft, code = OK
2024-12-04 22:15:43.354 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getProductDraft, paramNames = [shopId, id]
2024-12-04 22:15:43.354 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:43.354 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:43.355 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=1, departId=1, expireTime=Wed Dec 04 23:15:32 CST 2024, userLevel=11)
2024-12-04 22:15:43.355 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/1/draftproducts/70
2024-12-04 22:15:43.355 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/1/draftproducts/70
2024-12-04 22:15:43.355 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 1
2024-12-04 22:15:43.355 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:43.356 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDraftDao - findById: id =70
2024-12-04 22:15:43.421 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:15:43.421 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getProductDraft, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:15:43.589 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = createDraft, paramNames = [shopId, vo, user]
2024-12-04 22:15:43.589 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:43.589 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = vo
2024-12-04 22:15:43.589 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:15:43.590 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:15:32 CST 2024, userLevel=1)
2024-12-04 22:15:43.590 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/1/draftproducts
2024-12-04 22:15:43.590 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/1/draftproducts
2024-12-04 22:15:43.590 [main] DEBUG c.e.xmu.oomall.product.service.ProductDraftService - createDraft: shopId = 1, draft = 
2024-12-04 22:15:43.642 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.CategoryDao@1fed29e5, method = findById
2024-12-04 22:15:43.644 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: insert obj
2024-12-04 22:15:43.759 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDraftDao@48d362b, method = insert
2024-12-04 22:15:43.760 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = createDraft, code = CREATED
2024-12-04 22:15:43.920 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = createDraft, paramNames = [shopId, vo, user]
2024-12-04 22:15:43.920 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:43.920 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = vo
2024-12-04 22:15:43.920 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:15:43.921 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:15:32 CST 2024, userLevel=1)
2024-12-04 22:15:43.921 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/1/draftproducts
2024-12-04 22:15:43.921 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/1/draftproducts
2024-12-04 22:15:43.921 [main] DEBUG c.e.xmu.oomall.product.service.ProductDraftService - createDraft: shopId = 1, draft = 
2024-12-04 22:15:43.973 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.CategoryDao@1fed29e5, method = findById
2024-12-04 22:15:43.973 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = CATEGORY_NOTALLOW
2024-12-04 22:15:43.974 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = createDraft, code = CATEGORY_NOTALLOW
2024-12-04 22:15:44.244 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = modifyDraft, paramNames = [shopId, id, user, vo]
2024-12-04 22:15:44.244 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:44.244 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:44.244 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:15:44.244 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = vo
2024-12-04 22:15:44.247 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=10, userName=1, departId=10, expireTime=Wed Dec 04 23:15:32 CST 2024, userLevel=11)
2024-12-04 22:15:44.247 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/draftproducts/70
2024-12-04 22:15:44.247 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/draftproducts/70
2024-12-04 22:15:44.247 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 10
2024-12-04 22:15:44.247 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:44.248 [main] DEBUG c.e.xmu.oomall.product.service.ProductDraftService - modifyById: shopId = 10, productDraft = ProductDraft(super=OOMallObject(id=70, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), name=test1, originalPrice=1000, originPlace=100, shopId=null, unit=unittest, categoryId=313, productId=null)
2024-12-04 22:15:44.248 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDraftDao - findById: id =70
2024-12-04 22:15:44.305 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDraftDao@48d362b, method = findById
2024-12-04 22:15:44.369 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.CategoryDao@1fed29e5, method = findById
2024-12-04 22:15:44.371 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: update obj
2024-12-04 22:15:44.371 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : className = cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo
2024-12-04 22:15:44.371 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : table = goods_product_draft
2024-12-04 22:15:44.372 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getId
2024-12-04 22:15:44.372 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.id, object  = 70
2024-12-04 22:15:44.372 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = id
2024-12-04 22:15:44.372 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorId
2024-12-04 22:15:44.372 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.creatorId, object  = null
2024-12-04 22:15:44.372 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_id
2024-12-04 22:15:44.372 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorName
2024-12-04 22:15:44.372 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.creatorName, object  = null
2024-12-04 22:15:44.372 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_name
2024-12-04 22:15:44.372 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierId
2024-12-04 22:15:44.372 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.modifierId, object  = 10
2024-12-04 22:15:44.372 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_id
2024-12-04 22:15:44.372 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierName
2024-12-04 22:15:44.372 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.modifierName, object  = 1
2024-12-04 22:15:44.372 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_name
2024-12-04 22:15:44.372 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtCreate
2024-12-04 22:15:44.372 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.gmtCreate, object  = null
2024-12-04 22:15:44.372 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_create
2024-12-04 22:15:44.372 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtModified
2024-12-04 22:15:44.372 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.gmtModified, object  = 2024-12-04T22:15:44.370736400
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_modified
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopId
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.shopId, object  = null
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_id
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getProductId
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.productId, object  = null
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = product_id
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCategoryId
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.categoryId, object  = 313
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = category_id
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getName
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.name, object  = test1
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = name
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getOriginalPrice
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.originalPrice, object  = 1000
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = original_price
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getOriginPlace
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.originPlace, object  = 100
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = origin_place
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getUnit
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.unit, object  = unittest
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = unit
2024-12-04 22:15:44.373 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : sql = update goods_product_draft set modifier_id = 10, modifier_name = '1', gmt_modified = '2024-12-04T22:15:44.370736400', category_id = 313, name = 'test1', original_price = 1000, origin_place = '100', unit = 'unittest' where id = 70;
2024-12-04 22:15:44.425 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDraftDao@48d362b, method = save
2024-12-04 22:15:44.429 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = modifyDraft, code = OK
2024-12-04 22:15:44.592 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = delProducts, paramNames = [shopId, id, user]
2024-12-04 22:15:44.592 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:44.592 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:44.592 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:15:44.593 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=10, userName=1, departId=10, expireTime=Wed Dec 04 23:15:32 CST 2024, userLevel=11)
2024-12-04 22:15:44.593 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/draftproducts/70
2024-12-04 22:15:44.593 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/draftproducts/70
2024-12-04 22:15:44.593 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 10
2024-12-04 22:15:44.593 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:44.594 [main] DEBUG c.e.xmu.oomall.product.service.ProductDraftService - delProducts: shopId = 10, productId = 70
2024-12-04 22:15:44.594 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDraftDao - findById: id =70
2024-12-04 22:15:44.645 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDraftDao@48d362b, method = findById
2024-12-04 22:15:44.657 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDraftDao@48d362b, method = delete
2024-12-04 22:15:44.657 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = delProducts, code = OK
2024-12-04 22:15:44.817 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = modifyDraft, paramNames = [shopId, id, user, vo]
2024-12-04 22:15:44.818 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:44.818 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:44.818 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:15:44.818 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = vo
2024-12-04 22:15:44.818 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:15:32 CST 2024, userLevel=1)
2024-12-04 22:15:44.818 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/0/draftproducts/70
2024-12-04 22:15:44.818 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/0/draftproducts/70
2024-12-04 22:15:44.819 [main] DEBUG c.e.xmu.oomall.product.service.ProductDraftService - modifyById: shopId = 0, productDraft = ProductDraft(super=OOMallObject(id=70, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), name=test1, originalPrice=1000, originPlace=100, shopId=null, unit=unit, categoryId=313, productId=null)
2024-12-04 22:15:44.821 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDraftDao - findById: id =70
2024-12-04 22:15:44.872 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDraftDao@48d362b, method = findById
2024-12-04 22:15:44.924 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.CategoryDao@1fed29e5, method = findById
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: update obj
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : className = cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : table = goods_product_draft
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getId
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.id, object  = 70
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = id
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorId
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.creatorId, object  = null
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_id
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorName
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.creatorName, object  = null
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_name
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierId
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.modifierId, object  = 1
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_id
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierName
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.modifierName, object  = 13088admin
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_name
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtCreate
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.gmtCreate, object  = null
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_create
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtModified
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.gmtModified, object  = 2024-12-04T22:15:44.924878600
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_modified
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopId
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.shopId, object  = null
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_id
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getProductId
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.productId, object  = null
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = product_id
2024-12-04 22:15:44.925 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCategoryId
2024-12-04 22:15:44.926 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.categoryId, object  = 313
2024-12-04 22:15:44.926 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = category_id
2024-12-04 22:15:44.926 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getName
2024-12-04 22:15:44.926 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.name, object  = test1
2024-12-04 22:15:44.926 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = name
2024-12-04 22:15:44.926 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getOriginalPrice
2024-12-04 22:15:44.926 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.originalPrice, object  = 1000
2024-12-04 22:15:44.926 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = original_price
2024-12-04 22:15:44.926 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getOriginPlace
2024-12-04 22:15:44.926 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.originPlace, object  = 100
2024-12-04 22:15:44.926 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = origin_place
2024-12-04 22:15:44.926 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getUnit
2024-12-04 22:15:44.926 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductDraftPo.unit, object  = unit
2024-12-04 22:15:44.926 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = unit
2024-12-04 22:15:44.926 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : sql = update goods_product_draft set modifier_id = 1, modifier_name = '13088admin', gmt_modified = '2024-12-04T22:15:44.924878600', category_id = 313, name = 'test1', original_price = 1000, origin_place = '100', unit = 'unit' where id = 70;
2024-12-04 22:15:44.977 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDraftDao@48d362b, method = save
2024-12-04 22:15:44.977 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = modifyDraft, code = OK
2024-12-04 22:15:45.139 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = modifyDraft, paramNames = [shopId, id, user, vo]
2024-12-04 22:15:45.139 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:45.139 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:45.139 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:15:45.139 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = vo
2024-12-04 22:15:45.141 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=1, departId=1, expireTime=Wed Dec 04 23:15:32 CST 2024, userLevel=11)
2024-12-04 22:15:45.141 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/1/draftproducts/70
2024-12-04 22:15:45.141 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/1/draftproducts/70
2024-12-04 22:15:45.141 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 1
2024-12-04 22:15:45.141 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:45.142 [main] DEBUG c.e.xmu.oomall.product.service.ProductDraftService - modifyById: shopId = 1, productDraft = ProductDraft(super=OOMallObject(id=70, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), name=test1, originalPrice=1000, originPlace=100, shopId=null, unit=unit, categoryId=313, productId=null)
2024-12-04 22:15:45.143 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDraftDao - findById: id =70
2024-12-04 22:15:45.195 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:15:45.195 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = modifyDraft, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:15:45.367 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAdvice - bindExceptionHandler: e = categoryId:分类不能为空,
2024-12-04 22:15:45.589 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getProductDraft, paramNames = [shopId, id]
2024-12-04 22:15:45.590 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:45.590 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:45.591 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=10, userName=1, departId=10, expireTime=Wed Dec 04 23:15:32 CST 2024, userLevel=11)
2024-12-04 22:15:45.591 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/draftproducts/70
2024-12-04 22:15:45.591 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/draftproducts/70
2024-12-04 22:15:45.591 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 10
2024-12-04 22:15:45.591 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:45.591 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDraftDao - findById: id =70
2024-12-04 22:15:45.642 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDraftDao@48d362b, method = findById
2024-12-04 22:15:45.645 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.openfeign.ShopDao@3f15269d, method = findById
2024-12-04 22:15:45.645 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1576
2024-12-04 22:15:45.685 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo2:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:86)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:86)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:201)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:551)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:105)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:80)
	... 4 common frames omitted
2024-12-04 22:15:45.697 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6be1ba6c, method = findNoOnsaleById
2024-12-04 22:15:45.698 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getProductDraft, code = OK
2024-12-04 22:15:45.818 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:15:45.819 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:45.835 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:15:45.836 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:45.853 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getAllProductDraft, paramNames = [shopId, page, pageSize]
2024-12-04 22:15:45.853 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:45.853 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = page
2024-12-04 22:15:45.853 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:15:45.853 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = pageSize
2024-12-04 22:15:45.853 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:15:45.854 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:15:32 CST 2024, userLevel=1)
2024-12-04 22:15:45.854 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/0/draftproducts
2024-12-04 22:15:45.854 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/0/draftproducts
2024-12-04 22:15:45.913 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDraftDao - bos size:1
2024-12-04 22:15:45.913 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDraftDao@48d362b, method = retrieveProductDraftByShopId
2024-12-04 22:15:45.913 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getAllProductDraft, code = OK
2024-12-04 22:15:46.076 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = putProductId, paramNames = [shopId, id, user, dto]
2024-12-04 22:15:46.076 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:46.077 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:46.077 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:15:46.077 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = dto
2024-12-04 22:15:46.077 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:15:32 CST 2024, userLevel=1)
2024-12-04 22:15:46.077 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/products/1550
2024-12-04 22:15:46.077 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/products/1550
2024-12-04 22:15:46.078 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - updateProduct: productId = 1550, product = Product(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), skuSn=null, name=null, originalPrice=null, weight=null, barcode=null, unit=null, originPlace=null, commissionRatio=null, status=null, goodsId=null, categoryId=null, shopId=null, templateId=null, shopLogisticId=null, freeThreshold=null)
2024-12-04 22:15:46.078 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1550
2024-12-04 22:15:46.133 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6be1ba6c, method = findNoOnsaleById
2024-12-04 22:15:46.133 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =1550
2024-12-04 22:15:46.133 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: update obj
2024-12-04 22:15:46.133 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : className = cn.edu.xmu.oomall.product.mapper.po.ProductPo
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : table = goods_product
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getId
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.id, object  = 1550
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = id
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorId
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.creatorId, object  = null
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_id
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorName
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.creatorName, object  = null
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_name
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierId
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.modifierId, object  = 1
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_id
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierName
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.modifierName, object  = 13088admin
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_name
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtCreate
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.ProductPo.gmtCreate, object  = null
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_create
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtModified
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.ProductPo.gmtModified, object  = 2024-12-04T22:15:46.133805200
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_modified
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopId
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.shopId, object  = null
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_id
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGoodsId
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.goodsId, object  = null
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = goods_id
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCategoryId
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.categoryId, object  = null
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = category_id
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getTemplateId
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.templateId, object  = null
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = template_id
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getSkuSn
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.skuSn, object  = null
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = sku_sn
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getName
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.name, object  = null
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = name
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getOriginalPrice
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.originalPrice, object  = null
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = original_price
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getWeight
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.weight, object  = null
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = weight
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getBarcode
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.barcode, object  = null
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = barcode
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getUnit
2024-12-04 22:15:46.134 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.unit, object  = null
2024-12-04 22:15:46.135 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = unit
2024-12-04 22:15:46.135 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getOriginPlace
2024-12-04 22:15:46.135 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ProductPo.originPlace, object  = null
2024-12-04 22:15:46.135 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = origin_place
2024-12-04 22:15:46.135 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopLogisticId
2024-12-04 22:15:46.135 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.shopLogisticId, object  = null
2024-12-04 22:15:46.135 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_logistic_id
2024-12-04 22:15:46.135 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCommissionRatio
2024-12-04 22:15:46.135 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Integer cn.edu.xmu.oomall.product.mapper.po.ProductPo.commissionRatio, object  = null
2024-12-04 22:15:46.135 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = commission_ratio
2024-12-04 22:15:46.135 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getStatus
2024-12-04 22:15:46.135 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Byte cn.edu.xmu.oomall.product.mapper.po.ProductPo.status, object  = null
2024-12-04 22:15:46.135 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = status
2024-12-04 22:15:46.135 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getFreeThreshold
2024-12-04 22:15:46.135 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ProductPo.freeThreshold, object  = null
2024-12-04 22:15:46.135 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = free_threshold
2024-12-04 22:15:46.135 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : sql = update goods_product set modifier_id = 1, modifier_name = '13088admin', gmt_modified = '2024-12-04T22:15:46.133805200' where id = 1550;
2024-12-04 22:15:46.187 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6be1ba6c, method = save
2024-12-04 22:15:46.187 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = putProductId, code = OK
2024-12-04 22:15:46.349 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = putProductId, paramNames = [shopId, id, user, dto]
2024-12-04 22:15:46.350 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:46.350 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:46.350 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:15:46.350 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = dto
2024-12-04 22:15:46.350 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:15:32 CST 2024, userLevel=1)
2024-12-04 22:15:46.350 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/100/products/1550
2024-12-04 22:15:46.350 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/100/products/1550
2024-12-04 22:15:46.350 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - updateProduct: productId = 1550, product = Product(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), skuSn=null, name=null, originalPrice=null, weight=null, barcode=null, unit=null, originPlace=null, commissionRatio=null, status=null, goodsId=null, categoryId=null, shopId=null, templateId=null, shopLogisticId=null, freeThreshold=null)
2024-12-04 22:15:46.351 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1550
2024-12-04 22:15:46.404 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:15:46.405 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = putProductId, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:15:46.563 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = delProducts, paramNames = [shopId, id, user]
2024-12-04 22:15:46.563 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:46.564 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:46.564 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:15:46.564 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:15:32 CST 2024, userLevel=1)
2024-12-04 22:15:46.564 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/0/draftproducts/70
2024-12-04 22:15:46.564 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/0/draftproducts/70
2024-12-04 22:15:46.564 [main] DEBUG c.e.xmu.oomall.product.service.ProductDraftService - delProducts: shopId = 0, productId = 70
2024-12-04 22:15:46.565 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDraftDao - findById: id =70
2024-12-04 22:15:46.601 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:15:46.602 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:46.605 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:15:46.606 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:46.617 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDraftDao@48d362b, method = findById
2024-12-04 22:15:46.618 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDraftDao@48d362b, method = delete
2024-12-04 22:15:46.618 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = delProducts, code = OK
2024-12-04 22:15:46.778 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = delProducts, paramNames = [shopId, id, user]
2024-12-04 22:15:46.779 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:46.779 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:46.779 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:15:46.779 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=1, departId=1, expireTime=Wed Dec 04 23:15:32 CST 2024, userLevel=11)
2024-12-04 22:15:46.779 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/1/draftproducts/70
2024-12-04 22:15:46.779 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/1/draftproducts/70
2024-12-04 22:15:46.779 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 1
2024-12-04 22:15:46.779 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:46.780 [main] DEBUG c.e.xmu.oomall.product.service.ProductDraftService - delProducts: shopId = 1, productId = 70
2024-12-04 22:15:46.780 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDraftDao - findById: id =70
2024-12-04 22:15:46.833 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:15:46.833 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = delProducts, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:15:46.988 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = putProductId, paramNames = [shopId, id, user, dto]
2024-12-04 22:15:46.988 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:46.988 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:46.988 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:15:46.988 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = dto
2024-12-04 22:15:46.989 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:15:32 CST 2024, userLevel=1)
2024-12-04 22:15:46.989 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/100/products/1550
2024-12-04 22:15:46.989 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/100/products/1550
2024-12-04 22:15:46.990 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - updateProduct: productId = 1550, product = Product(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), skuSn=null, name=null, originalPrice=null, weight=null, barcode=null, unit=null, originPlace=null, commissionRatio=null, status=null, goodsId=null, categoryId=null, shopId=null, templateId=null, shopLogisticId=null, freeThreshold=null)
2024-12-04 22:15:46.990 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1550
2024-12-04 22:15:47.042 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:15:47.042 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = putProductId, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:15:47.158 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:15:47.158 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=admin departId=0 tokenId:202412042215471DVA
2024-12-04 22:15:47.159 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:15:47.159 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=wt departId=10 tokenId:202412042215471EUA
2024-12-04 22:15:47.159 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:15:47.159 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=wt departId=3 tokenId:2024120422154712EA
2024-12-04 22:15:47.160 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:15:47.160 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=wt departId=2 tokenId:2024120422154719WA
2024-12-04 22:15:47.214 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = retrieveByShopId, paramNames = [shopId, productId, status, page, pageSize]
2024-12-04 22:15:47.214 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:47.214 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = productId
2024-12-04 22:15:47.214 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = status
2024-12-04 22:15:47.214 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = page
2024-12-04 22:15:47.214 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:15:47.214 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = pageSize
2024-12-04 22:15:47.214 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:15:47.215 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=admin, departId=0, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:47.215 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/0/groupons
2024-12-04 22:15:47.215 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/0/groupons
2024-12-04 22:15:47.216 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: shopId = 0, productId = null, page = 1, pageSize= 10
2024-12-04 22:15:47.273 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: pos size = 2
2024-12-04 22:15:47.274 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1)
2024-12-04 22:15:47.570 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:15:47.570 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:15:47.672 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@6eab0141
2024-12-04 22:15:47.673 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:47.682 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@3f8dfbc0, method = getActivity
2024-12-04 22:15:47.684 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:47.684 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:47.684 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=8, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=6, name=团购活动1, objectId=6571ae09f66b807258a17a3d, actClass=grouponActDao, status=1)
2024-12-04 22:15:47.688 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:15:47.688 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:15:47.735 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@c044e62
2024-12-04 22:15:47.735 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=8, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=6, name=团购活动1, objectId=6571ae09f66b807258a17a3d, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=10, percentage=10), Threshold(quantity=20, percentage=20), Threshold(quantity=30, percentage=30)])
2024-12-04 22:15:47.735 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@3f8dfbc0, method = getActivity
2024-12-04 22:15:47.735 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=8, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=6, name=团购活动1, objectId=6571ae09f66b807258a17a3d, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=10, percentage=10), Threshold(quantity=20, percentage=20), Threshold(quantity=30, percentage=30)])
2024-12-04 22:15:47.735 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: bo = GrouponAct(super=Activity(super=OOMallObject(id=8, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=6, name=团购活动1, objectId=6571ae09f66b807258a17a3d, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=10, percentage=10), Threshold(quantity=20, percentage=20), Threshold(quantity=30, percentage=30)])
2024-12-04 22:15:47.735 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: actList_size = 2
2024-12-04 22:15:47.735 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@7e281050, method = retrieveByShopIdAndProductId
2024-12-04 22:15:47.736 [main] DEBUG c.e.x.o.product.controller.ShopGrouponController - retrieveByShopId: ret.size = 2
2024-12-04 22:15:47.738 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 4, page = 1, pageSize = 1000
2024-12-04 22:15:47.799 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = retrieveByActId
2024-12-04 22:15:47.801 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=119, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=40058, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=34, maxQuantity=10, shopId=2, productId=1668, type=0, deposit=0, payTime=null)]
2024-12-04 22:15:47.801 [main] DEBUG c.e.x.o.product.controller.ShopGrouponController - retrieveByShopId: dto = cn.edu.xmu.oomall.product.controller.vo.SimpleGrouponActVo@1f17bba3
2024-12-04 22:15:47.801 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 8, page = 1, pageSize = 1000
2024-12-04 22:15:47.855 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = retrieveByActId
2024-12-04 22:15:47.856 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=398, beginTime=2022-11-11T14:38:20, endTime=2028-02-19T14:38:20, quantity=24, maxQuantity=50, shopId=6, productId=1559, type=0, deposit=0, payTime=null)]
2024-12-04 22:15:47.856 [main] DEBUG c.e.x.o.product.controller.ShopGrouponController - retrieveByShopId: dto = cn.edu.xmu.oomall.product.controller.vo.SimpleGrouponActVo@1c48aeb5
2024-12-04 22:15:47.856 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = retrieveByShopId, code = OK
2024-12-04 22:15:48.044 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = retrieveByShopId, paramNames = [shopId, productId, status, page, pageSize]
2024-12-04 22:15:48.044 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:48.044 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = productId
2024-12-04 22:15:48.044 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = status
2024-12-04 22:15:48.044 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = page
2024-12-04 22:15:48.044 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:15:48.044 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = pageSize
2024-12-04 22:15:48.044 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:15:48.045 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=admin, departId=0, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:48.045 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/0/groupons
2024-12-04 22:15:48.045 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/0/groupons
2024-12-04 22:15:48.045 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: shopId = 0, productId = null, page = 1, pageSize= 10
2024-12-04 22:15:48.096 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: pos size = 2
2024-12-04 22:15:48.096 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=95, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T08:33:39, gmtModified=null, shopId=2, name=团购活动3, objectId=6571b38d7bc1ad7cd929c85a, actClass=grouponActDao, status=0)
2024-12-04 22:15:48.098 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:15:48.098 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:15:48.144 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@4112bcbd
2024-12-04 22:15:48.144 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=95, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T08:33:39, gmtModified=null), shopId=2, name=团购活动3, objectId=6571b38d7bc1ad7cd929c85a, actClass=grouponActDao, status=0), thresholds=[Threshold(quantity=1, percentage=10), Threshold(quantity=2, percentage=20), Threshold(quantity=3, percentage=30)])
2024-12-04 22:15:48.144 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@3f8dfbc0, method = getActivity
2024-12-04 22:15:48.144 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=95, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T08:33:39, gmtModified=null), shopId=2, name=团购活动3, objectId=6571b38d7bc1ad7cd929c85a, actClass=grouponActDao, status=0), thresholds=[Threshold(quantity=1, percentage=10), Threshold(quantity=2, percentage=20), Threshold(quantity=3, percentage=30)])
2024-12-04 22:15:48.144 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: bo = GrouponAct(super=Activity(super=OOMallObject(id=95, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T08:33:39, gmtModified=null), shopId=2, name=团购活动3, objectId=6571b38d7bc1ad7cd929c85a, actClass=grouponActDao, status=0), thresholds=[Threshold(quantity=1, percentage=10), Threshold(quantity=2, percentage=20), Threshold(quantity=3, percentage=30)])
2024-12-04 22:15:48.144 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=96, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T08:34:28, gmtModified=null, shopId=1, name=团购活动4, objectId=6571b5f153415545865e8b54, actClass=grouponActDao, status=0)
2024-12-04 22:15:48.145 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:15:48.145 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:15:48.192 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@5283ce4d
2024-12-04 22:15:48.192 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=96, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T08:34:28, gmtModified=null), shopId=1, name=团购活动4, objectId=6571b5f153415545865e8b54, actClass=grouponActDao, status=0), thresholds=[Threshold(quantity=2, percentage=10), Threshold(quantity=4, percentage=20), Threshold(quantity=6, percentage=30)])
2024-12-04 22:15:48.192 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@3f8dfbc0, method = getActivity
2024-12-04 22:15:48.192 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=96, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T08:34:28, gmtModified=null), shopId=1, name=团购活动4, objectId=6571b5f153415545865e8b54, actClass=grouponActDao, status=0), thresholds=[Threshold(quantity=2, percentage=10), Threshold(quantity=4, percentage=20), Threshold(quantity=6, percentage=30)])
2024-12-04 22:15:48.192 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: bo = GrouponAct(super=Activity(super=OOMallObject(id=96, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T08:34:28, gmtModified=null), shopId=1, name=团购活动4, objectId=6571b5f153415545865e8b54, actClass=grouponActDao, status=0), thresholds=[Threshold(quantity=2, percentage=10), Threshold(quantity=4, percentage=20), Threshold(quantity=6, percentage=30)])
2024-12-04 22:15:48.192 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: actList_size = 2
2024-12-04 22:15:48.192 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@7e281050, method = retrieveByShopIdAndProductId
2024-12-04 22:15:48.192 [main] DEBUG c.e.x.o.product.controller.ShopGrouponController - retrieveByShopId: ret.size = 2
2024-12-04 22:15:48.192 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 95, page = 1, pageSize = 1000
2024-12-04 22:15:48.246 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = retrieveByActId
2024-12-04 22:15:48.246 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=441, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=52987, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=80, maxQuantity=50, shopId=2, productId=1990, type=0, deposit=0, payTime=null)]
2024-12-04 22:15:48.246 [main] DEBUG c.e.x.o.product.controller.ShopGrouponController - retrieveByShopId: dto = cn.edu.xmu.oomall.product.controller.vo.SimpleGrouponActVo@1f8a4a55
2024-12-04 22:15:48.246 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 96, page = 1, pageSize = 1000
2024-12-04 22:15:48.301 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = retrieveByActId
2024-12-04 22:15:48.301 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=12, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=3569, beginTime=2021-11-11T14:38:20, endTime=2030-02-19T14:38:20, quantity=66, maxQuantity=50, shopId=1, productId=1561, type=0, deposit=0, payTime=null)]
2024-12-04 22:15:48.301 [main] DEBUG c.e.x.o.product.controller.ShopGrouponController - retrieveByShopId: dto = cn.edu.xmu.oomall.product.controller.vo.SimpleGrouponActVo@7c015ce2
2024-12-04 22:15:48.301 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = retrieveByShopId, code = OK
2024-12-04 22:15:48.482 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = createGrouponAct, paramNames = [shopId, pid, vo, user]
2024-12-04 22:15:48.482 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:48.482 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = pid
2024-12-04 22:15:48.482 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = vo
2024-12-04 22:15:48.482 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = user
2024-12-04 22:15:48.484 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=10, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:48.484 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/products/99999/groupons
2024-12-04 22:15:48.484 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/products/99999/groupons
2024-12-04 22:15:48.484 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 10
2024-12-04 22:15:48.484 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:48.485 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 99999
2024-12-04 22:15:48.536 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:15:48.536 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = createGrouponAct, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:15:48.697 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = cancelProductGrouponAct, paramNames = [shopId, pid, id, user]
2024-12-04 22:15:48.697 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:48.697 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = pid
2024-12-04 22:15:48.697 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = id
2024-12-04 22:15:48.697 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = user
2024-12-04 22:15:48.699 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=2, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:48.699 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/products/9999/groupons/4
2024-12-04 22:15:48.699 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/products/9999/groupons/4
2024-12-04 22:15:48.699 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 2
2024-12-04 22:15:48.699 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:48.752 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1)
2024-12-04 22:15:48.754 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:15:48.754 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:15:48.800 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@78f9127b
2024-12-04 22:15:48.800 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:48.801 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@3f8dfbc0, method = getActivity
2024-12-04 22:15:48.801 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:48.801 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@7e281050, method = findById
2024-12-04 22:15:48.856 [main] ERROR cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findByActIdEqualsAndProductIdEquals, e = {}
java.lang.NullPointerException: Cannot invoke "cn.edu.xmu.oomall.product.mapper.po.OnsalePo.getId()" because "onsalePo" is null
	at cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao.findByActIdEqualsAndProductIdEquals(OnSaleDao.java:328)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.edu.xmu.javaee.core.aop.DaoAspect.doAround(DaoAspect.java:29)
	at jdk.internal.reflect.GeneratedMethodAccessor97.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao$$SpringCGLIB$$0.findByActIdEqualsAndProductIdEquals(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)
	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:482)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao$$SpringCGLIB$$1.findByActIdEqualsAndProductIdEquals(<generated>)
	at cn.edu.xmu.oomall.product.service.GrouponActService.cancelFromGrouponAct(GrouponActService.java:147)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.service.GrouponActService$$SpringCGLIB$$0.cancelFromGrouponAct(<generated>)
	at cn.edu.xmu.oomall.product.controller.ShopGrouponController.cancelProductGrouponAct(ShopGrouponController.java:153)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:102)
	at cn.edu.xmu.javaee.core.aop.AuditAspect.aroundAudit(AuditAspect.java:64)
	at jdk.internal.reflect.GeneratedMethodAccessor99.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:102)
	at cn.edu.xmu.javaee.core.aop.ControllerAspect.doAround(ControllerAspect.java:61)
	at jdk.internal.reflect.GeneratedMethodAccessor98.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.controller.ShopGrouponController$$SpringCGLIB$$0.cancelProductGrouponAct(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doDelete(FrameworkServlet.java:936)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:596)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at cn.edu.xmu.oomall.product.controller.AdminGrouponActControllerTest.testCancelProductGrouponActGivenWrongProduct(AdminGrouponActControllerTest.java:406)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2024-12-04 22:15:48.859 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = INTERNAL_SERVER_ERR
2024-12-04 22:15:48.859 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = cancelProductGrouponAct, code = INTERNAL_SERVER_ERR
2024-12-04 22:15:49.028 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = createGrouponAct, paramNames = [shopId, pid, id, vo, user]
2024-12-04 22:15:49.028 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:49.028 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = pid
2024-12-04 22:15:49.028 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = id
2024-12-04 22:15:49.028 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = vo
2024-12-04 22:15:49.028 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = user
2024-12-04 22:15:49.029 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=2, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:49.029 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/products/1755/groupons/4
2024-12-04 22:15:49.029 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/products/1755/groupons/4
2024-12-04 22:15:49.029 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 2
2024-12-04 22:15:49.029 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:49.030 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:15:49.031 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = createGrouponAct, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:15:49.139 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findGrouponById, paramNames = [shopId, actId]
2024-12-04 22:15:49.139 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:49.139 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = actId
2024-12-04 22:15:49.140 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=2, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:49.140 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/groupons/4
2024-12-04 22:15:49.140 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/groupons/4
2024-12-04 22:15:49.140 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 2
2024-12-04 22:15:49.140 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:49.192 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1)
2024-12-04 22:15:49.194 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:15:49.195 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:15:49.241 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@63fe4785
2024-12-04 22:15:49.241 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:49.241 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@3f8dfbc0, method = getActivity
2024-12-04 22:15:49.241 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:49.241 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@7e281050, method = findById
2024-12-04 22:15:49.244 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.openfeign.ShopDao@3f15269d, method = findById
2024-12-04 22:15:49.245 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 4, page = 1, pageSize = 1000
2024-12-04 22:15:49.297 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = retrieveByActId
2024-12-04 22:15:49.297 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=119, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=40058, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=34, maxQuantity=10, shopId=2, productId=1668, type=0, deposit=0, payTime=null)]
2024-12-04 22:15:49.298 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findGrouponById, code = OK
2024-12-04 22:15:49.465 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = createGrouponAct, paramNames = [shopId, pid, id, vo, user]
2024-12-04 22:15:49.465 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:49.465 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = pid
2024-12-04 22:15:49.465 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = id
2024-12-04 22:15:49.465 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = vo
2024-12-04 22:15:49.465 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = user
2024-12-04 22:15:49.465 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=2, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:49.466 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/products/1668/groupons/5
2024-12-04 22:15:49.466 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/products/1668/groupons/5
2024-12-04 22:15:49.466 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 2
2024-12-04 22:15:49.466 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:49.516 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:15:49.517 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = createGrouponAct, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:15:49.671 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = retrieveByShopId, paramNames = [shopId, productId, status, page, pageSize]
2024-12-04 22:15:49.671 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:49.671 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = productId
2024-12-04 22:15:49.671 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = status
2024-12-04 22:15:49.671 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = page
2024-12-04 22:15:49.671 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:15:49.671 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = pageSize
2024-12-04 22:15:49.671 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:15:49.672 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=2, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:49.672 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/groupons
2024-12-04 22:15:49.672 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/groupons
2024-12-04 22:15:49.672 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 2
2024-12-04 22:15:49.672 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:49.672 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: shopId = 2, productId = 1668, page = 1, pageSize= 10
2024-12-04 22:15:49.672 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: productId = 1668
2024-12-04 22:15:49.725 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: pos size = 1
2024-12-04 22:15:49.725 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1)
2024-12-04 22:15:49.726 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:15:49.727 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:15:49.772 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@16592aee
2024-12-04 22:15:49.773 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:49.773 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@3f8dfbc0, method = getActivity
2024-12-04 22:15:49.773 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:49.773 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:49.773 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: actList_size = 1
2024-12-04 22:15:49.773 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@7e281050, method = retrieveByShopIdAndProductId
2024-12-04 22:15:49.773 [main] DEBUG c.e.x.o.product.controller.ShopGrouponController - retrieveByShopId: ret.size = 1
2024-12-04 22:15:49.773 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 4, page = 1, pageSize = 1000
2024-12-04 22:15:49.825 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = retrieveByActId
2024-12-04 22:15:49.825 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=119, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=40058, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=34, maxQuantity=10, shopId=2, productId=1668, type=0, deposit=0, payTime=null)]
2024-12-04 22:15:49.825 [main] DEBUG c.e.x.o.product.controller.ShopGrouponController - retrieveByShopId: dto = cn.edu.xmu.oomall.product.controller.vo.SimpleGrouponActVo@59053bae
2024-12-04 22:15:49.825 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = retrieveByShopId, code = OK
2024-12-04 22:15:49.988 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = createGrouponAct, paramNames = [shopId, pid, vo, user]
2024-12-04 22:15:49.989 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:49.989 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = pid
2024-12-04 22:15:49.989 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = vo
2024-12-04 22:15:49.989 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = user
2024-12-04 22:15:49.990 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=3, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:49.991 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/3/products/1755/groupons
2024-12-04 22:15:49.991 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/3/products/1755/groupons
2024-12-04 22:15:49.991 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 3
2024-12-04 22:15:49.991 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:49.992 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1755
2024-12-04 22:15:50.046 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6be1ba6c, method = findNoOnsaleById
2024-12-04 22:15:50.047 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - insert: onsale=OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=10000, beginTime=3030-12-05T10:09:50, endTime=3032-12-05T10:09:50, quantity=10000, maxQuantity=1, shopId=3, productId=1755, type=2, deposit=0, payTime=null)
2024-12-04 22:15:50.047 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - hasConflictOnsale: onsale = OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=10000, beginTime=3030-12-05T10:09:50, endTime=3032-12-05T10:09:50, quantity=10000, maxQuantity=1, shopId=3, productId=1755, type=2, deposit=0, payTime=null)
2024-12-04 22:15:50.130 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: insert obj
2024-12-04 22:15:50.185 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - insert: newPo=OnsalePo(id=8666, creatorId=1, creatorName=wt, modifierId=null, modifierName=null, gmtCreate=2024-12-04T22:15:50.129308700, gmtModified=null, shopId=3, productId=1755, price=10000, beginTime=3030-12-05T10:09:50, endTime=3032-12-05T10:09:50, quantity=10000, type=2, maxQuantity=1, payTime=null, deposit=0)
2024-12-04 22:15:50.202 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = insert
2024-12-04 22:15:50.293 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: insert
2024-12-04 22:15:50.293 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:15:50.357 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@3f8dfbc0, method = insert
2024-12-04 22:15:50.357 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - insert: objectId = 6750641606b2de2102d0963b
2024-12-04 22:15:50.358 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: insert obj
2024-12-04 22:15:50.411 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - insert: newPo = ActivityPo(id=112, creatorId=1, creatorName=wt, modifierId=null, modifierName=null, gmtCreate=2024-12-04T22:15:50.203384900, gmtModified=null, shopId=3, name=清仓大甩卖, objectId=6750641606b2de2102d0963b, actClass=grouponActDao, status=0)
2024-12-04 22:15:50.412 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@7e281050, method = insert
2024-12-04 22:15:50.413 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - insertActivityOnsale: activityOnsalePo = ActivityOnsalePo(id=null, actId=112, onsaleId=8666, creatorId=1, creatorName=wt, modifierId=null, modifierName=null, gmtCreate=2024-12-04T22:15:50.412190, gmtModified=null)
2024-12-04 22:15:50.426 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: insert obj
2024-12-04 22:15:50.479 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@7e281050, method = insertActivityOnsale
2024-12-04 22:15:50.479 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = createGrouponAct, code = CREATED
2024-12-04 22:15:50.654 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = retrieveByShopId, paramNames = [shopId, productId, status, page, pageSize]
2024-12-04 22:15:50.655 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:50.655 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = productId
2024-12-04 22:15:50.655 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = status
2024-12-04 22:15:50.655 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = page
2024-12-04 22:15:50.655 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:15:50.655 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = pageSize
2024-12-04 22:15:50.655 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:15:50.657 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=2, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:50.657 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/groupons
2024-12-04 22:15:50.657 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/groupons
2024-12-04 22:15:50.657 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 2
2024-12-04 22:15:50.657 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:50.658 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: shopId = 2, productId = 1, page = 1, pageSize= 10
2024-12-04 22:15:50.658 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: productId = 1
2024-12-04 22:15:50.710 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: pos size = 0
2024-12-04 22:15:50.710 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: actList_size = 0
2024-12-04 22:15:50.710 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@7e281050, method = retrieveByShopIdAndProductId
2024-12-04 22:15:50.711 [main] DEBUG c.e.x.o.product.controller.ShopGrouponController - retrieveByShopId: ret.size = 0
2024-12-04 22:15:50.711 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = retrieveByShopId, code = OK
2024-12-04 22:15:50.879 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = createGrouponAct, paramNames = [shopId, pid, id, vo, user]
2024-12-04 22:15:50.879 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:50.879 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = pid
2024-12-04 22:15:50.879 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = id
2024-12-04 22:15:50.879 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = vo
2024-12-04 22:15:50.879 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = user
2024-12-04 22:15:50.881 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=2, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:50.881 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/products/1755/groupons/4
2024-12-04 22:15:50.881 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/products/1755/groupons/4
2024-12-04 22:15:50.881 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 2
2024-12-04 22:15:50.881 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:50.882 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:15:50.883 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = createGrouponAct, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:15:50.997 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = updateGrouponAct, paramNames = [shopId, id, vo, user]
2024-12-04 22:15:50.997 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:50.997 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:50.998 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = vo
2024-12-04 22:15:50.998 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = user
2024-12-04 22:15:50.999 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=2, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:50.999 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/groupons/4
2024-12-04 22:15:50.999 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/groupons/4
2024-12-04 22:15:50.999 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 2
2024-12-04 22:15:50.999 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:51.052 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1)
2024-12-04 22:15:51.055 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:15:51.055 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:15:51.101 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@6a4b7166
2024-12-04 22:15:51.102 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:51.102 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@3f8dfbc0, method = getActivity
2024-12-04 22:15:51.102 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:51.102 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@7e281050, method = findById
2024-12-04 22:15:51.103 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 4, page = 1, pageSize = 1000
2024-12-04 22:15:51.156 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = retrieveByActId
2024-12-04 22:15:51.156 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=119, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=40058, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=34, maxQuantity=10, shopId=2, productId=1668, type=0, deposit=0, payTime=null)]
2024-12-04 22:15:51.157 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - save: onsale=OnSale(super=OOMallObject(id=119, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=0, beginTime=3030-12-05T10:09:50, endTime=3032-12-05T10:09:50, quantity=0, maxQuantity=1, shopId=2, productId=null, type=null, deposit=null, payTime=null)
2024-12-04 22:15:51.157 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - hasConflictOnsale: onsale = OnSale(super=OOMallObject(id=119, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=0, beginTime=3030-12-05T10:09:50, endTime=3032-12-05T10:09:50, quantity=0, maxQuantity=1, shopId=2, productId=null, type=null, deposit=null, payTime=null)
2024-12-04 22:15:51.218 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: update obj
2024-12-04 22:15:51.218 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : className = cn.edu.xmu.oomall.product.mapper.po.OnsalePo
2024-12-04 22:15:51.218 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : table = goods_onsale
2024-12-04 22:15:51.218 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getId
2024-12-04 22:15:51.218 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.id, object  = 119
2024-12-04 22:15:51.218 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = id
2024-12-04 22:15:51.218 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorId
2024-12-04 22:15:51.219 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.creatorId, object  = null
2024-12-04 22:15:51.219 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_id
2024-12-04 22:15:51.219 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorName
2024-12-04 22:15:51.219 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.OnsalePo.creatorName, object  = null
2024-12-04 22:15:51.220 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_name
2024-12-04 22:15:51.220 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierId
2024-12-04 22:15:51.220 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.modifierId, object  = 1
2024-12-04 22:15:51.220 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_id
2024-12-04 22:15:51.220 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierName
2024-12-04 22:15:51.220 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.OnsalePo.modifierName, object  = wt
2024-12-04 22:15:51.220 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_name
2024-12-04 22:15:51.220 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtCreate
2024-12-04 22:15:51.220 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.gmtCreate, object  = null
2024-12-04 22:15:51.220 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_create
2024-12-04 22:15:51.220 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtModified
2024-12-04 22:15:51.221 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.gmtModified, object  = 2024-12-04T22:15:51.217479800
2024-12-04 22:15:51.221 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_modified
2024-12-04 22:15:51.221 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopId
2024-12-04 22:15:51.221 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.shopId, object  = 2
2024-12-04 22:15:51.221 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_id
2024-12-04 22:15:51.221 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getProductId
2024-12-04 22:15:51.221 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.productId, object  = null
2024-12-04 22:15:51.221 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = product_id
2024-12-04 22:15:51.221 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getPrice
2024-12-04 22:15:51.221 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.price, object  = 0
2024-12-04 22:15:51.221 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = price
2024-12-04 22:15:51.222 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getBeginTime
2024-12-04 22:15:51.222 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.beginTime, object  = 3030-12-05T10:09:50
2024-12-04 22:15:51.222 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = begin_time
2024-12-04 22:15:51.222 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getEndTime
2024-12-04 22:15:51.222 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.endTime, object  = 3032-12-05T10:09:50
2024-12-04 22:15:51.222 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = end_time
2024-12-04 22:15:51.222 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getQuantity
2024-12-04 22:15:51.222 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Integer cn.edu.xmu.oomall.product.mapper.po.OnsalePo.quantity, object  = 0
2024-12-04 22:15:51.222 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = quantity
2024-12-04 22:15:51.222 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getType
2024-12-04 22:15:51.222 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Byte cn.edu.xmu.oomall.product.mapper.po.OnsalePo.type, object  = null
2024-12-04 22:15:51.223 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = type
2024-12-04 22:15:51.223 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getMaxQuantity
2024-12-04 22:15:51.223 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Integer cn.edu.xmu.oomall.product.mapper.po.OnsalePo.maxQuantity, object  = 1
2024-12-04 22:15:51.223 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = max_quantity
2024-12-04 22:15:51.223 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getPayTime
2024-12-04 22:15:51.223 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.payTime, object  = null
2024-12-04 22:15:51.223 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = pay_time
2024-12-04 22:15:51.223 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getDeposit
2024-12-04 22:15:51.223 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.deposit, object  = null
2024-12-04 22:15:51.224 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = deposit
2024-12-04 22:15:51.224 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : sql = update goods_onsale set modifier_id = 1, modifier_name = 'wt', gmt_modified = '2024-12-04T22:15:51.217479800', shop_id = 2, price = 0, begin_time = '3030-12-05T10:09:50', end_time = '3032-12-05T10:09:50', quantity = 0, max_quantity = 1 where id = 119;
2024-12-04 22:15:51.276 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = save
2024-12-04 22:15:51.277 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: update obj
2024-12-04 22:15:51.277 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : className = cn.edu.xmu.oomall.product.mapper.po.ActivityPo
2024-12-04 22:15:51.277 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : table = goods_activity
2024-12-04 22:15:51.277 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getId
2024-12-04 22:15:51.277 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ActivityPo.id, object  = 4
2024-12-04 22:15:51.277 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = id
2024-12-04 22:15:51.277 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorId
2024-12-04 22:15:51.277 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ActivityPo.creatorId, object  = null
2024-12-04 22:15:51.277 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_id
2024-12-04 22:15:51.277 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorName
2024-12-04 22:15:51.278 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ActivityPo.creatorName, object  = null
2024-12-04 22:15:51.278 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_name
2024-12-04 22:15:51.278 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierId
2024-12-04 22:15:51.278 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ActivityPo.modifierId, object  = 1
2024-12-04 22:15:51.278 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_id
2024-12-04 22:15:51.278 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierName
2024-12-04 22:15:51.278 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ActivityPo.modifierName, object  = wt
2024-12-04 22:15:51.278 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_name
2024-12-04 22:15:51.278 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtCreate
2024-12-04 22:15:51.279 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.ActivityPo.gmtCreate, object  = null
2024-12-04 22:15:51.279 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_create
2024-12-04 22:15:51.279 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtModified
2024-12-04 22:15:51.279 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.ActivityPo.gmtModified, object  = 2024-12-04T22:15:51.276548400
2024-12-04 22:15:51.279 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_modified
2024-12-04 22:15:51.279 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopId
2024-12-04 22:15:51.279 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ActivityPo.shopId, object  = 2
2024-12-04 22:15:51.279 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_id
2024-12-04 22:15:51.280 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getName
2024-12-04 22:15:51.280 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ActivityPo.name, object  = 团购活动3
2024-12-04 22:15:51.280 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = name
2024-12-04 22:15:51.280 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getObjectId
2024-12-04 22:15:51.280 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ActivityPo.objectId, object  = 6571af0a9e0bbf44f06141d0
2024-12-04 22:15:51.280 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = object_id
2024-12-04 22:15:51.280 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getActClass
2024-12-04 22:15:51.280 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ActivityPo.actClass, object  = grouponActDao
2024-12-04 22:15:51.280 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = act_class
2024-12-04 22:15:51.280 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getStatus
2024-12-04 22:15:51.281 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Byte cn.edu.xmu.oomall.product.mapper.po.ActivityPo.status, object  = null
2024-12-04 22:15:51.281 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = status
2024-12-04 22:15:51.281 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : sql = update goods_activity set modifier_id = 1, modifier_name = 'wt', gmt_modified = '2024-12-04T22:15:51.276548400', shop_id = 2, name = '团购活动3', object_id = '6571af0a9e0bbf44f06141d0', act_class = 'grouponActDao' where id = 4;
2024-12-04 22:15:51.332 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - save:saved po = ActivityPo(id=4, creatorId=null, creatorName=null, modifierId=1, modifierName=wt, gmtCreate=null, gmtModified=2024-12-04T22:15:51.276548400, shopId=2, name=团购活动3, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=null)
2024-12-04 22:15:51.335 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:15:51.335 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:15:51.406 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: update
2024-12-04 22:15:51.406 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:15:51.456 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@3f8dfbc0, method = save
2024-12-04 22:15:51.456 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - save:saved bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=null, creatorName=null, modifierId=1, modifierName=wt, gmtCreate=null, gmtModified=2024-12-04T22:15:51.276548400), shopId=2, name=团购活动3, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=null), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:51.457 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@7e281050, method = save
2024-12-04 22:15:51.458 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = updateGrouponAct, code = OK
2024-12-04 22:15:51.628 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = cancelProductGrouponAct, paramNames = [shopId, pid, id, user]
2024-12-04 22:15:51.629 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:51.629 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = pid
2024-12-04 22:15:51.629 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = id
2024-12-04 22:15:51.629 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = user
2024-12-04 22:15:51.630 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=2, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:51.630 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/products/1668/groupons/4
2024-12-04 22:15:51.630 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/products/1668/groupons/4
2024-12-04 22:15:51.630 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 2
2024-12-04 22:15:51.630 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:51.688 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1)
2024-12-04 22:15:51.690 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:15:51.691 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:15:51.739 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@76234c4b
2024-12-04 22:15:51.740 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:51.740 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@3f8dfbc0, method = getActivity
2024-12-04 22:15:51.741 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:51.741 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@7e281050, method = findById
2024-12-04 22:15:51.800 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findByActIdEqualsAndProductIdEquals
2024-12-04 22:15:51.804 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - save: onsale=OnSale(super=OOMallObject(id=119, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=null, beginTime=null, endTime=2024-12-04T22:15:51.801197900, quantity=null, maxQuantity=null, shopId=null, productId=null, type=null, deposit=null, payTime=null)
2024-12-04 22:15:51.804 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - hasConflictOnsale: onsale = OnSale(super=OOMallObject(id=119, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=null, beginTime=null, endTime=2024-12-04T22:15:51.801197900, quantity=null, maxQuantity=null, shopId=null, productId=null, type=null, deposit=null, payTime=null)
2024-12-04 22:15:51.861 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: update obj
2024-12-04 22:15:51.861 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : className = cn.edu.xmu.oomall.product.mapper.po.OnsalePo
2024-12-04 22:15:51.861 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : table = goods_onsale
2024-12-04 22:15:51.862 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getId
2024-12-04 22:15:51.862 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.id, object  = 119
2024-12-04 22:15:51.862 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = id
2024-12-04 22:15:51.862 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorId
2024-12-04 22:15:51.862 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.creatorId, object  = null
2024-12-04 22:15:51.862 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_id
2024-12-04 22:15:51.862 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorName
2024-12-04 22:15:51.862 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.OnsalePo.creatorName, object  = null
2024-12-04 22:15:51.862 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_name
2024-12-04 22:15:51.862 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierId
2024-12-04 22:15:51.862 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.modifierId, object  = 1
2024-12-04 22:15:51.862 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_id
2024-12-04 22:15:51.863 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierName
2024-12-04 22:15:51.863 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.OnsalePo.modifierName, object  = wt
2024-12-04 22:15:51.863 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_name
2024-12-04 22:15:51.863 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtCreate
2024-12-04 22:15:51.863 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.gmtCreate, object  = null
2024-12-04 22:15:51.863 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_create
2024-12-04 22:15:51.863 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtModified
2024-12-04 22:15:51.863 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.gmtModified, object  = 2024-12-04T22:15:51.861124500
2024-12-04 22:15:51.863 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_modified
2024-12-04 22:15:51.863 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopId
2024-12-04 22:15:51.863 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.shopId, object  = null
2024-12-04 22:15:51.863 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_id
2024-12-04 22:15:51.863 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getProductId
2024-12-04 22:15:51.864 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.productId, object  = null
2024-12-04 22:15:51.864 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = product_id
2024-12-04 22:15:51.864 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getPrice
2024-12-04 22:15:51.864 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.price, object  = null
2024-12-04 22:15:51.864 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = price
2024-12-04 22:15:51.864 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getBeginTime
2024-12-04 22:15:51.864 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.beginTime, object  = null
2024-12-04 22:15:51.864 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = begin_time
2024-12-04 22:15:51.864 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getEndTime
2024-12-04 22:15:51.864 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.endTime, object  = 2024-12-04T22:15:51.801197900
2024-12-04 22:15:51.864 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = end_time
2024-12-04 22:15:51.864 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getQuantity
2024-12-04 22:15:51.864 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Integer cn.edu.xmu.oomall.product.mapper.po.OnsalePo.quantity, object  = null
2024-12-04 22:15:51.864 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = quantity
2024-12-04 22:15:51.865 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getType
2024-12-04 22:15:51.865 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Byte cn.edu.xmu.oomall.product.mapper.po.OnsalePo.type, object  = null
2024-12-04 22:15:51.865 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = type
2024-12-04 22:15:51.865 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getMaxQuantity
2024-12-04 22:15:51.865 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Integer cn.edu.xmu.oomall.product.mapper.po.OnsalePo.maxQuantity, object  = null
2024-12-04 22:15:51.865 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = max_quantity
2024-12-04 22:15:51.865 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getPayTime
2024-12-04 22:15:51.865 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.payTime, object  = null
2024-12-04 22:15:51.865 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = pay_time
2024-12-04 22:15:51.865 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getDeposit
2024-12-04 22:15:51.865 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.deposit, object  = null
2024-12-04 22:15:51.865 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = deposit
2024-12-04 22:15:51.865 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : sql = update goods_onsale set modifier_id = 1, modifier_name = 'wt', gmt_modified = '2024-12-04T22:15:51.861124500', end_time = '2024-12-04T22:15:51.801197900' where id = 119;
2024-12-04 22:15:51.916 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = cancelProductGrouponAct, code = OK
2024-12-04 22:15:52.084 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = createGrouponAct, paramNames = [shopId, pid, id, vo, user]
2024-12-04 22:15:52.085 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:52.085 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = pid
2024-12-04 22:15:52.085 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = id
2024-12-04 22:15:52.085 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = vo
2024-12-04 22:15:52.085 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = user
2024-12-04 22:15:52.086 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=10, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:52.086 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/products/1668/groupons/4
2024-12-04 22:15:52.086 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/products/1668/groupons/4
2024-12-04 22:15:52.087 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 10
2024-12-04 22:15:52.087 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:52.139 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:15:52.140 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = createGrouponAct, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:15:52.418 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = retrieveByShopId, paramNames = [shopId, productId, status, page, pageSize]
2024-12-04 22:15:52.418 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:52.419 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = productId
2024-12-04 22:15:52.419 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = status
2024-12-04 22:15:52.419 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = page
2024-12-04 22:15:52.419 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:15:52.419 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = pageSize
2024-12-04 22:15:52.419 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:15:52.420 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=10, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:52.420 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/groupons
2024-12-04 22:15:52.421 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/groupons
2024-12-04 22:15:52.421 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 10
2024-12-04 22:15:52.421 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:52.421 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: shopId = 10, productId = 1559, page = 1, pageSize= 10
2024-12-04 22:15:52.421 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: productId = 1559
2024-12-04 22:15:52.475 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: pos size = 1
2024-12-04 22:15:52.476 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:15:52.476 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = retrieveByShopId, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:15:52.699 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:15:52.700 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:52.702 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:15:52.703 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:52.710 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:15:52.711 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:15:52.762 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = deleteGrouponAct, paramNames = [shopId, id, userDto]
2024-12-04 22:15:52.763 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:52.763 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:52.763 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = userDto
2024-12-04 22:15:52.764 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=10, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:52.764 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/groupons/4
2024-12-04 22:15:52.764 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/groupons/4
2024-12-04 22:15:52.764 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 10
2024-12-04 22:15:52.764 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:52.820 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:15:52.820 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = deleteGrouponAct, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:15:52.987 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = deleteGrouponAct, paramNames = [shopId, id, userDto]
2024-12-04 22:15:52.987 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:52.987 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:52.987 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = userDto
2024-12-04 22:15:52.988 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=2, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:52.988 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/groupons/4
2024-12-04 22:15:52.988 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/groupons/4
2024-12-04 22:15:52.988 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 2
2024-12-04 22:15:52.989 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:53.041 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1)
2024-12-04 22:15:53.042 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:15:53.042 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:15:53.089 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@482ef0d
2024-12-04 22:15:53.089 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:53.089 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@3f8dfbc0, method = getActivity
2024-12-04 22:15:53.090 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:53.090 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@7e281050, method = findById
2024-12-04 22:15:53.090 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 4, page = 1, pageSize = 1000
2024-12-04 22:15:53.144 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = retrieveByActId
2024-12-04 22:15:53.144 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=119, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=40058, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=34, maxQuantity=10, shopId=2, productId=1668, type=0, deposit=0, payTime=null)]
2024-12-04 22:15:53.145 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - save: onsale=OnSale(super=OOMallObject(id=119, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=null, beginTime=null, endTime=2024-12-04T22:15:53.145805400, quantity=null, maxQuantity=null, shopId=null, productId=null, type=null, deposit=null, payTime=null)
2024-12-04 22:15:53.145 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - hasConflictOnsale: onsale = OnSale(super=OOMallObject(id=119, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=null, beginTime=null, endTime=2024-12-04T22:15:53.145805400, quantity=null, maxQuantity=null, shopId=null, productId=null, type=null, deposit=null, payTime=null)
2024-12-04 22:15:53.204 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: update obj
2024-12-04 22:15:53.205 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : className = cn.edu.xmu.oomall.product.mapper.po.OnsalePo
2024-12-04 22:15:53.205 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : table = goods_onsale
2024-12-04 22:15:53.205 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getId
2024-12-04 22:15:53.205 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.id, object  = 119
2024-12-04 22:15:53.205 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = id
2024-12-04 22:15:53.205 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorId
2024-12-04 22:15:53.205 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.creatorId, object  = null
2024-12-04 22:15:53.205 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_id
2024-12-04 22:15:53.206 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorName
2024-12-04 22:15:53.206 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.OnsalePo.creatorName, object  = null
2024-12-04 22:15:53.206 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_name
2024-12-04 22:15:53.206 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierId
2024-12-04 22:15:53.206 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.modifierId, object  = 4
2024-12-04 22:15:53.206 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_id
2024-12-04 22:15:53.206 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierName
2024-12-04 22:15:53.206 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.OnsalePo.modifierName, object  = null
2024-12-04 22:15:53.206 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_name
2024-12-04 22:15:53.206 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtCreate
2024-12-04 22:15:53.206 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.gmtCreate, object  = null
2024-12-04 22:15:53.207 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_create
2024-12-04 22:15:53.207 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtModified
2024-12-04 22:15:53.207 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.gmtModified, object  = 2024-12-04T22:15:53.204803300
2024-12-04 22:15:53.207 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_modified
2024-12-04 22:15:53.207 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopId
2024-12-04 22:15:53.207 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.shopId, object  = null
2024-12-04 22:15:53.207 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_id
2024-12-04 22:15:53.207 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getProductId
2024-12-04 22:15:53.207 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.productId, object  = null
2024-12-04 22:15:53.207 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = product_id
2024-12-04 22:15:53.207 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getPrice
2024-12-04 22:15:53.207 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.price, object  = null
2024-12-04 22:15:53.207 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = price
2024-12-04 22:15:53.208 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getBeginTime
2024-12-04 22:15:53.208 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.beginTime, object  = null
2024-12-04 22:15:53.208 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = begin_time
2024-12-04 22:15:53.208 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getEndTime
2024-12-04 22:15:53.208 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.endTime, object  = 2024-12-04T22:15:53.145805400
2024-12-04 22:15:53.208 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = end_time
2024-12-04 22:15:53.208 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getQuantity
2024-12-04 22:15:53.208 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Integer cn.edu.xmu.oomall.product.mapper.po.OnsalePo.quantity, object  = null
2024-12-04 22:15:53.208 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = quantity
2024-12-04 22:15:53.208 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getType
2024-12-04 22:15:53.208 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Byte cn.edu.xmu.oomall.product.mapper.po.OnsalePo.type, object  = null
2024-12-04 22:15:53.208 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = type
2024-12-04 22:15:53.209 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getMaxQuantity
2024-12-04 22:15:53.209 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Integer cn.edu.xmu.oomall.product.mapper.po.OnsalePo.maxQuantity, object  = null
2024-12-04 22:15:53.209 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = max_quantity
2024-12-04 22:15:53.209 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getPayTime
2024-12-04 22:15:53.209 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.payTime, object  = null
2024-12-04 22:15:53.209 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = pay_time
2024-12-04 22:15:53.209 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getDeposit
2024-12-04 22:15:53.209 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.deposit, object  = null
2024-12-04 22:15:53.209 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = deposit
2024-12-04 22:15:53.209 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : sql = update goods_onsale set modifier_id = 4, gmt_modified = '2024-12-04T22:15:53.204803300', end_time = '2024-12-04T22:15:53.145805400' where id = 119;
2024-12-04 22:15:53.261 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = deleteGrouponAct, code = OK
2024-12-04 22:15:53.424 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = deleteGrouponAct, paramNames = [shopId, id, userDto]
2024-12-04 22:15:53.425 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:53.425 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:15:53.425 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = userDto
2024-12-04 22:15:53.426 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=admin, departId=0, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:53.426 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/0/groupons/4
2024-12-04 22:15:53.426 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/0/groupons/4
2024-12-04 22:15:53.479 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1)
2024-12-04 22:15:53.481 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:15:53.482 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:15:53.528 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@64d9ce89
2024-12-04 22:15:53.529 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:53.529 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@3f8dfbc0, method = getActivity
2024-12-04 22:15:53.530 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:53.530 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@7e281050, method = findById
2024-12-04 22:15:53.530 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 4, page = 1, pageSize = 1000
2024-12-04 22:15:53.584 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = retrieveByActId
2024-12-04 22:15:53.585 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=119, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=40058, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=34, maxQuantity=10, shopId=2, productId=1668, type=0, deposit=0, payTime=null)]
2024-12-04 22:15:53.585 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - save: onsale=OnSale(super=OOMallObject(id=119, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=null, beginTime=null, endTime=2024-12-04T22:15:53.585937800, quantity=null, maxQuantity=null, shopId=null, productId=null, type=null, deposit=null, payTime=null)
2024-12-04 22:15:53.585 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - hasConflictOnsale: onsale = OnSale(super=OOMallObject(id=119, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=null, beginTime=null, endTime=2024-12-04T22:15:53.585937800, quantity=null, maxQuantity=null, shopId=null, productId=null, type=null, deposit=null, payTime=null)
2024-12-04 22:15:53.645 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: update obj
2024-12-04 22:15:53.645 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : className = cn.edu.xmu.oomall.product.mapper.po.OnsalePo
2024-12-04 22:15:53.645 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : table = goods_onsale
2024-12-04 22:15:53.645 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getId
2024-12-04 22:15:53.645 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.id, object  = 119
2024-12-04 22:15:53.645 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = id
2024-12-04 22:15:53.646 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorId
2024-12-04 22:15:53.646 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.creatorId, object  = null
2024-12-04 22:15:53.646 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_id
2024-12-04 22:15:53.646 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorName
2024-12-04 22:15:53.646 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.OnsalePo.creatorName, object  = null
2024-12-04 22:15:53.646 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_name
2024-12-04 22:15:53.646 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierId
2024-12-04 22:15:53.646 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.modifierId, object  = 4
2024-12-04 22:15:53.646 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_id
2024-12-04 22:15:53.646 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierName
2024-12-04 22:15:53.647 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.OnsalePo.modifierName, object  = null
2024-12-04 22:15:53.647 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_name
2024-12-04 22:15:53.647 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtCreate
2024-12-04 22:15:53.647 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.gmtCreate, object  = null
2024-12-04 22:15:53.647 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_create
2024-12-04 22:15:53.647 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtModified
2024-12-04 22:15:53.647 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.gmtModified, object  = 2024-12-04T22:15:53.644856800
2024-12-04 22:15:53.647 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_modified
2024-12-04 22:15:53.647 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopId
2024-12-04 22:15:53.647 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.shopId, object  = null
2024-12-04 22:15:53.647 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_id
2024-12-04 22:15:53.647 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getProductId
2024-12-04 22:15:53.648 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.productId, object  = null
2024-12-04 22:15:53.648 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = product_id
2024-12-04 22:15:53.648 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getPrice
2024-12-04 22:15:53.648 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.price, object  = null
2024-12-04 22:15:53.648 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = price
2024-12-04 22:15:53.648 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getBeginTime
2024-12-04 22:15:53.648 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.beginTime, object  = null
2024-12-04 22:15:53.648 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = begin_time
2024-12-04 22:15:53.648 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getEndTime
2024-12-04 22:15:53.648 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.endTime, object  = 2024-12-04T22:15:53.585937800
2024-12-04 22:15:53.648 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = end_time
2024-12-04 22:15:53.648 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getQuantity
2024-12-04 22:15:53.648 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Integer cn.edu.xmu.oomall.product.mapper.po.OnsalePo.quantity, object  = null
2024-12-04 22:15:53.649 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = quantity
2024-12-04 22:15:53.649 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getType
2024-12-04 22:15:53.649 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Byte cn.edu.xmu.oomall.product.mapper.po.OnsalePo.type, object  = null
2024-12-04 22:15:53.649 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = type
2024-12-04 22:15:53.649 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getMaxQuantity
2024-12-04 22:15:53.649 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Integer cn.edu.xmu.oomall.product.mapper.po.OnsalePo.maxQuantity, object  = null
2024-12-04 22:15:53.649 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = max_quantity
2024-12-04 22:15:53.649 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getPayTime
2024-12-04 22:15:53.649 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.payTime, object  = null
2024-12-04 22:15:53.649 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = pay_time
2024-12-04 22:15:53.649 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getDeposit
2024-12-04 22:15:53.649 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.deposit, object  = null
2024-12-04 22:15:53.649 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = deposit
2024-12-04 22:15:53.649 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : sql = update goods_onsale set modifier_id = 4, gmt_modified = '2024-12-04T22:15:53.644856800', end_time = '2024-12-04T22:15:53.585937800' where id = 119;
2024-12-04 22:15:53.702 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = deleteGrouponAct, code = OK
2024-12-04 22:15:53.874 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = retrieveByShopId, paramNames = [shopId, productId, status, page, pageSize]
2024-12-04 22:15:53.874 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:53.874 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = productId
2024-12-04 22:15:53.874 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = status
2024-12-04 22:15:53.874 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = page
2024-12-04 22:15:53.874 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:15:53.874 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = pageSize
2024-12-04 22:15:53.875 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:15:53.876 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=admin, departId=0, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:53.876 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/groupons
2024-12-04 22:15:53.876 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/groupons
2024-12-04 22:15:53.877 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: shopId = 2, productId = null, page = 1, pageSize= 10
2024-12-04 22:15:53.877 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: actClass & shopId & status
2024-12-04 22:15:53.939 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: pos size = 1
2024-12-04 22:15:53.939 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1)
2024-12-04 22:15:53.943 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:15:53.943 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:15:53.990 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@12d44584
2024-12-04 22:15:53.990 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:53.990 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@3f8dfbc0, method = getActivity
2024-12-04 22:15:53.991 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:54.001 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:54.001 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: actList_size = 1
2024-12-04 22:15:54.001 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@7e281050, method = retrieveByShopIdAndProductId
2024-12-04 22:15:54.001 [main] DEBUG c.e.x.o.product.controller.ShopGrouponController - retrieveByShopId: ret.size = 1
2024-12-04 22:15:54.001 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 4, page = 1, pageSize = 1000
2024-12-04 22:15:54.055 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = retrieveByActId
2024-12-04 22:15:54.055 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=119, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=40058, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=34, maxQuantity=10, shopId=2, productId=1668, type=0, deposit=0, payTime=null)]
2024-12-04 22:15:54.056 [main] DEBUG c.e.x.o.product.controller.ShopGrouponController - retrieveByShopId: dto = cn.edu.xmu.oomall.product.controller.vo.SimpleGrouponActVo@139ea2a6
2024-12-04 22:15:54.056 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = retrieveByShopId, code = OK
2024-12-04 22:15:54.229 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = createGrouponAct, paramNames = [shopId, pid, vo, user]
2024-12-04 22:15:54.229 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:54.230 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = pid
2024-12-04 22:15:54.230 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = vo
2024-12-04 22:15:54.230 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = user
2024-12-04 22:15:54.231 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=10, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:54.231 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/products/1551/groupons
2024-12-04 22:15:54.231 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/products/1551/groupons
2024-12-04 22:15:54.231 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 10
2024-12-04 22:15:54.231 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:54.232 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1551
2024-12-04 22:15:54.287 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:15:54.287 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = createGrouponAct, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:15:54.572 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = createGrouponAct, paramNames = [shopId, pid, vo, user]
2024-12-04 22:15:54.573 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:54.573 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = pid
2024-12-04 22:15:54.573 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = vo
2024-12-04 22:15:54.573 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = user
2024-12-04 22:15:54.574 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=10, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:54.575 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/products/1550/groupons
2024-12-04 22:15:54.575 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/products/1550/groupons
2024-12-04 22:15:54.575 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 10
2024-12-04 22:15:54.575 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:54.576 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1550
2024-12-04 22:15:54.630 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6be1ba6c, method = findNoOnsaleById
2024-12-04 22:15:54.630 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - insert: onsale=OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=10000, beginTime=2023-12-05T10:09:50, endTime=2032-12-05T10:09:50, quantity=10000, maxQuantity=1, shopId=10, productId=1550, type=2, deposit=0, payTime=null)
2024-12-04 22:15:54.631 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - hasConflictOnsale: onsale = OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=10000, beginTime=2023-12-05T10:09:50, endTime=2032-12-05T10:09:50, quantity=10000, maxQuantity=1, shopId=10, productId=1550, type=2, deposit=0, payTime=null)
2024-12-04 22:15:54.693 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - hasConflictOnsale: poList Size = 1, onsale's id = null
2024-12-04 22:15:54.694 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = GOODS_ONSALE_CONFLICT
2024-12-04 22:15:54.694 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = createGrouponAct, code = GOODS_ONSALE_CONFLICT
2024-12-04 22:15:54.872 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findGrouponById, paramNames = [shopId, actId]
2024-12-04 22:15:54.873 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:54.873 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = actId
2024-12-04 22:15:54.874 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=2, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:54.874 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/groupons/4
2024-12-04 22:15:54.875 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/groupons/4
2024-12-04 22:15:54.875 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 2
2024-12-04 22:15:54.875 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:54.928 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1)
2024-12-04 22:15:54.931 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:15:54.931 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:15:54.978 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@491bd99c
2024-12-04 22:15:54.978 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:54.979 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@3f8dfbc0, method = getActivity
2024-12-04 22:15:54.979 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:54.979 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@7e281050, method = findById
2024-12-04 22:15:54.980 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.openfeign.ShopDao@3f15269d, method = findById
2024-12-04 22:15:54.980 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 4, page = 1, pageSize = 1000
2024-12-04 22:15:55.033 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = retrieveByActId
2024-12-04 22:15:55.034 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=119, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=40058, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=34, maxQuantity=10, shopId=2, productId=1668, type=0, deposit=0, payTime=null)]
2024-12-04 22:15:55.219 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = retrieveByShopId, paramNames = [shopId, productId, status, page, pageSize]
2024-12-04 22:15:55.219 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:55.219 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = productId
2024-12-04 22:15:55.219 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = status
2024-12-04 22:15:55.220 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = page
2024-12-04 22:15:55.220 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:15:55.220 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = pageSize
2024-12-04 22:15:55.220 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:15:55.222 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=2, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:55.222 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/groupons
2024-12-04 22:15:55.222 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/groupons
2024-12-04 22:15:55.222 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 2
2024-12-04 22:15:55.222 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:55.223 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: shopId = 2, productId = null, page = 1, pageSize= 10
2024-12-04 22:15:55.223 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: actClass & shopId & status
2024-12-04 22:15:55.277 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: pos size = 1
2024-12-04 22:15:55.277 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1)
2024-12-04 22:15:55.280 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:15:55.280 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:15:55.333 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@5fa79345
2024-12-04 22:15:55.336 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:55.336 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@3f8dfbc0, method = getActivity
2024-12-04 22:15:55.337 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:55.337 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:15:55.337 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: actList_size = 1
2024-12-04 22:15:55.337 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@7e281050, method = retrieveByShopIdAndProductId
2024-12-04 22:15:55.337 [main] DEBUG c.e.x.o.product.controller.ShopGrouponController - retrieveByShopId: ret.size = 1
2024-12-04 22:15:55.338 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 4, page = 1, pageSize = 1000
2024-12-04 22:15:55.391 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = retrieveByActId
2024-12-04 22:15:55.391 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=119, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=40058, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=34, maxQuantity=10, shopId=2, productId=1668, type=0, deposit=0, payTime=null)]
2024-12-04 22:15:55.392 [main] DEBUG c.e.x.o.product.controller.ShopGrouponController - retrieveByShopId: dto = cn.edu.xmu.oomall.product.controller.vo.SimpleGrouponActVo@5ff09e6
2024-12-04 22:15:55.392 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = retrieveByShopId, code = OK
2024-12-04 22:15:55.557 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = createGrouponAct, paramNames = [shopId, pid, id, vo, user]
2024-12-04 22:15:55.557 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:15:55.557 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = pid
2024-12-04 22:15:55.558 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = id
2024-12-04 22:15:55.558 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = vo
2024-12-04 22:15:55.558 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = user
2024-12-04 22:15:55.559 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=2, expireTime=Wed Dec 04 23:15:47 CST 2024, userLevel=1)
2024-12-04 22:15:55.559 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/products/1668/groupons/1000
2024-12-04 22:15:55.559 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/products/1668/groupons/1000
2024-12-04 22:15:55.559 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 2
2024-12-04 22:15:55.559 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:15:55.611 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:15:55.612 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = createGrouponAct, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:15:55.728 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:15:55.728 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=wt departId=2 tokenId:202412042215557WFA
2024-12-04 22:15:58.557 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service] & group[DEFAULT_GROUP]
2024-12-04 22:15:58.613 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:15:58.668 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service-prod.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:15:58.668 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-product-service-prod.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service,DEFAULT_GROUP'}]
2024-12-04 22:15:58.678 [main] INFO  c.e.x.o.p.c.AdminGrouponActControllerWithProductMockTest - The following 1 profile is active: "prod"
2024-12-04 22:15:59.436 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:15:59.436 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-04 22:15:59.461 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 6 JPA repository interfaces.
2024-12-04 22:15:59.462 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:15:59.462 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-12-04 22:15:59.477 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 2 MongoDB repository interfaces.
2024-12-04 22:16:00.060 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[cn.edu.xmu.oomall.product]' package. Please check your configuration.
2024-12-04 22:16:00.069 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=f4e34340-7d00-3f01-af0d-61dfd90c1a34
2024-12-04 22:16:00.358 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:00.364 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:00.367 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:00.374 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:00.377 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:00.379 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$1213/0x00000211188e2de8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:00.385 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:00.395 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:00.398 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:00.786 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-4} inited
2024-12-04 22:16:01.328 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-04 22:16:01.335 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-12-04 22:16:01.355 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-04 22:16:01.713 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-04 22:16:01.714 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:16:02.495 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-04 22:16:02.554 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'shop-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:16:02.611 [main] DEBUG cn.edu.xmu.oomall.product.config.ProductConfig - snowFlakeIdWorker: ip = 192.168.56.1
2024-12-04 22:16:02.668 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'elasticsearch-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:16:02.699 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:02.699 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:02.699 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:02.699 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:02.714 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo1:27017 to client view of cluster
2024-12-04 22:16:02.715 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:02.715 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:02.720 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo2:27017 to client view of cluster
2024-12-04 22:16:02.722 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo3:27017 to client view of cluster
2024-12-04 22:16:02.726 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/17.0.10+11-LTS-240"} created with settings MongoClientSettings{readPreference=ReadPreference{name=nearest, hedgeOptions=null}, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='demouser', source='oomall', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[cn.edu.xmu.oomall.product.config.MongoCommandLogger@e9ae844], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@399a27c0, com.mongodb.Jep395RecordCodecProvider@54baa076, com.mongodb.KotlinCodecProvider@3065d07d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[mongo1:27017, mongo2:27017, mongo3:27017], srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='rs0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-12-04 22:16:02.820 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo3:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47118500, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:15:51 CST 2024, lastUpdateTimeNanos=46954828264100}
2024-12-04 22:16:02.820 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=49431300, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:15:51 CST 2024, lastUpdateTimeNanos=46954828542900}
2024-12-04 22:16:02.821 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:02.822 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:02.822 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:02.879 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'freight-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:16:05.856 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:05.857 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:05.857 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:05.857 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:05.857 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:05.857 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:06.617 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:06.618 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:09.120 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (goods-producer) init on namesrv rocketmq-namesrv:9876
2024-12-04 22:16:09.496 [main] INFO  o.s.b.test.mock.web.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-12-04 22:16:09.496 [main] INFO  o.s.test.web.servlet.TestDispatcherServlet - Initializing Servlet ''
2024-12-04 22:16:09.503 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2024-12-04 22:16:09.520 [main] INFO  o.s.test.web.servlet.TestDispatcherServlet - Completed initialization in 24 ms
2024-12-04 22:16:09.919 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-12-04 22:16:10.004 [main] INFO  c.e.x.o.p.c.AdminGrouponActControllerWithProductMockTest - Started AdminGrouponActControllerWithProductMockTest in 14.273 seconds (process running for 106.572)
2024-12-04 22:16:10.005 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:16:10.005 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:2024120422161008OA
2024-12-04 22:16:10.005 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - admin token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsImRlcGFydElkIjowLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE2MTAwOE9BIiwidXNlck5hbWUiOiIxMzA4OGFkbWluIiwidXNlckxldmVsIjoxLCJpc3MiOiJPT0FEIiwic3ViIjoidGhpcyBpcyBhIHRva2VuIiwiYXVkIjoiTUlOSUFQUCIsImlhdCI6MTczMzMyMTc3MCwiZXhwIjoxNzMzMzI1MzcwfQ.v4YShGCofOtg1swdNlNUz-7C6Su1D76d-1zbXf7lTM0
2024-12-04 22:16:10.006 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:16:10.006 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 2 userName=shop1 departId=1 tokenId:202412042216100VVA
2024-12-04 22:16:10.006 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - shop 1 token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjIsImRlcGFydElkIjoxLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE2MTAwVlZBIiwidXNlck5hbWUiOiJzaG9wMSIsInVzZXJMZXZlbCI6MSwiaXNzIjoiT09BRCIsInN1YiI6InRoaXMgaXMgYSB0b2tlbiIsImF1ZCI6Ik1JTklBUFAiLCJpYXQiOjE3MzMzMjE3NzAsImV4cCI6MTczMzMyNTM3MH0.awYFlhfBSgzLudjr5toLhMjgmRGsEH6vrR3J-pLaXMs
2024-12-04 22:16:10.006 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service-prod.yaml, group=DEFAULT_GROUP, cnt=4
2024-12-04 22:16:10.006 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service-prod.yaml, group=DEFAULT_GROUP
2024-12-04 22:16:10.006 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service, group=DEFAULT_GROUP, cnt=4
2024-12-04 22:16:10.006 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service, group=DEFAULT_GROUP
2024-12-04 22:16:10.006 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service.yaml, group=DEFAULT_GROUP, cnt=4
2024-12-04 22:16:10.006 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service.yaml, group=DEFAULT_GROUP
2024-12-04 22:16:10.086 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = createGrouponAct, paramNames = [shopId, pid, id, vo, user]
2024-12-04 22:16:10.086 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:16:10.086 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = pid
2024-12-04 22:16:10.086 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = id
2024-12-04 22:16:10.086 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = vo
2024-12-04 22:16:10.086 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = user
2024-12-04 22:16:10.087 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=2, expireTime=Wed Dec 04 23:15:55 CST 2024, userLevel=1)
2024-12-04 22:16:10.087 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/products/9999/groupons/4
2024-12-04 22:16:10.087 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/products/9999/groupons/4
2024-12-04 22:16:10.087 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 2
2024-12-04 22:16:10.087 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:16:10.088 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@5e11bea7, method = findById
2024-12-04 22:16:10.089 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 4, page = 1, pageSize = 1000
2024-12-04 22:16:10.137 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@3161b55d, method = retrieveByActId
2024-12-04 22:16:10.137 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=119, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=40058, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=34, maxQuantity=10, shopId=2, productId=1668, type=0, deposit=0, payTime=null)]
2024-12-04 22:16:10.137 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - insert: onsale=OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=10000, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=10000, maxQuantity=1, shopId=2, productId=9999, type=0, deposit=0, payTime=null)
2024-12-04 22:16:10.138 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - hasConflictOnsale: onsale = OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=10000, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=10000, maxQuantity=1, shopId=2, productId=9999, type=0, deposit=0, payTime=null)
2024-12-04 22:16:10.194 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: insert obj
2024-12-04 22:16:10.244 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - insert: newPo=OnsalePo(id=8667, creatorId=1, creatorName=wt, modifierId=null, modifierName=null, gmtCreate=2024-12-04T22:16:10.193074100, gmtModified=null, shopId=2, productId=9999, price=10000, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=10000, type=0, maxQuantity=1, payTime=null, deposit=0)
2024-12-04 22:16:10.245 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@3161b55d, method = insert
2024-12-04 22:16:10.245 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - insertActivityOnsale: activityOnsalePo = ActivityOnsalePo(id=null, actId=4, onsaleId=8667, creatorId=1, creatorName=wt, modifierId=null, modifierName=null, gmtCreate=2024-12-04T22:16:10.245164200, gmtModified=null)
2024-12-04 22:16:10.246 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: insert obj
2024-12-04 22:16:10.296 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@5e11bea7, method = insertActivityOnsale
2024-12-04 22:16:10.296 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = createGrouponAct, code = CREATED
2024-12-04 22:16:10.444 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = createGrouponAct, paramNames = [shopId, pid, id, vo, user]
2024-12-04 22:16:10.444 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:16:10.444 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = pid
2024-12-04 22:16:10.444 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = id
2024-12-04 22:16:10.444 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = vo
2024-12-04 22:16:10.444 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = user
2024-12-04 22:16:10.445 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=wt, departId=2, expireTime=Wed Dec 04 23:15:55 CST 2024, userLevel=1)
2024-12-04 22:16:10.446 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/products/9999/groupons/4
2024-12-04 22:16:10.446 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/products/9999/groupons/4
2024-12-04 22:16:10.447 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 2
2024-12-04 22:16:10.447 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:16:10.498 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1)
2024-12-04 22:16:10.657 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:10.657 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:16:10.710 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@6bfa66c5
2024-12-04 22:16:10.710 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:16:10.711 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@c941bb8, method = getActivity
2024-12-04 22:16:10.711 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:16:10.711 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@5e11bea7, method = findById
2024-12-04 22:16:10.711 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 4, page = 1, pageSize = 1000
2024-12-04 22:16:10.758 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@3161b55d, method = retrieveByActId
2024-12-04 22:16:10.759 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=119, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=40058, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=34, maxQuantity=10, shopId=2, productId=1668, type=0, deposit=0, payTime=null)]
2024-12-04 22:16:10.759 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - insert: onsale=OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=10000, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=10000, maxQuantity=1, shopId=2, productId=9999, type=0, deposit=0, payTime=null)
2024-12-04 22:16:10.759 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - hasConflictOnsale: onsale = OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=10000, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=10000, maxQuantity=1, shopId=2, productId=9999, type=0, deposit=0, payTime=null)
2024-12-04 22:16:10.813 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: insert obj
2024-12-04 22:16:10.860 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - insert: newPo=OnsalePo(id=8668, creatorId=1, creatorName=wt, modifierId=null, modifierName=null, gmtCreate=2024-12-04T22:16:10.812804600, gmtModified=null, shopId=2, productId=9999, price=10000, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=10000, type=0, maxQuantity=1, payTime=null, deposit=0)
2024-12-04 22:16:10.861 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@3161b55d, method = insert
2024-12-04 22:16:10.861 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - insertActivityOnsale: activityOnsalePo = ActivityOnsalePo(id=null, actId=4, onsaleId=8668, creatorId=1, creatorName=wt, modifierId=null, modifierName=null, gmtCreate=2024-12-04T22:16:10.861807600, gmtModified=null)
2024-12-04 22:16:10.861 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: insert obj
2024-12-04 22:16:10.908 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@5e11bea7, method = insertActivityOnsale
2024-12-04 22:16:10.908 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = createGrouponAct, code = CREATED
2024-12-04 22:16:11.012 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:16:11.012 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:202412042216110G7A
2024-12-04 22:16:11.013 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:16:11.014 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=shop1 departId=1 tokenId:2024120422161104GA
2024-12-04 22:16:11.879 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service] & group[DEFAULT_GROUP]
2024-12-04 22:16:11.931 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:16:11.983 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service-prod.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:16:11.984 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-product-service-prod.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service,DEFAULT_GROUP'}]
2024-12-04 22:16:11.989 [main] INFO  c.e.x.o.product.controller.CategoryControllerTest - The following 1 profile is active: "prod"
2024-12-04 22:16:12.240 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:16:12.240 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-04 22:16:12.254 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 6 JPA repository interfaces.
2024-12-04 22:16:12.254 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:16:12.254 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-12-04 22:16:12.260 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 2 MongoDB repository interfaces.
2024-12-04 22:16:12.440 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[cn.edu.xmu.oomall.product]' package. Please check your configuration.
2024-12-04 22:16:12.443 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=f4e34340-7d00-3f01-af0d-61dfd90c1a34
2024-12-04 22:16:12.481 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:12.484 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:12.485 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:12.489 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:12.491 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:12.492 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$1213/0x00000211188e2de8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:12.495 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:12.500 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:12.501 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:12.644 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-5} inited
2024-12-04 22:16:12.703 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:12.704 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:12.705 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:12.705 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:12.727 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo2:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:86)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:86)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:201)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:551)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:105)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:80)
	... 4 common frames omitted
2024-12-04 22:16:12.729 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:12.729 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:12.877 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:12.877 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:13.171 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-04 22:16:13.177 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-12-04 22:16:13.193 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-04 22:16:13.360 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-04 22:16:13.360 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:16:13.612 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-04 22:16:13.652 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'shop-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:16:13.677 [main] DEBUG cn.edu.xmu.oomall.product.config.ProductConfig - snowFlakeIdWorker: ip = 192.168.56.1
2024-12-04 22:16:13.712 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'elasticsearch-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:16:13.737 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo1:27017 to client view of cluster
2024-12-04 22:16:13.739 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo2:27017 to client view of cluster
2024-12-04 22:16:13.741 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo3:27017 to client view of cluster
2024-12-04 22:16:13.745 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/17.0.10+11-LTS-240"} created with settings MongoClientSettings{readPreference=ReadPreference{name=nearest, hedgeOptions=null}, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='demouser', source='oomall', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[cn.edu.xmu.oomall.product.config.MongoCommandLogger@1e23f4b4], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@399a27c0, com.mongodb.Jep395RecordCodecProvider@54baa076, com.mongodb.KotlinCodecProvider@3065d07d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[mongo1:27017, mongo2:27017, mongo3:27017], srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='rs0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-12-04 22:16:13.841 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46360500, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:16:06 CST 2024, lastUpdateTimeNanos=46965849835000}
2024-12-04 22:16:13.842 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:13.855 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo2:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48769300, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:16:06 CST 2024, lastUpdateTimeNanos=46965863251000}
2024-12-04 22:16:13.857 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:13.857 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:13.869 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'freight-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:16:15.903 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:15.903 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:15.903 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:15.903 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:16.623 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:16.623 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:19.552 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (goods-producer) init on namesrv rocketmq-namesrv:9876
2024-12-04 22:16:19.928 [main] INFO  o.s.b.test.mock.web.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-12-04 22:16:19.928 [main] INFO  o.s.test.web.servlet.TestDispatcherServlet - Initializing Servlet ''
2024-12-04 22:16:19.933 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2024-12-04 22:16:19.953 [main] INFO  o.s.test.web.servlet.TestDispatcherServlet - Completed initialization in 24 ms
2024-12-04 22:16:20.319 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-12-04 22:16:20.402 [main] INFO  c.e.x.o.product.controller.CategoryControllerTest - Started CategoryControllerTest in 9.386 seconds (process running for 116.971)
2024-12-04 22:16:20.403 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:16:20.403 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:202412042216204U6A
2024-12-04 22:16:20.404 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - admin token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsImRlcGFydElkIjowLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE2MjA0VTZBIiwidXNlck5hbWUiOiIxMzA4OGFkbWluIiwidXNlckxldmVsIjoxLCJpc3MiOiJPT0FEIiwic3ViIjoidGhpcyBpcyBhIHRva2VuIiwiYXVkIjoiTUlOSUFQUCIsImlhdCI6MTczMzMyMTc4MCwiZXhwIjoxNzMzMzI1MzgwfQ.0JpWGJpuLQe3KaQSty9OPzDQv6qqDkTywqOnVrZjUWw
2024-12-04 22:16:20.404 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:16:20.404 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 2 userName=shop1 departId=1 tokenId:2024120422162041MA
2024-12-04 22:16:20.404 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - shop 1 token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjIsImRlcGFydElkIjoxLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE2MjA0MU1BIiwidXNlck5hbWUiOiJzaG9wMSIsInVzZXJMZXZlbCI6MSwiaXNzIjoiT09BRCIsInN1YiI6InRoaXMgaXMgYSB0b2tlbiIsImF1ZCI6Ik1JTklBUFAiLCJpYXQiOjE3MzMzMjE3ODAsImV4cCI6MTczMzMyNTM4MH0.EFTvY5cspTe0lJSByYaM4y4Yc9QPKs6V4wofixe4zSM
2024-12-04 22:16:20.404 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service-prod.yaml, group=DEFAULT_GROUP, cnt=5
2024-12-04 22:16:20.404 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service-prod.yaml, group=DEFAULT_GROUP
2024-12-04 22:16:20.404 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service, group=DEFAULT_GROUP, cnt=5
2024-12-04 22:16:20.405 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service, group=DEFAULT_GROUP
2024-12-04 22:16:20.405 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service.yaml, group=DEFAULT_GROUP, cnt=5
2024-12-04 22:16:20.405 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service.yaml, group=DEFAULT_GROUP
2024-12-04 22:16:21.089 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getSubCategories, paramNames = [id]
2024-12-04 22:16:21.090 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:16:21.090 [main] DEBUG cn.edu.xmu.oomall.product.service.CategoryService - getSubCategories: id = 186
2024-12-04 22:16:21.138 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.CategoryDao@4b33cd98, method = findById
2024-12-04 22:16:21.185 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getSubCategories, code = OK
2024-12-04 22:16:21.921 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getStates, paramNames = []
2024-12-04 22:16:21.923 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getStates, code = OK
2024-12-04 22:16:22.021 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getSubCategories, paramNames = [id]
2024-12-04 22:16:22.021 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:16:22.021 [main] DEBUG cn.edu.xmu.oomall.product.service.CategoryService - getSubCategories: id = 1
2024-12-04 22:16:22.022 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.CategoryDao@4b33cd98, method = findById
2024-12-04 22:16:22.073 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getSubCategories, code = OK
2024-12-04 22:16:22.426 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getSubCategories, paramNames = [id]
2024-12-04 22:16:22.426 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:16:22.427 [main] DEBUG cn.edu.xmu.oomall.product.service.CategoryService - getSubCategories: id = 1
2024-12-04 22:16:22.427 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getSubCategories, code = OK
2024-12-04 22:16:22.706 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:22.706 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:22.713 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:22.714 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:22.716 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getSubCategories, paramNames = [id]
2024-12-04 22:16:22.717 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:16:22.717 [main] DEBUG cn.edu.xmu.oomall.product.service.CategoryService - getSubCategories: id = 1
2024-12-04 22:16:22.736 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:22.736 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:22.767 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.CategoryDao@4b33cd98, method = findById
2024-12-04 22:16:22.818 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getSubCategories, code = OK
2024-12-04 22:16:22.831 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo2:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47674200, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:16:16 CST 2024, lastUpdateTimeNanos=46974839595800}
2024-12-04 22:16:22.832 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:22.833 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:22.881 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:22.881 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:22.884 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:22.884 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:22.961 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getSubCategories, paramNames = [id]
2024-12-04 22:16:22.961 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:16:22.962 [main] DEBUG cn.edu.xmu.oomall.product.service.CategoryService - getSubCategories: id = 20
2024-12-04 22:16:23.010 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:16:23.010 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getSubCategories, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:16:23.308 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:16:23.309 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:202412042216233GCA
2024-12-04 22:16:23.362 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findCouponActProductById, paramNames = [id, page, pageSize]
2024-12-04 22:16:23.362 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:16:23.362 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = page
2024-12-04 22:16:23.362 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:16:23.362 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = pageSize
2024-12-04 22:16:23.362 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:16:23.408 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:16:23.409 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findCouponActProductById, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:16:23.559 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findAllOnlineCouponActivities, paramNames = [shopId, productId, beginTime, endTime, page, pageSize]
2024-12-04 22:16:23.559 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:16:23.559 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = productId
2024-12-04 22:16:23.559 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = beginTime
2024-12-04 22:16:23.559 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set beginTime to 2024-11-04T22:15:29.287147500
2024-12-04 22:16:23.561 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = endTime
2024-12-04 22:16:23.561 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set endTime to 2024-12-04T22:15:29.287147500
2024-12-04 22:16:23.562 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = page
2024-12-04 22:16:23.562 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:16:23.562 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[5] = pageSize
2024-12-04 22:16:23.562 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:16:23.562 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: shopId is null
2024-12-04 22:16:23.614 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: pos size = 0
2024-12-04 22:16:23.614 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@8daaa74, method = retrieveValidByShopIdAndProductId
2024-12-04 22:16:23.614 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findAllOnlineCouponActivities, code = OK
2024-12-04 22:16:23.757 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo3:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:86)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:86)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:201)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:551)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:105)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:80)
	... 4 common frames omitted
2024-12-04 22:16:23.758 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findAllOnlineCouponActivities, paramNames = [shopId, productId, beginTime, endTime, page, pageSize]
2024-12-04 22:16:23.759 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:16:23.759 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = productId
2024-12-04 22:16:23.759 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = beginTime
2024-12-04 22:16:23.759 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set beginTime to 2024-11-04T22:15:29.287147500
2024-12-04 22:16:23.759 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = endTime
2024-12-04 22:16:23.759 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set endTime to 2024-12-04T22:15:29.287147500
2024-12-04 22:16:23.759 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = page
2024-12-04 22:16:23.759 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:16:23.759 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[5] = pageSize
2024-12-04 22:16:23.759 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:16:23.760 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: shopId = 2
2024-12-04 22:16:23.811 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: pos size = 0
2024-12-04 22:16:23.811 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@8daaa74, method = retrieveValidByShopIdAndProductId
2024-12-04 22:16:23.811 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findAllOnlineCouponActivities, code = OK
2024-12-04 22:16:23.894 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:23.895 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:23.910 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:23.911 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:23.962 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findAllOnlineCouponActivities, paramNames = [shopId, productId, beginTime, endTime, page, pageSize]
2024-12-04 22:16:23.962 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:16:23.962 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = productId
2024-12-04 22:16:23.962 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = beginTime
2024-12-04 22:16:23.962 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set beginTime to 2024-11-04T22:15:29.287147500
2024-12-04 22:16:23.962 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = endTime
2024-12-04 22:16:23.962 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = page
2024-12-04 22:16:23.962 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:16:23.962 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[5] = pageSize
2024-12-04 22:16:23.963 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:16:23.963 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: shopId is null
2024-12-04 22:16:24.014 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: pos size = 10
2024-12-04 22:16:24.015 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=9, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=跨2类减10元, objectId=657301e6186c151467fe00db, actClass=couponActDao, status=1)
2024-12-04 22:16:24.016 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=9, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=跨2类减10元, objectId=657301e6186c151467fe00db, actClass=couponActDao, status=1)
2024-12-04 22:16:25.943 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:25.943 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:25.943 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:25.943 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:25.944 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:25.944 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:26.407 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo2:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=44290800, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:16:26 CST 2024, lastUpdateTimeNanos=46978414866900}
2024-12-04 22:16:26.407 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:26.408 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:26.633 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:26.634 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:26.634 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:26.635 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:32.761 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:32.761 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:32.762 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:32.762 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:32.762 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:32.762 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:32.889 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:32.890 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:32.890 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:32.890 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:33.898 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:33.899 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:33.920 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:33.920 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:34.033 [main] INFO  org.mongodb.driver.cluster - Waiting for server to become available for operation with ID 94. Remaining time: 30000 ms. Selector: ReadPreferenceServerSelector{readPreference=ReadPreference{name=nearest, hedgeOptions=null}}, topology description: {type=REPLICA_SET, servers=[{address=mongo3:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, {address=mongo2:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, {address=mongo1:27017, type=UNKNOWN, state=CONNECTING}].
2024-12-04 22:16:34.630 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo2:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47008100, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:16:26 CST 2024, lastUpdateTimeNanos=46986638070500}
2024-12-04 22:16:34.631 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:35.853 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:35.854 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:35.868 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:35.868 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:35.876 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:35.877 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:36.492 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:36.493 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:36.694 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:36.695 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:36.695 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:36.695 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:42.736 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:42.737 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:42.737 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:42.737 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:42.750 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:42.750 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:42.890 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:42.891 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:42.899 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:42.900 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:42.900 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:42.900 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:43.944 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:43.945 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:44.637 [main] ERROR cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@19291431, method = getActivity, e = {}
org.springframework.dao.DataAccessResourceFailureException: Exception opening socket
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:3008)
	at org.springframework.data.mongodb.core.MongoTemplate.executeFindOneInternal(MongoTemplate.java:2891)
	at org.springframework.data.mongodb.core.MongoTemplate.doFindOne(MongoTemplate.java:2546)
	at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:819)
	at org.springframework.data.mongodb.repository.support.SimpleMongoRepository.findById(SimpleMongoRepository.java:127)
	at jdk.internal.reflect.GeneratedMethodAccessor120.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:173)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:148)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.mongodb.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:158)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy226.findById(Unknown Source)
	at jdk.internal.reflect.GeneratedMethodAccessor119.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy226.findById(Unknown Source)
	at cn.edu.xmu.oomall.product.dao.activity.CouponActDao.getActivity(CouponActDao.java:39)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.edu.xmu.javaee.core.aop.DaoAspect.doAround(DaoAspect.java:29)
	at jdk.internal.reflect.GeneratedMethodAccessor97.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.dao.activity.CouponActDao$$SpringCGLIB$$0.getActivity(<generated>)
	at cn.edu.xmu.oomall.product.dao.activity.ActivityDao.build(ActivityDao.java:79)
	at cn.edu.xmu.oomall.product.dao.activity.ActivityDao.lambda$retrieveValidByShopIdAndProductId$3(ActivityDao.java:345)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at cn.edu.xmu.oomall.product.dao.activity.ActivityDao.retrieveValidByShopIdAndProductId(ActivityDao.java:348)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.edu.xmu.javaee.core.aop.DaoAspect.doAround(DaoAspect.java:29)
	at jdk.internal.reflect.GeneratedMethodAccessor97.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.dao.activity.ActivityDao$$SpringCGLIB$$0.retrieveValidByShopIdAndProductId(<generated>)
	at cn.edu.xmu.oomall.product.service.CouponActService.retrieveValidByShopIdAndProductIdAndTime(CouponActService.java:143)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.service.CouponActService$$SpringCGLIB$$0.retrieveValidByShopIdAndProductIdAndTime(<generated>)
	at cn.edu.xmu.oomall.product.controller.CouponActController.findAllOnlineCouponActivities(CouponActController.java:76)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:102)
	at cn.edu.xmu.javaee.core.aop.ControllerAspect.doAround(ControllerAspect.java:61)
	at jdk.internal.reflect.GeneratedMethodAccessor98.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.controller.CouponActController$$SpringCGLIB$$0.findAllOnlineCouponActivities(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at cn.edu.xmu.oomall.product.controller.CouponActControllerTest.findAllOnlineCouponActivitiesTest3(CouponActControllerTest.java:102)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:86)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:86)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:201)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.open(UsageTrackingInternalConnection.java:55)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.open(DefaultConnectionPool.java:625)
	at com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openWithConcurrencyLimit(DefaultConnectionPool.java:965)
	at com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openOrGetAvailable(DefaultConnectionPool.java:906)
	at com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:203)
	at com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:192)
	at com.mongodb.internal.connection.DefaultServer.getConnection(DefaultServer.java:96)
	at com.mongodb.internal.binding.ClusterBinding$ClusterBindingConnectionSource.getConnection(ClusterBinding.java:178)
	at com.mongodb.client.internal.ClientSessionBinding$SessionBindingConnectionSource.getConnection(ClientSessionBinding.java:196)
	at com.mongodb.internal.operation.SyncOperationHelper.withSuppliedResource(SyncOperationHelper.java:141)
	at com.mongodb.internal.operation.SyncOperationHelper.lambda$withSourceAndConnection$1(SyncOperationHelper.java:123)
	at com.mongodb.internal.operation.SyncOperationHelper.withSuppliedResource(SyncOperationHelper.java:149)
	at com.mongodb.internal.operation.SyncOperationHelper.withSourceAndConnection(SyncOperationHelper.java:122)
	at com.mongodb.internal.operation.FindOperation.lambda$execute$2(FindOperation.java:310)
	at com.mongodb.internal.operation.SyncOperationHelper.lambda$decorateReadWithRetries$12(SyncOperationHelper.java:289)
	at com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:67)
	at com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:321)
	at com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:71)
	at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:153)
	at com.mongodb.client.internal.FindIterableImpl.first(FindIterableImpl.java:206)
	at org.springframework.data.mongodb.core.MongoTemplate$FindOneCallback.doInCollection(MongoTemplate.java:3048)
	at org.springframework.data.mongodb.core.MongoTemplate$FindOneCallback.doInCollection(MongoTemplate.java:3022)
	at org.springframework.data.mongodb.core.MongoTemplate.executeFindOneInternal(MongoTemplate.java:2888)
	... 250 common frames omitted
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:551)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:105)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:80)
	... 274 common frames omitted
2024-12-04 22:16:44.640 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = INTERNAL_SERVER_ERR
2024-12-04 22:16:44.641 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findAllOnlineCouponActivities, code = INTERNAL_SERVER_ERR
2024-12-04 22:16:44.801 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findAllOnlineCouponActivities, paramNames = [shopId, productId, beginTime, endTime, page, pageSize]
2024-12-04 22:16:44.801 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:16:44.801 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = productId
2024-12-04 22:16:44.801 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = beginTime
2024-12-04 22:16:44.801 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set beginTime to 2024-11-04T22:15:29.287147500
2024-12-04 22:16:44.802 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = endTime
2024-12-04 22:16:44.802 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = page
2024-12-04 22:16:44.802 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:16:44.802 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[5] = pageSize
2024-12-04 22:16:44.802 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:16:44.802 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: productId = 1678
2024-12-04 22:16:44.860 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: pos size = 2
2024-12-04 22:16:44.860 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=跨2类9折, objectId=65730218f527a2548b1977d8, actClass=couponActDao, status=1)
2024-12-04 22:16:44.861 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=跨2类9折, objectId=65730218f527a2548b1977d8, actClass=couponActDao, status=1)
2024-12-04 22:16:45.002 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:45.002 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:16:45.051 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:65730218f527a2548b1977d8
2024-12-04 22:16:45.052 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=跨2类9折, objectId=65730218f527a2548b1977d8, actClass=couponActDao, status=1)
2024-12-04 22:16:45.053 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:45.053 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:16:45.097 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=65730218f527a2548b1977d8, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":90,"couponLimitation":{"value":2,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CrossCategoryLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PercentageCouponDiscount"})]
2024-12-04 22:16:45.109 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=跨2类9折, objectId=65730218f527a2548b1977d8, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())
2024-12-04 22:16:45.110 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@19291431, method = getActivity
2024-12-04 22:16:45.110 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=跨2类9折, objectId=65730218f527a2548b1977d8, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())
2024-12-04 22:16:45.110 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: bo = CouponAct(super=Activity(super=OOMallObject(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=跨2类9折, objectId=65730218f527a2548b1977d8, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())
2024-12-04 22:16:45.110 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:16:45.111 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:16:45.112 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:45.112 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:16:45.155 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:65730693e61c0b69ba4dc049
2024-12-04 22:16:45.156 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:16:45.157 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:45.157 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:16:45.200 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=65730693e61c0b69ba4dc049, couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy={"value":90,"couponLimitation":{"value":0,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.ComplexCouponLimitation","couponLimitationList":[{"value":3,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.AmountCouponLimitation"},{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"}]},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PercentageCouponDiscount"})]
2024-12-04 22:16:45.208 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:16:45.209 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@19291431, method = getActivity
2024-12-04 22:16:45.209 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:16:45.209 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:16:45.209 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@8daaa74, method = retrieveValidByShopIdAndProductId
2024-12-04 22:16:45.210 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findAllOnlineCouponActivities, code = OK
2024-12-04 22:16:45.357 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findCouponActById, paramNames = [id]
2024-12-04 22:16:45.357 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:16:45.404 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=11, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-28T15:40:45, gmtModified=null, shopId=7, name=跨2类最便宜的打5折, objectId=657302321a75f773e8ea8156, actClass=couponActDao, status=1)
2024-12-04 22:16:45.404 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=11, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-28T15:40:45, gmtModified=null, shopId=7, name=跨2类最便宜的打5折, objectId=657302321a75f773e8ea8156, actClass=couponActDao, status=1)
2024-12-04 22:16:45.405 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:45.405 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:16:45.448 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:657302321a75f773e8ea8156
2024-12-04 22:16:45.448 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=11, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-28T15:40:45, gmtModified=null, shopId=7, name=跨2类最便宜的打5折, objectId=657302321a75f773e8ea8156, actClass=couponActDao, status=1)
2024-12-04 22:16:45.449 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:45.450 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:16:45.492 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=657302321a75f773e8ea8156, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":2,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CrossCategoryLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})]
2024-12-04 22:16:45.497 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=11, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-28T15:40:45, gmtModified=null), shopId=7, name=跨2类最便宜的打5折, objectId=657302321a75f773e8ea8156, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:16:45.498 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@19291431, method = getActivity
2024-12-04 22:16:45.498 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=11, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-28T15:40:45, gmtModified=null), shopId=7, name=跨2类最便宜的打5折, objectId=657302321a75f773e8ea8156, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:16:45.498 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@8daaa74, method = findById
2024-12-04 22:16:45.500 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findCouponActById, code = OK
2024-12-04 22:16:45.661 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = cacuCoupon, paramNames = [id, orderInfoDtoList]
2024-12-04 22:16:45.661 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:16:45.661 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = orderInfoDtoList
2024-12-04 22:16:45.712 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1)
2024-12-04 22:16:45.713 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1)
2024-12-04 22:16:45.714 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:45.714 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:16:45.761 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:657300a17077a872bd9852fe
2024-12-04 22:16:45.762 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1)
2024-12-04 22:16:45.763 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:45.763 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:16:45.808 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=657300a17077a872bd9852fe, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":3,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.AmountCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})]
2024-12-04 22:16:45.816 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:16:45.816 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@19291431, method = getActivity
2024-12-04 22:16:45.817 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:16:45.817 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@8daaa74, method = findById
2024-12-04 22:16:45.817 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =1
2024-12-04 22:16:45.857 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:45.857 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:45.866 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = findById
2024-12-04 22:16:45.866 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 1
2024-12-04 22:16:45.887 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:45.892 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:45.892 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:45.893 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:45.915 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@2c14ec2, method = findByOnsale
2024-12-04 22:16:45.915 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@d2cd457
2024-12-04 22:16:45.915 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 1
2024-12-04 22:16:45.915 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =1
2024-12-04 22:16:45.916 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = findById
2024-12-04 22:16:45.916 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=53295, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=2000, maxQuantity=50, shopId=10, productId=1550, type=0, deposit=0, payTime=null)
2024-12-04 22:16:45.917 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=53295, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=2000, maxQuantity=50, shopId=10, productId=1550, type=0, deposit=0, payTime=null)
2024-12-04 22:16:45.917 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:16:45.964 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = findById
2024-12-04 22:16:45.964 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 2
2024-12-04 22:16:46.010 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@2c14ec2, method = findByOnsale
2024-12-04 22:16:46.010 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@68b1cb92
2024-12-04 22:16:46.010 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 2
2024-12-04 22:16:46.010 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:16:46.011 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = findById
2024-12-04 22:16:46.011 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:16:46.011 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:16:46.011 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = cacuCoupon, code = OK
2024-12-04 22:16:46.172 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findCouponActProductById, paramNames = [id, page, pageSize]
2024-12-04 22:16:46.172 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:16:46.172 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = page
2024-12-04 22:16:46.172 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:16:46.172 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = pageSize
2024-12-04 22:16:46.172 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:16:46.222 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=11, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-28T15:40:45, gmtModified=null, shopId=7, name=跨2类最便宜的打5折, objectId=657302321a75f773e8ea8156, actClass=couponActDao, status=1)
2024-12-04 22:16:46.222 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=11, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-28T15:40:45, gmtModified=null, shopId=7, name=跨2类最便宜的打5折, objectId=657302321a75f773e8ea8156, actClass=couponActDao, status=1)
2024-12-04 22:16:46.223 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:46.223 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:16:46.270 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:657302321a75f773e8ea8156
2024-12-04 22:16:46.270 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=11, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-28T15:40:45, gmtModified=null, shopId=7, name=跨2类最便宜的打5折, objectId=657302321a75f773e8ea8156, actClass=couponActDao, status=1)
2024-12-04 22:16:46.271 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:46.271 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:16:46.317 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=657302321a75f773e8ea8156, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":2,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CrossCategoryLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})]
2024-12-04 22:16:46.318 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=11, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-28T15:40:45, gmtModified=null), shopId=7, name=跨2类最便宜的打5折, objectId=657302321a75f773e8ea8156, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:16:46.319 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@19291431, method = getActivity
2024-12-04 22:16:46.319 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=11, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-28T15:40:45, gmtModified=null), shopId=7, name=跨2类最便宜的打5折, objectId=657302321a75f773e8ea8156, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:16:46.319 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@8daaa74, method = findById
2024-12-04 22:16:46.319 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 11, page = 1, pageSize = 1000
2024-12-04 22:16:46.372 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = retrieveByActId
2024-12-04 22:16:46.372 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=113, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=91586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=7, productId=1662, type=0, deposit=0, payTime=null)]
2024-12-04 22:16:46.373 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 113
2024-12-04 22:16:46.424 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@2c14ec2, method = findByOnsale
2024-12-04 22:16:46.426 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@2bbaaa7e
2024-12-04 22:16:46.426 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 113
2024-12-04 22:16:46.426 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =113
2024-12-04 22:16:46.427 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = findById
2024-12-04 22:16:46.427 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=113, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=91586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=7, productId=1662, type=0, deposit=0, payTime=null)
2024-12-04 22:16:46.428 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=113, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=91586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=7, productId=1662, type=0, deposit=0, payTime=null)
2024-12-04 22:16:46.428 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =1662
2024-12-04 22:16:46.428 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=113, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=91586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=7, productId=1662, type=0, deposit=0, payTime=null)
2024-12-04 22:16:46.428 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=113, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=91586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=7, productId=1662, type=0, deposit=0, payTime=null)
2024-12-04 22:16:46.428 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=113, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=91586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=7, productId=1662, type=0, deposit=0, payTime=null)
2024-12-04 22:16:46.428 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=113, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=91586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=7, productId=1662, type=0, deposit=0, payTime=null)
2024-12-04 22:16:46.428 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findCouponActProductById, code = OK
2024-12-04 22:16:46.464 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:46.465 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:46.588 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findGrouponActById, paramNames = [id]
2024-12-04 22:16:46.589 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:16:46.636 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:16:46.636 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findGrouponActById, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:16:46.644 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:46.644 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:46.647 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:46.647 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:46.779 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findGrouponActById, paramNames = [id]
2024-12-04 22:16:46.779 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:16:46.827 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:16:46.827 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findGrouponActById, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:16:46.972 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findGrouponActById, paramNames = [id]
2024-12-04 22:16:46.972 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:16:46.972 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@8daaa74, method = findById
2024-12-04 22:16:46.975 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findGrouponActById, code = OK
2024-12-04 22:16:47.083 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = retrieveGrouponAct, paramNames = [shopId, productId, beginTime, endTime, page, pageSize]
2024-12-04 22:16:47.084 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:16:47.084 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = productId
2024-12-04 22:16:47.084 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = beginTime
2024-12-04 22:16:47.084 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set beginTime to 2024-11-04T22:15:29.287147500
2024-12-04 22:16:47.084 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = endTime
2024-12-04 22:16:47.084 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set endTime to 2024-12-04T22:15:29.287147500
2024-12-04 22:16:47.084 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = page
2024-12-04 22:16:47.084 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:16:47.084 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[5] = pageSize
2024-12-04 22:16:47.084 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:16:47.084 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: shopId = 6
2024-12-04 22:16:47.132 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: pos size = 0
2024-12-04 22:16:47.132 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@8daaa74, method = retrieveValidByShopIdAndProductId
2024-12-04 22:16:47.132 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = retrieveGrouponAct, code = OK
2024-12-04 22:16:47.284 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = retrieveGrouponAct, paramNames = [shopId, productId, beginTime, endTime, page, pageSize]
2024-12-04 22:16:47.284 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:16:47.284 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = productId
2024-12-04 22:16:47.284 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = beginTime
2024-12-04 22:16:47.284 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = endTime
2024-12-04 22:16:47.284 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = page
2024-12-04 22:16:47.284 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:16:47.284 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[5] = pageSize
2024-12-04 22:16:47.284 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:16:47.284 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: shopId = 6
2024-12-04 22:16:47.333 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: pos size = 1
2024-12-04 22:16:47.333 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=8, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=6, name=团购活动1, objectId=6571ae09f66b807258a17a3d, actClass=grouponActDao, status=1)
2024-12-04 22:16:47.337 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:47.337 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:16:47.387 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@15456827
2024-12-04 22:16:47.387 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=8, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=6, name=团购活动1, objectId=6571ae09f66b807258a17a3d, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=10, percentage=10), Threshold(quantity=20, percentage=20), Threshold(quantity=30, percentage=30)])
2024-12-04 22:16:47.387 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@7283ffd6, method = getActivity
2024-12-04 22:16:47.387 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=8, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=6, name=团购活动1, objectId=6571ae09f66b807258a17a3d, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=10, percentage=10), Threshold(quantity=20, percentage=20), Threshold(quantity=30, percentage=30)])
2024-12-04 22:16:47.387 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: bo = GrouponAct(super=Activity(super=OOMallObject(id=8, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=6, name=团购活动1, objectId=6571ae09f66b807258a17a3d, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=10, percentage=10), Threshold(quantity=20, percentage=20), Threshold(quantity=30, percentage=30)])
2024-12-04 22:16:47.387 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@8daaa74, method = retrieveValidByShopIdAndProductId
2024-12-04 22:16:47.387 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 8, page = 1, pageSize = 1000
2024-12-04 22:16:47.435 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = retrieveByActId
2024-12-04 22:16:47.435 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=398, beginTime=2022-11-11T14:38:20, endTime=2028-02-19T14:38:20, quantity=24, maxQuantity=50, shopId=6, productId=1559, type=0, deposit=0, payTime=null)]
2024-12-04 22:16:47.435 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = retrieveGrouponAct, code = OK
2024-12-04 22:16:47.580 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findGrouponActById, paramNames = [id]
2024-12-04 22:16:47.580 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:16:47.627 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1)
2024-12-04 22:16:47.630 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:47.630 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:16:47.673 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@3a7f52e9
2024-12-04 22:16:47.673 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:16:47.673 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@7283ffd6, method = getActivity
2024-12-04 22:16:47.674 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:16:47.674 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@8daaa74, method = findById
2024-12-04 22:16:47.674 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findGrouponActById, code = OK
2024-12-04 22:16:47.821 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = retrieveGrouponAct, paramNames = [shopId, productId, beginTime, endTime, page, pageSize]
2024-12-04 22:16:47.822 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:16:47.822 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = productId
2024-12-04 22:16:47.822 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = beginTime
2024-12-04 22:16:47.822 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = endTime
2024-12-04 22:16:47.822 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = page
2024-12-04 22:16:47.822 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:16:47.822 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[5] = pageSize
2024-12-04 22:16:47.822 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:16:47.822 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: productId = 1559
2024-12-04 22:16:47.870 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: pos size = 1
2024-12-04 22:16:47.870 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=8, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=6, name=团购活动1, objectId=6571ae09f66b807258a17a3d, actClass=grouponActDao, status=1)
2024-12-04 22:16:47.871 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:47.871 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:16:47.919 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@242dc049
2024-12-04 22:16:47.919 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=8, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=6, name=团购活动1, objectId=6571ae09f66b807258a17a3d, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=10, percentage=10), Threshold(quantity=20, percentage=20), Threshold(quantity=30, percentage=30)])
2024-12-04 22:16:47.920 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@7283ffd6, method = getActivity
2024-12-04 22:16:47.920 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=8, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=6, name=团购活动1, objectId=6571ae09f66b807258a17a3d, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=10, percentage=10), Threshold(quantity=20, percentage=20), Threshold(quantity=30, percentage=30)])
2024-12-04 22:16:47.920 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: bo = GrouponAct(super=Activity(super=OOMallObject(id=8, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=6, name=团购活动1, objectId=6571ae09f66b807258a17a3d, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=10, percentage=10), Threshold(quantity=20, percentage=20), Threshold(quantity=30, percentage=30)])
2024-12-04 22:16:47.920 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@8daaa74, method = retrieveValidByShopIdAndProductId
2024-12-04 22:16:47.920 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 8, page = 1, pageSize = 1000
2024-12-04 22:16:47.969 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = retrieveByActId
2024-12-04 22:16:47.969 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=398, beginTime=2022-11-11T14:38:20, endTime=2028-02-19T14:38:20, quantity=24, maxQuantity=50, shopId=6, productId=1559, type=0, deposit=0, payTime=null)]
2024-12-04 22:16:47.969 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = retrieveGrouponAct, code = OK
2024-12-04 22:16:48.121 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = retrieveGrouponAct, paramNames = [shopId, productId, beginTime, endTime, page, pageSize]
2024-12-04 22:16:48.122 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:16:48.122 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = productId
2024-12-04 22:16:48.122 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = beginTime
2024-12-04 22:16:48.122 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = endTime
2024-12-04 22:16:48.122 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = page
2024-12-04 22:16:48.122 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:16:48.122 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[5] = pageSize
2024-12-04 22:16:48.122 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:16:48.122 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: productId = 1550
2024-12-04 22:16:48.173 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: pos size = 0
2024-12-04 22:16:48.173 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@8daaa74, method = retrieveValidByShopIdAndProductId
2024-12-04 22:16:48.173 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = retrieveGrouponAct, code = OK
2024-12-04 22:16:48.318 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = retrieveGrouponAct, paramNames = [shopId, productId, beginTime, endTime, page, pageSize]
2024-12-04 22:16:48.318 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:16:48.318 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = productId
2024-12-04 22:16:48.318 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = beginTime
2024-12-04 22:16:48.318 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = endTime
2024-12-04 22:16:48.318 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = page
2024-12-04 22:16:48.318 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:16:48.318 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[5] = pageSize
2024-12-04 22:16:48.318 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:16:48.318 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: shopId is null
2024-12-04 22:16:48.381 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: pos size = 2
2024-12-04 22:16:48.382 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=8, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=6, name=团购活动1, objectId=6571ae09f66b807258a17a3d, actClass=grouponActDao, status=1)
2024-12-04 22:16:48.383 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:48.383 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:16:48.432 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@7ca13ec0
2024-12-04 22:16:48.432 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=8, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=6, name=团购活动1, objectId=6571ae09f66b807258a17a3d, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=10, percentage=10), Threshold(quantity=20, percentage=20), Threshold(quantity=30, percentage=30)])
2024-12-04 22:16:48.432 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@7283ffd6, method = getActivity
2024-12-04 22:16:48.432 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=8, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=6, name=团购活动1, objectId=6571ae09f66b807258a17a3d, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=10, percentage=10), Threshold(quantity=20, percentage=20), Threshold(quantity=30, percentage=30)])
2024-12-04 22:16:48.432 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: bo = GrouponAct(super=Activity(super=OOMallObject(id=8, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=6, name=团购活动1, objectId=6571ae09f66b807258a17a3d, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=10, percentage=10), Threshold(quantity=20, percentage=20), Threshold(quantity=30, percentage=30)])
2024-12-04 22:16:48.432 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1)
2024-12-04 22:16:48.433 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:48.434 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:16:48.476 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@587e1f06
2024-12-04 22:16:48.476 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:16:48.476 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@7283ffd6, method = getActivity
2024-12-04 22:16:48.476 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:16:48.477 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveValidByShopIdAndProductId: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:16:48.477 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@8daaa74, method = retrieveValidByShopIdAndProductId
2024-12-04 22:16:48.477 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 8, page = 1, pageSize = 1000
2024-12-04 22:16:48.524 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = retrieveByActId
2024-12-04 22:16:48.524 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=398, beginTime=2022-11-11T14:38:20, endTime=2028-02-19T14:38:20, quantity=24, maxQuantity=50, shopId=6, productId=1559, type=0, deposit=0, payTime=null)]
2024-12-04 22:16:48.524 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 4, page = 1, pageSize = 1000
2024-12-04 22:16:48.571 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = retrieveByActId
2024-12-04 22:16:48.571 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=119, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=40058, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=34, maxQuantity=10, shopId=2, productId=1668, type=0, deposit=0, payTime=null)]
2024-12-04 22:16:48.571 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = retrieveGrouponAct, code = OK
2024-12-04 22:16:48.720 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findGrouponActById, paramNames = [id]
2024-12-04 22:16:48.721 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:16:48.721 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:16:48.721 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findGrouponActById, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:16:48.819 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getGrouponActProduct, paramNames = [id, page, pageSize]
2024-12-04 22:16:48.819 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:16:48.820 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = page
2024-12-04 22:16:48.820 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:16:48.820 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = pageSize
2024-12-04 22:16:48.820 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:16:48.873 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1)
2024-12-04 22:16:48.875 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:48.875 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:16:48.919 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: actPo = cn.edu.xmu.oomall.product.mapper.po.GrouponActPo@79b08f67
2024-12-04 22:16:48.919 [main] DEBUG c.e.xmu.oomall.product.dao.activity.GrouponActDao - getActivity: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:16:48.919 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@7283ffd6, method = getActivity
2024-12-04 22:16:48.919 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = GrouponAct(super=Activity(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=团购活动2, objectId=6571af0a9e0bbf44f06141d0, actClass=grouponActDao, status=1), thresholds=[Threshold(quantity=100, percentage=10), Threshold(quantity=50, percentage=5)])
2024-12-04 22:16:48.920 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@8daaa74, method = findById
2024-12-04 22:16:48.920 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 4, page = 1, pageSize = 1000
2024-12-04 22:16:48.969 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = retrieveByActId
2024-12-04 22:16:48.969 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Activity - getOnsaleList: onsaleList = [OnSale(super=OOMallObject(id=119, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=40058, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=34, maxQuantity=10, shopId=2, productId=1668, type=0, deposit=0, payTime=null)]
2024-12-04 22:16:48.970 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 119
2024-12-04 22:16:49.022 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@2c14ec2, method = findByOnsale
2024-12-04 22:16:49.023 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@19d6c0d2
2024-12-04 22:16:49.023 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 119
2024-12-04 22:16:49.023 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =119
2024-12-04 22:16:49.025 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = findById
2024-12-04 22:16:49.025 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=119, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=40058, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=34, maxQuantity=10, shopId=2, productId=1668, type=0, deposit=0, payTime=null)
2024-12-04 22:16:49.025 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=119, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=40058, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=34, maxQuantity=10, shopId=2, productId=1668, type=0, deposit=0, payTime=null)
2024-12-04 22:16:49.025 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =1668
2024-12-04 22:16:49.025 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=119, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=40058, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=34, maxQuantity=10, shopId=2, productId=1668, type=0, deposit=0, payTime=null)
2024-12-04 22:16:49.025 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=119, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=40058, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=34, maxQuantity=10, shopId=2, productId=1668, type=0, deposit=0, payTime=null)
2024-12-04 22:16:49.026 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=119, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=40058, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=34, maxQuantity=10, shopId=2, productId=1668, type=0, deposit=0, payTime=null)
2024-12-04 22:16:49.026 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=119, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=40058, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=34, maxQuantity=10, shopId=2, productId=1668, type=0, deposit=0, payTime=null)
2024-12-04 22:16:49.026 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getGrouponActProduct, code = OK
2024-12-04 22:16:49.131 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:16:49.131 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:202412042216491WGA
2024-12-04 22:16:49.927 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service] & group[DEFAULT_GROUP]
2024-12-04 22:16:49.978 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:16:50.029 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service-prod.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:16:50.029 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-product-service-prod.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service,DEFAULT_GROUP'}]
2024-12-04 22:16:50.034 [main] INFO  c.e.x.o.p.controller.ShopCouponActControllerTest - The following 1 profile is active: "prod"
2024-12-04 22:16:50.212 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:16:50.212 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-04 22:16:50.221 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 6 JPA repository interfaces.
2024-12-04 22:16:50.222 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:16:50.222 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-12-04 22:16:50.227 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 2 MongoDB repository interfaces.
2024-12-04 22:16:50.364 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[cn.edu.xmu.oomall.product]' package. Please check your configuration.
2024-12-04 22:16:50.367 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=f4e34340-7d00-3f01-af0d-61dfd90c1a34
2024-12-04 22:16:50.400 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:50.402 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:50.404 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:50.406 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:50.408 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:50.408 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$1213/0x00000211188e2de8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:50.415 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:50.418 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:50.419 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:16:50.511 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-6} inited
2024-12-04 22:16:51.062 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-04 22:16:51.066 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-12-04 22:16:51.076 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-04 22:16:51.212 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-04 22:16:51.212 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:16:51.409 [main] DEBUG cn.edu.xmu.oomall.product.config.ProductConfig - snowFlakeIdWorker: ip = 192.168.56.1
2024-12-04 22:16:51.470 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-04 22:16:51.527 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'elasticsearch-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:16:51.569 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo1:27017 to client view of cluster
2024-12-04 22:16:51.572 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo2:27017 to client view of cluster
2024-12-04 22:16:51.576 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo3:27017 to client view of cluster
2024-12-04 22:16:51.582 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/17.0.10+11-LTS-240"} created with settings MongoClientSettings{readPreference=ReadPreference{name=nearest, hedgeOptions=null}, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='demouser', source='oomall', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[cn.edu.xmu.oomall.product.config.MongoCommandLogger@4b221018], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@399a27c0, com.mongodb.Jep395RecordCodecProvider@54baa076, com.mongodb.KotlinCodecProvider@3065d07d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[mongo1:27017, mongo2:27017, mongo3:27017], srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='rs0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-12-04 22:16:51.673 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48185000, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:16:46 CST 2024, lastUpdateTimeNanos=47003681459300}
2024-12-04 22:16:51.674 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:51.674 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo3:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=45379300, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:16:46 CST 2024, lastUpdateTimeNanos=47003682572200}
2024-12-04 22:16:51.675 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:51.675 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:51.688 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'freight-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:16:52.720 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:52.720 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:52.730 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:52.730 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:52.752 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:52.752 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:52.900 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:52.901 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:52.904 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:52.904 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:52.908 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:52.908 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:55.866 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:55.867 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:55.882 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:55.883 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:55.884 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:55.885 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:56.474 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:16:56.474 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:56.650 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:16:56.651 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:56.657 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:16:56.657 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:16:56.750 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (goods-producer) init on namesrv rocketmq-namesrv:9876
2024-12-04 22:16:56.980 [main] INFO  o.s.b.test.mock.web.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-12-04 22:16:56.980 [main] INFO  o.s.test.web.servlet.TestDispatcherServlet - Initializing Servlet ''
2024-12-04 22:16:56.983 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2024-12-04 22:16:56.990 [main] INFO  o.s.test.web.servlet.TestDispatcherServlet - Completed initialization in 10 ms
2024-12-04 22:16:57.272 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-12-04 22:16:57.330 [main] INFO  c.e.x.o.p.controller.ShopCouponActControllerTest - Started ShopCouponActControllerTest in 8.196 seconds (process running for 153.899)
2024-12-04 22:16:57.331 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:16:57.331 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:202412042216573M1A
2024-12-04 22:16:57.331 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - admin token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsImRlcGFydElkIjowLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE2NTczTTFBIiwidXNlck5hbWUiOiIxMzA4OGFkbWluIiwidXNlckxldmVsIjoxLCJpc3MiOiJPT0FEIiwic3ViIjoidGhpcyBpcyBhIHRva2VuIiwiYXVkIjoiTUlOSUFQUCIsImlhdCI6MTczMzMyMTgxNywiZXhwIjoxNzMzMzI1NDE3fQ.rboElEqhWtP2qidm_8975P3qDaBFKyWCBTVLACOv2tg
2024-12-04 22:16:57.331 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:16:57.331 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 2 userName=shop1 departId=1 tokenId:20241204221657344A
2024-12-04 22:16:57.332 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - shop 1 token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjIsImRlcGFydElkIjoxLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE2NTczNDRBIiwidXNlck5hbWUiOiJzaG9wMSIsInVzZXJMZXZlbCI6MSwiaXNzIjoiT09BRCIsInN1YiI6InRoaXMgaXMgYSB0b2tlbiIsImF1ZCI6Ik1JTklBUFAiLCJpYXQiOjE3MzMzMjE4MTcsImV4cCI6MTczMzMyNTQxN30.ojNe1H1RTV-gI2r4fynCvO6pcORMTUpzQXwsYQmemk4
2024-12-04 22:16:57.332 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service-prod.yaml, group=DEFAULT_GROUP, cnt=6
2024-12-04 22:16:57.332 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service-prod.yaml, group=DEFAULT_GROUP
2024-12-04 22:16:57.332 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service, group=DEFAULT_GROUP, cnt=6
2024-12-04 22:16:57.332 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service, group=DEFAULT_GROUP
2024-12-04 22:16:57.332 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service.yaml, group=DEFAULT_GROUP, cnt=6
2024-12-04 22:16:57.332 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service.yaml, group=DEFAULT_GROUP
2024-12-04 22:16:57.422 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = addCouponactivity, paramNames = [shopId, vo, creator]
2024-12-04 22:16:57.422 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:16:57.422 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = vo
2024-12-04 22:16:57.422 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = creator
2024-12-04 22:16:57.423 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:16:49 CST 2024, userLevel=1)
2024-12-04 22:16:57.423 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/couponactivities
2024-12-04 22:16:57.423 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/couponactivities
2024-12-04 22:16:57.423 [main] DEBUG c.e.x.o.product.controller.ShopCouponActController - vo = CouponActDto(name=优惠测试1, quantity=1000, quantityType=1, validTerm=0, couponTime=2022-12-10T20:38:20, strategy=PercentageCouponDiscount())
2024-12-04 22:16:57.424 [main] DEBUG c.e.x.o.product.controller.ShopCouponActController - act = CouponAct(super=Activity(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), shopId=null, name=优惠测试1, objectId=null, actClass=couponActDao, status=null), couponTime=2022-12-10T20:38:20, quantity=1000, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:16:57.425 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - insert: bo = CouponAct(super=Activity(super=OOMallObject(id=null, creatorId=1, creatorName=13088admin, modifierId=null, modifierName=null, gmtCreate=2024-12-04T22:16:57.425581700, gmtModified=null), shopId=2, name=优惠测试1, objectId=null, actClass=couponActDao, status=null), couponTime=2022-12-10T20:38:20, quantity=1000, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:16:57.430 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - insert: jsonStrategy = {"value":90,"couponLimitation":{"value":0,"couponLimitationList":[{"value":3,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.AmountCouponLimitation"},{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"}]},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PercentageCouponDiscount"}
2024-12-04 22:16:57.600 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: insert
2024-12-04 22:16:57.600 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:16:57.656 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - insert: newPo = CouponActPo(objectId=6750645906b2de2102d0963f, couponTime=2022-12-10T20:38:20, quantity=1000, quantityType=1, validTerm=0, strategy={"value":90,"couponLimitation":{"value":0,"couponLimitationList":[{"value":3,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.AmountCouponLimitation"},{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"}]},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PercentageCouponDiscount"})
2024-12-04 22:16:57.666 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@6b38215c, method = insert
2024-12-04 22:16:57.666 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - insert: objectId = 6750645906b2de2102d0963f
2024-12-04 22:16:57.667 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: insert obj
2024-12-04 22:16:57.723 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - insert: newPo = ActivityPo(id=113, creatorId=1, creatorName=13088admin, modifierId=null, modifierName=null, gmtCreate=2024-12-04T22:16:57.425581700, gmtModified=null, shopId=2, name=优惠测试1, objectId=6750645906b2de2102d0963f, actClass=couponActDao, status=0)
2024-12-04 22:16:57.723 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@4401f272, method = insert
2024-12-04 22:16:57.723 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = addCouponactivity, code = CREATED
2024-12-04 22:16:57.878 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getCouponActDetailed, paramNames = [shopId, id, user]
2024-12-04 22:16:57.878 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:16:57.878 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:16:57.878 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:16:57.878 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:16:49 CST 2024, userLevel=1)
2024-12-04 22:16:57.878 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/couponactivities/101
2024-12-04 22:16:57.878 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/couponactivities/101
2024-12-04 22:16:57.926 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:16:57.927 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:16:57.928 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:57.928 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:16:57.980 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:65730693e61c0b69ba4dc049
2024-12-04 22:16:57.980 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:16:57.981 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:57.981 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:16:58.031 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=65730693e61c0b69ba4dc049, couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy={"value":90,"couponLimitation":{"value":0,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.ComplexCouponLimitation","couponLimitationList":[{"value":3,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.AmountCouponLimitation"},{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"}]},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PercentageCouponDiscount"})]
2024-12-04 22:16:58.035 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:16:58.035 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@6b38215c, method = getActivity
2024-12-04 22:16:58.036 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:16:58.036 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@4401f272, method = findById
2024-12-04 22:16:58.036 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getCouponActDetailed, code = OK
2024-12-04 22:16:58.187 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = addCouponActToOnsale, paramNames = [shopId, id, sid, creator]
2024-12-04 22:16:58.187 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:16:58.187 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:16:58.187 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = sid
2024-12-04 22:16:58.187 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = creator
2024-12-04 22:16:58.188 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:16:49 CST 2024, userLevel=1)
2024-12-04 22:16:58.188 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/couponactivities/101/onsales/9
2024-12-04 22:16:58.188 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/couponactivities/101/onsales/9
2024-12-04 22:16:58.236 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:16:58.236 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:16:58.237 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:58.237 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:16:58.286 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:65730693e61c0b69ba4dc049
2024-12-04 22:16:58.286 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:16:58.288 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:58.288 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:16:58.336 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=65730693e61c0b69ba4dc049, couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy={"value":90,"couponLimitation":{"value":0,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.ComplexCouponLimitation","couponLimitationList":[{"value":3,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.AmountCouponLimitation"},{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"}]},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PercentageCouponDiscount"})]
2024-12-04 22:16:58.340 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:16:58.340 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@6b38215c, method = getActivity
2024-12-04 22:16:58.340 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:16:58.341 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@4401f272, method = findById
2024-12-04 22:16:58.341 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =9
2024-12-04 22:16:58.390 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6e9ad705, method = findById
2024-12-04 22:16:58.391 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - insertActivityOnsale: activityOnsalePo = ActivityOnsalePo(id=null, actId=101, onsaleId=9, creatorId=1, creatorName=13088admin, modifierId=null, modifierName=null, gmtCreate=2024-12-04T22:16:58.391270200, gmtModified=null)
2024-12-04 22:16:58.391 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: insert obj
2024-12-04 22:16:58.439 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@4401f272, method = insertActivityOnsale
2024-12-04 22:16:58.440 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = addCouponActToOnsale, code = CREATED
2024-12-04 22:16:58.587 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = addCouponActToOnsale, paramNames = [shopId, id, sid, creator]
2024-12-04 22:16:58.587 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:16:58.587 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:16:58.587 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = sid
2024-12-04 22:16:58.587 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = creator
2024-12-04 22:16:58.588 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:16:49 CST 2024, userLevel=1)
2024-12-04 22:16:58.588 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/8/couponactivities/101/onsales/9
2024-12-04 22:16:58.588 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/8/couponactivities/101/onsales/9
2024-12-04 22:16:58.637 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:16:58.637 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = addCouponActToOnsale, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:16:58.783 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = addCouponActToOnsale, paramNames = [shopId, id, sid, creator]
2024-12-04 22:16:58.787 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:16:58.788 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:16:58.788 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = sid
2024-12-04 22:16:58.788 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = creator
2024-12-04 22:16:58.788 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:16:49 CST 2024, userLevel=1)
2024-12-04 22:16:58.788 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/couponactivities/110/onsales/9
2024-12-04 22:16:58.788 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/couponactivities/110/onsales/9
2024-12-04 22:16:58.838 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:16:58.838 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = addCouponActToOnsale, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:16:58.988 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = delCouponAct, paramNames = [shopId, id, modifier]
2024-12-04 22:16:58.988 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:16:58.988 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:16:58.988 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = modifier
2024-12-04 22:16:58.988 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:16:49 CST 2024, userLevel=1)
2024-12-04 22:16:58.988 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/couponactivities/101
2024-12-04 22:16:58.988 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/couponactivities/101
2024-12-04 22:16:59.041 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:16:59.041 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:16:59.042 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:59.042 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:16:59.091 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:65730693e61c0b69ba4dc049
2024-12-04 22:16:59.091 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:16:59.093 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:59.093 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:16:59.141 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=65730693e61c0b69ba4dc049, couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy={"value":90,"couponLimitation":{"value":0,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.ComplexCouponLimitation","couponLimitationList":[{"value":3,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.AmountCouponLimitation"},{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"}]},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PercentageCouponDiscount"})]
2024-12-04 22:16:59.144 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:16:59.144 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@6b38215c, method = getActivity
2024-12-04 22:16:59.145 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:16:59.145 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@4401f272, method = findById
2024-12-04 22:16:59.196 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6e9ad705, method = deleteRelateOnsales
2024-12-04 22:16:59.196 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = delCouponAct, code = OK
2024-12-04 22:16:59.345 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = delCouponActFromOnsale, paramNames = [shopId, id, sid, deleter]
2024-12-04 22:16:59.345 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:16:59.345 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:16:59.345 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = sid
2024-12-04 22:16:59.345 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = deleter
2024-12-04 22:16:59.346 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:16:49 CST 2024, userLevel=1)
2024-12-04 22:16:59.346 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/couponactivities/101/onsales/129
2024-12-04 22:16:59.346 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/couponactivities/101/onsales/129
2024-12-04 22:16:59.394 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:16:59.395 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:16:59.396 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:59.397 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:16:59.445 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:65730693e61c0b69ba4dc049
2024-12-04 22:16:59.445 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:16:59.447 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:16:59.447 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:16:59.497 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=65730693e61c0b69ba4dc049, couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy={"value":90,"couponLimitation":{"value":0,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.ComplexCouponLimitation","couponLimitationList":[{"value":3,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.AmountCouponLimitation"},{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"}]},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PercentageCouponDiscount"})]
2024-12-04 22:16:59.506 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:16:59.507 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@6b38215c, method = getActivity
2024-12-04 22:16:59.507 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:16:59.508 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@4401f272, method = findById
2024-12-04 22:16:59.508 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =129
2024-12-04 22:16:59.558 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6e9ad705, method = findById
2024-12-04 22:16:59.608 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@4401f272, method = deleteActivityOnsale
2024-12-04 22:16:59.608 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = delCouponActFromOnsale, code = OK
2024-12-04 22:16:59.758 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = delCouponActFromOnsale, paramNames = [shopId, id, sid, deleter]
2024-12-04 22:16:59.758 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:16:59.758 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:16:59.758 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = sid
2024-12-04 22:16:59.758 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = deleter
2024-12-04 22:16:59.759 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:16:49 CST 2024, userLevel=1)
2024-12-04 22:16:59.759 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/couponactivities/110/onsales/129
2024-12-04 22:16:59.759 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/couponactivities/110/onsales/129
2024-12-04 22:16:59.808 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:16:59.809 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = delCouponActFromOnsale, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:16:59.952 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = delCouponActFromOnsale, paramNames = [shopId, id, sid, deleter]
2024-12-04 22:16:59.953 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:16:59.953 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:16:59.953 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = sid
2024-12-04 22:16:59.953 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = deleter
2024-12-04 22:16:59.953 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:16:49 CST 2024, userLevel=1)
2024-12-04 22:16:59.953 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/7/couponactivities/101/onsales/129
2024-12-04 22:16:59.953 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/7/couponactivities/101/onsales/129
2024-12-04 22:17:00.016 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:00.017 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = delCouponActFromOnsale, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:00.163 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = delCouponActFromOnsale, paramNames = [shopId, id, sid, deleter]
2024-12-04 22:17:00.163 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:00.163 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:00.163 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = sid
2024-12-04 22:17:00.163 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = deleter
2024-12-04 22:17:00.164 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:16:49 CST 2024, userLevel=1)
2024-12-04 22:17:00.164 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/7/couponactivities/101/onsales/130
2024-12-04 22:17:00.164 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/7/couponactivities/101/onsales/130
2024-12-04 22:17:00.211 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:00.211 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = delCouponActFromOnsale, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:00.361 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getCouponactivity, paramNames = [shopId, productId, status, page, pageSize]
2024-12-04 22:17:00.361 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:00.361 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = productId
2024-12-04 22:17:00.361 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = status
2024-12-04 22:17:00.361 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = page
2024-12-04 22:17:00.361 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:17:00.361 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = pageSize
2024-12-04 22:17:00.361 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:17:00.362 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:16:49 CST 2024, userLevel=1)
2024-12-04 22:17:00.362 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/couponactivities
2024-12-04 22:17:00.362 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/couponactivities
2024-12-04 22:17:00.363 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: shopId = 2, productId = null, page = 1, pageSize= 10
2024-12-04 22:17:00.363 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: actClass & shopId
2024-12-04 22:17:00.421 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: pos size = 6
2024-12-04 22:17:00.421 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1)
2024-12-04 22:17:00.421 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1)
2024-12-04 22:17:00.423 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:00.423 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:00.472 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:657300a17077a872bd9852fe
2024-12-04 22:17:00.472 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1)
2024-12-04 22:17:00.473 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:00.473 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:00.521 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=657300a17077a872bd9852fe, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":3,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.AmountCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})]
2024-12-04 22:17:00.523 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:17:00.523 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@6b38215c, method = getActivity
2024-12-04 22:17:00.523 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:17:00.523 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: bo = CouponAct(super=Activity(super=OOMallObject(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:17:00.523 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=9, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=跨2类减10元, objectId=657301e6186c151467fe00db, actClass=couponActDao, status=1)
2024-12-04 22:17:00.523 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=9, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=跨2类减10元, objectId=657301e6186c151467fe00db, actClass=couponActDao, status=1)
2024-12-04 22:17:00.525 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:00.525 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:00.573 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:657301e6186c151467fe00db
2024-12-04 22:17:00.573 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=9, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=跨2类减10元, objectId=657301e6186c151467fe00db, actClass=couponActDao, status=1)
2024-12-04 22:17:00.574 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:00.574 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:00.623 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=657301e6186c151467fe00db, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":1000,"couponLimitation":{"value":2,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CrossCategoryLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponDiscount"})]
2024-12-04 22:17:00.625 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=9, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=跨2类减10元, objectId=657301e6186c151467fe00db, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PriceCouponDiscount())
2024-12-04 22:17:00.626 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@6b38215c, method = getActivity
2024-12-04 22:17:00.626 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=9, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=跨2类减10元, objectId=657301e6186c151467fe00db, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PriceCouponDiscount())
2024-12-04 22:17:00.626 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: bo = CouponAct(super=Activity(super=OOMallObject(id=9, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=跨2类减10元, objectId=657301e6186c151467fe00db, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PriceCouponDiscount())
2024-12-04 22:17:00.626 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=跨2类9折, objectId=65730218f527a2548b1977d8, actClass=couponActDao, status=1)
2024-12-04 22:17:00.626 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=跨2类9折, objectId=65730218f527a2548b1977d8, actClass=couponActDao, status=1)
2024-12-04 22:17:00.627 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:00.627 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:00.676 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:65730218f527a2548b1977d8
2024-12-04 22:17:00.676 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=跨2类9折, objectId=65730218f527a2548b1977d8, actClass=couponActDao, status=1)
2024-12-04 22:17:00.677 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:00.677 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:00.725 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=65730218f527a2548b1977d8, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":90,"couponLimitation":{"value":2,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CrossCategoryLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PercentageCouponDiscount"})]
2024-12-04 22:17:00.727 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=跨2类9折, objectId=65730218f527a2548b1977d8, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())
2024-12-04 22:17:00.727 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@6b38215c, method = getActivity
2024-12-04 22:17:00.727 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=跨2类9折, objectId=65730218f527a2548b1977d8, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())
2024-12-04 22:17:00.728 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: bo = CouponAct(super=Activity(super=OOMallObject(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=跨2类9折, objectId=65730218f527a2548b1977d8, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())
2024-12-04 22:17:00.728 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=97, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:49, gmtModified=null, shopId=2, name=满100最便宜的打5折, objectId=657302634882bc534d981832, actClass=couponActDao, status=1)
2024-12-04 22:17:00.728 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=97, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:49, gmtModified=null, shopId=2, name=满100最便宜的打5折, objectId=657302634882bc534d981832, actClass=couponActDao, status=1)
2024-12-04 22:17:00.728 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:00.729 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:00.777 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:657302634882bc534d981832
2024-12-04 22:17:00.777 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=97, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:49, gmtModified=null, shopId=2, name=满100最便宜的打5折, objectId=657302634882bc534d981832, actClass=couponActDao, status=1)
2024-12-04 22:17:00.778 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:00.778 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:00.825 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})]
2024-12-04 22:17:00.827 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=97, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:49, gmtModified=null), shopId=2, name=满100最便宜的打5折, objectId=657302634882bc534d981832, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:17:00.827 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@6b38215c, method = getActivity
2024-12-04 22:17:00.827 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=97, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:49, gmtModified=null), shopId=2, name=满100最便宜的打5折, objectId=657302634882bc534d981832, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:17:00.827 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: bo = CouponAct(super=Activity(super=OOMallObject(id=97, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:49, gmtModified=null), shopId=2, name=满100最便宜的打5折, objectId=657302634882bc534d981832, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:17:00.827 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:17:00.827 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:17:00.828 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:00.828 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:00.876 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:65730693e61c0b69ba4dc049
2024-12-04 22:17:00.877 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:17:00.878 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:00.878 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:00.926 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=65730693e61c0b69ba4dc049, couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy={"value":90,"couponLimitation":{"value":0,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.ComplexCouponLimitation","couponLimitationList":[{"value":3,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.AmountCouponLimitation"},{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"}]},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PercentageCouponDiscount"})]
2024-12-04 22:17:00.928 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:17:00.929 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@6b38215c, method = getActivity
2024-12-04 22:17:00.929 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:17:00.929 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:17:00.929 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=102, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-10T03:35:31, gmtModified=null, shopId=2, name=跨2类满3件最便宜打5折, objectId=65753185d153284bc1b64e6f, actClass=couponActDao, status=0)
2024-12-04 22:17:00.929 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=102, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-10T03:35:31, gmtModified=null, shopId=2, name=跨2类满3件最便宜打5折, objectId=65753185d153284bc1b64e6f, actClass=couponActDao, status=0)
2024-12-04 22:17:00.931 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:00.931 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:00.979 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:65753185d153284bc1b64e6f
2024-12-04 22:17:00.979 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=102, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-10T03:35:31, gmtModified=null, shopId=2, name=跨2类满3件最便宜打5折, objectId=65753185d153284bc1b64e6f, actClass=couponActDao, status=0)
2024-12-04 22:17:00.980 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:00.980 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:01.030 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=65753185d153284bc1b64e6f, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":0,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.ComplexCouponLimitation","couponLimitationList":[{"value":3,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.AmountCouponLimitation"},{"value":2,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CrossCategoryLimitation"}]},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})]
2024-12-04 22:17:01.033 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=102, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-10T03:35:31, gmtModified=null), shopId=2, name=跨2类满3件最便宜打5折, objectId=65753185d153284bc1b64e6f, actClass=couponActDao, status=0), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:17:01.033 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@6b38215c, method = getActivity
2024-12-04 22:17:01.033 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=102, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-10T03:35:31, gmtModified=null), shopId=2, name=跨2类满3件最便宜打5折, objectId=65753185d153284bc1b64e6f, actClass=couponActDao, status=0), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:17:01.039 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: bo = CouponAct(super=Activity(super=OOMallObject(id=102, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-10T03:35:31, gmtModified=null), shopId=2, name=跨2类满3件最便宜打5折, objectId=65753185d153284bc1b64e6f, actClass=couponActDao, status=0), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:17:01.039 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByShopIdAndProductId: actList_size = 6
2024-12-04 22:17:01.039 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@4401f272, method = retrieveByShopIdAndProductId
2024-12-04 22:17:01.040 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getCouponactivity, code = OK
2024-12-04 22:17:01.189 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = putCouponActProduct, paramNames = [shopId, id, couponActDto, modifier]
2024-12-04 22:17:01.190 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:01.190 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:01.190 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = couponActDto
2024-12-04 22:17:01.190 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = modifier
2024-12-04 22:17:01.190 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:16:49 CST 2024, userLevel=1)
2024-12-04 22:17:01.190 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/couponactivities/101
2024-12-04 22:17:01.190 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/couponactivities/101
2024-12-04 22:17:01.190 [main] DEBUG c.e.x.o.product.controller.ShopCouponActController - put: bo = CouponAct(super=Activity(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), shopId=null, name=test, objectId=null, actClass=couponActDao, status=null), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PriceCouponDiscount())
2024-12-04 22:17:01.239 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:17:01.239 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:17:01.241 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:01.241 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:01.289 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:65730693e61c0b69ba4dc049
2024-12-04 22:17:01.289 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:17:01.290 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:01.290 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:01.339 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=65730693e61c0b69ba4dc049, couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy={"value":90,"couponLimitation":{"value":0,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.ComplexCouponLimitation","couponLimitationList":[{"value":3,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.AmountCouponLimitation"},{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"}]},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PercentageCouponDiscount"})]
2024-12-04 22:17:01.343 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:17:01.343 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@6b38215c, method = getActivity
2024-12-04 22:17:01.343 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:17:01.343 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@4401f272, method = findById
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: update obj
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : className = cn.edu.xmu.oomall.product.mapper.po.ActivityPo
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : table = goods_activity
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getId
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ActivityPo.id, object  = 101
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = id
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorId
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ActivityPo.creatorId, object  = null
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_id
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorName
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ActivityPo.creatorName, object  = null
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_name
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierId
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ActivityPo.modifierId, object  = 1
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_id
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierName
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ActivityPo.modifierName, object  = 13088admin
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_name
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtCreate
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.ActivityPo.gmtCreate, object  = null
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_create
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtModified
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.ActivityPo.gmtModified, object  = 2024-12-04T22:17:01.343124400
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_modified
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopId
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ActivityPo.shopId, object  = null
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_id
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getName
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ActivityPo.name, object  = test
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = name
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getObjectId
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ActivityPo.objectId, object  = 65730693e61c0b69ba4dc049
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = object_id
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getActClass
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ActivityPo.actClass, object  = couponActDao
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = act_class
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getStatus
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Byte cn.edu.xmu.oomall.product.mapper.po.ActivityPo.status, object  = null
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = status
2024-12-04 22:17:01.344 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : sql = update goods_activity set modifier_id = 1, modifier_name = '13088admin', gmt_modified = '2024-12-04T22:17:01.343124400', name = 'test', object_id = '65730693e61c0b69ba4dc049', act_class = 'couponActDao' where id = 101;
2024-12-04 22:17:01.392 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - save:saved po = ActivityPo(id=101, creatorId=null, creatorName=null, modifierId=1, modifierName=13088admin, gmtCreate=null, gmtModified=2024-12-04T22:17:01.343124400, shopId=null, name=test, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=null)
2024-12-04 22:17:01.393 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:01.393 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:01.450 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: update
2024-12-04 22:17:01.450 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:01.498 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@6b38215c, method = save
2024-12-04 22:17:01.499 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - save:saved bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=null, creatorName=null, modifierId=1, modifierName=13088admin, gmtCreate=null, gmtModified=2024-12-04T22:17:01.343124400), shopId=null, name=test, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=null), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PriceCouponDiscount())
2024-12-04 22:17:01.499 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@4401f272, method = save
2024-12-04 22:17:01.499 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = putCouponActProduct, code = OK
2024-12-04 22:17:01.577 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo2:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:86)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:86)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:201)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:551)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:105)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:80)
	... 4 common frames omitted
2024-12-04 22:17:01.645 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = putCouponActProduct, paramNames = [shopId, id, couponActDto, modifier]
2024-12-04 22:17:01.645 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:01.645 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:01.645 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = couponActDto
2024-12-04 22:17:01.645 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = modifier
2024-12-04 22:17:01.646 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:16:49 CST 2024, userLevel=1)
2024-12-04 22:17:01.646 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/couponactivities/110
2024-12-04 22:17:01.646 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/couponactivities/110
2024-12-04 22:17:01.646 [main] DEBUG c.e.x.o.product.controller.ShopCouponActController - put: bo = CouponAct(super=Activity(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), shopId=null, name=test, objectId=null, actClass=couponActDao, status=null), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=null)
2024-12-04 22:17:01.693 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:01.693 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = putCouponActProduct, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:01.733 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:01.734 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:01.840 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = publishCouponAct, paramNames = [shopId, id, userDto]
2024-12-04 22:17:01.840 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:01.840 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:01.840 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = userDto
2024-12-04 22:17:01.841 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:16:49 CST 2024, userLevel=1)
2024-12-04 22:17:01.841 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/0/couponactivities/102/publish
2024-12-04 22:17:01.841 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/0/couponactivities/102/publish
2024-12-04 22:17:01.893 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=102, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-10T03:35:31, gmtModified=null, shopId=2, name=跨2类满3件最便宜打5折, objectId=65753185d153284bc1b64e6f, actClass=couponActDao, status=0)
2024-12-04 22:17:01.893 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=102, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-10T03:35:31, gmtModified=null, shopId=2, name=跨2类满3件最便宜打5折, objectId=65753185d153284bc1b64e6f, actClass=couponActDao, status=0)
2024-12-04 22:17:02.048 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:02.048 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:17:02.099 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:65753185d153284bc1b64e6f
2024-12-04 22:17:02.099 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=102, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-10T03:35:31, gmtModified=null, shopId=2, name=跨2类满3件最便宜打5折, objectId=65753185d153284bc1b64e6f, actClass=couponActDao, status=0)
2024-12-04 22:17:02.101 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:02.101 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:17:02.150 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=65753185d153284bc1b64e6f, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":0,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.ComplexCouponLimitation","couponLimitationList":[{"value":3,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.AmountCouponLimitation"},{"value":2,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CrossCategoryLimitation"}]},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})]
2024-12-04 22:17:02.153 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=102, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-10T03:35:31, gmtModified=null), shopId=2, name=跨2类满3件最便宜打5折, objectId=65753185d153284bc1b64e6f, actClass=couponActDao, status=0), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:17:02.153 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@6b38215c, method = getActivity
2024-12-04 22:17:02.153 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=102, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-10T03:35:31, gmtModified=null), shopId=2, name=跨2类满3件最便宜打5折, objectId=65753185d153284bc1b64e6f, actClass=couponActDao, status=0), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:17:02.153 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@4401f272, method = findById
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: update obj
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : className = cn.edu.xmu.oomall.product.mapper.po.ActivityPo
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : table = goods_activity
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getId
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ActivityPo.id, object  = 102
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = id
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorId
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ActivityPo.creatorId, object  = null
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_id
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorName
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ActivityPo.creatorName, object  = null
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_name
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierId
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ActivityPo.modifierId, object  = 1
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_id
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierName
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ActivityPo.modifierName, object  = 13088admin
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_name
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtCreate
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.ActivityPo.gmtCreate, object  = null
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_create
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtModified
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.ActivityPo.gmtModified, object  = 2024-12-04T22:17:02.153506200
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_modified
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopId
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.ActivityPo.shopId, object  = null
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_id
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getName
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ActivityPo.name, object  = null
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = name
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getObjectId
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ActivityPo.objectId, object  = null
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = object_id
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getActClass
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.ActivityPo.actClass, object  = couponActDao
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = act_class
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getStatus
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Byte cn.edu.xmu.oomall.product.mapper.po.ActivityPo.status, object  = 1
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = status
2024-12-04 22:17:02.154 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : sql = update goods_activity set modifier_id = 1, modifier_name = '13088admin', gmt_modified = '2024-12-04T22:17:02.153506200', act_class = 'couponActDao', status = 1 where id = 102;
2024-12-04 22:17:02.201 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - save:saved po = ActivityPo(id=102, creatorId=null, creatorName=null, modifierId=1, modifierName=13088admin, gmtCreate=null, gmtModified=2024-12-04T22:17:02.153506200, shopId=null, name=null, objectId=null, actClass=couponActDao, status=1)
2024-12-04 22:17:02.201 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - save:saved bo = CouponAct(super=Activity(super=OOMallObject(id=102, creatorId=null, creatorName=null, modifierId=1, modifierName=13088admin, gmtCreate=null, gmtModified=2024-12-04T22:17:02.153506200), shopId=null, name=null, objectId=null, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=null)
2024-12-04 22:17:02.201 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@4401f272, method = save
2024-12-04 22:17:02.202 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = publishCouponAct, code = OK
2024-12-04 22:17:02.348 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = publishCouponAct, paramNames = [shopId, id, userDto]
2024-12-04 22:17:02.348 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:02.348 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:02.348 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = userDto
2024-12-04 22:17:02.349 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:16:49 CST 2024, userLevel=1)
2024-12-04 22:17:02.349 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/couponactivities/102/publish
2024-12-04 22:17:02.349 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/couponactivities/102/publish
2024-12-04 22:17:02.350 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:02.350 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = publishCouponAct, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:02.448 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = publishCouponAct, paramNames = [shopId, id, userDto]
2024-12-04 22:17:02.448 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:02.448 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:02.448 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = userDto
2024-12-04 22:17:02.449 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:16:49 CST 2024, userLevel=1)
2024-12-04 22:17:02.449 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/0/couponactivities/101/publish
2024-12-04 22:17:02.449 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/0/couponactivities/101/publish
2024-12-04 22:17:02.500 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:17:02.500 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:17:02.501 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:02.501 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:17:02.551 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:65730693e61c0b69ba4dc049
2024-12-04 22:17:02.551 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:17:02.553 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:02.553 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:17:02.602 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=65730693e61c0b69ba4dc049, couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy={"value":90,"couponLimitation":{"value":0,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.ComplexCouponLimitation","couponLimitationList":[{"value":3,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.AmountCouponLimitation"},{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"}]},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PercentageCouponDiscount"})]
2024-12-04 22:17:02.612 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:17:02.613 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@6b38215c, method = getActivity
2024-12-04 22:17:02.613 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:17:02.614 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@4401f272, method = findById
2024-12-04 22:17:02.614 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = STATENOTALLOW
2024-12-04 22:17:02.614 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = publishCouponAct, code = STATENOTALLOW
2024-12-04 22:17:02.730 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:02.730 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:02.730 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:17:02.731 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:202412042217027OAA
2024-12-04 22:17:02.732 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:02.732 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:02.761 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:02.761 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:02.836 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = delOnsaleId, paramNames = [shopId, id, user]
2024-12-04 22:17:02.837 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:02.837 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:02.837 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:17:02.838 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:17:02 CST 2024, userLevel=1)
2024-12-04 22:17:02.838 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/4/onsales/19
2024-12-04 22:17:02.838 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/4/onsales/19
2024-12-04 22:17:02.839 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =19
2024-12-04 22:17:02.890 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findById
2024-12-04 22:17:02.910 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:02.910 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:02.911 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = tryToDel
2024-12-04 22:17:02.911 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = delOnsaleId, code = OK
2024-12-04 22:17:02.913 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:02.913 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:02.916 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:02.916 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:03.062 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = delOnsaleId, paramNames = [shopId, id, user]
2024-12-04 22:17:03.062 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:03.062 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:03.062 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:17:03.063 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:17:02 CST 2024, userLevel=1)
2024-12-04 22:17:03.063 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/4/onsales/14
2024-12-04 22:17:03.063 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/4/onsales/14
2024-12-04 22:17:03.063 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =14
2024-12-04 22:17:03.114 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:03.114 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = delOnsaleId, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:03.266 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = delOnsaleId, paramNames = [shopId, id, user]
2024-12-04 22:17:03.266 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:03.266 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:03.266 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:17:03.266 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:17:02 CST 2024, userLevel=1)
2024-12-04 22:17:03.267 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/onsales/23456
2024-12-04 22:17:03.267 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/onsales/23456
2024-12-04 22:17:03.267 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =23456
2024-12-04 22:17:03.317 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:03.317 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = delOnsaleId, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:03.477 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = relateProductId, paramNames = [shopId, id, relateProductDto, user]
2024-12-04 22:17:03.477 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:03.477 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:03.477 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = relateProductDto
2024-12-04 22:17:03.477 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = user
2024-12-04 22:17:03.477 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:17:02 CST 2024, userLevel=1)
2024-12-04 22:17:03.478 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/products/5107/relations
2024-12-04 22:17:03.478 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/products/5107/relations
2024-12-04 22:17:03.478 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 5107
2024-12-04 22:17:03.528 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6be1ba6c, method = findNoOnsaleById
2024-12-04 22:17:03.528 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 5108555
2024-12-04 22:17:03.578 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:03.579 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = relateProductId, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:03.760 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = relateProductId, paramNames = [shopId, id, relateProductDto, user]
2024-12-04 22:17:03.760 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:03.760 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:03.760 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = relateProductDto
2024-12-04 22:17:03.760 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = user
2024-12-04 22:17:03.761 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:17:02 CST 2024, userLevel=1)
2024-12-04 22:17:03.761 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/11/products/5107/relations
2024-12-04 22:17:03.761 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/11/products/5107/relations
2024-12-04 22:17:03.762 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 5107
2024-12-04 22:17:03.812 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:03.812 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = relateProductId, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:03.966 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getAllProductDraft, paramNames = [shopId, page, pageSize]
2024-12-04 22:17:03.966 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:03.966 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = page
2024-12-04 22:17:03.966 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:17:03.966 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = pageSize
2024-12-04 22:17:03.966 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 5
2024-12-04 22:17:03.967 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:17:02 CST 2024, userLevel=1)
2024-12-04 22:17:03.967 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/0/draftproducts
2024-12-04 22:17:03.967 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/0/draftproducts
2024-12-04 22:17:04.018 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDraftDao - bos size:1
2024-12-04 22:17:04.018 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDraftDao@48d362b, method = retrieveProductDraftByShopId
2024-12-04 22:17:04.018 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getAllProductDraft, code = OK
2024-12-04 22:17:04.172 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getAllProductDraft, paramNames = [shopId, page, pageSize]
2024-12-04 22:17:04.175 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:04.175 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = page
2024-12-04 22:17:04.175 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:17:04.175 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = pageSize
2024-12-04 22:17:04.175 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 5
2024-12-04 22:17:04.176 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:17:02 CST 2024, userLevel=1)
2024-12-04 22:17:04.176 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/draftproducts
2024-12-04 22:17:04.176 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/draftproducts
2024-12-04 22:17:04.228 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDraftDao - bos size:1
2024-12-04 22:17:04.228 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDraftDao@48d362b, method = retrieveProductDraftByShopId
2024-12-04 22:17:04.228 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getAllProductDraft, code = OK
2024-12-04 22:17:04.385 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = addOnsale, paramNames = [shopId, id, vo, user]
2024-12-04 22:17:04.385 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:04.385 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:04.385 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = vo
2024-12-04 22:17:04.385 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = user
2024-12-04 22:17:04.386 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:17:02 CST 2024, userLevel=1)
2024-12-04 22:17:04.386 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/products/1550/onsales
2024-12-04 22:17:04.386 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/products/1550/onsales
2024-12-04 22:17:04.388 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1550
2024-12-04 22:17:04.441 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6be1ba6c, method = findNoOnsaleById
2024-12-04 22:17:04.441 [main] DEBUG cn.edu.xmu.oomall.product.service.OnsaleService - insert: onsale = OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=1, beginTime=2022-11-06T12:00, endTime=2023-11-09T12:00, quantity=2000, maxQuantity=50, shopId=10, productId=1550, type=0, deposit=0, payTime=2022-11-06T12:00)
2024-12-04 22:17:04.441 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - insert: onsale=OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=1, beginTime=2022-11-06T12:00, endTime=2023-11-09T12:00, quantity=2000, maxQuantity=50, shopId=10, productId=1550, type=0, deposit=0, payTime=2022-11-06T12:00)
2024-12-04 22:17:04.441 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - hasConflictOnsale: onsale = OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=1, beginTime=2022-11-06T12:00, endTime=2023-11-09T12:00, quantity=2000, maxQuantity=50, shopId=10, productId=1550, type=0, deposit=0, payTime=2022-11-06T12:00)
2024-12-04 22:17:04.495 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - hasConflictOnsale: poList Size = 1, onsale's id = null
2024-12-04 22:17:04.496 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = GOODS_ONSALE_CONFLICT
2024-12-04 22:17:04.496 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = addOnsale, code = GOODS_ONSALE_CONFLICT
2024-12-04 22:17:04.639 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo2:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:86)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:86)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:201)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:551)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:105)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:80)
	... 4 common frames omitted
2024-12-04 22:17:04.655 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = addOnsale, paramNames = [shopId, id, vo, user]
2024-12-04 22:17:04.655 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:04.655 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:04.655 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = vo
2024-12-04 22:17:04.655 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = user
2024-12-04 22:17:04.656 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:17:02 CST 2024, userLevel=1)
2024-12-04 22:17:04.656 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/products/111550/onsales
2024-12-04 22:17:04.656 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/products/111550/onsales
2024-12-04 22:17:04.656 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 111550
2024-12-04 22:17:04.707 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:04.707 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = addOnsale, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:04.859 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = delRelateProduct, paramNames = [shopId, id, user]
2024-12-04 22:17:04.859 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:04.859 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:04.859 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:17:04.860 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:17:02 CST 2024, userLevel=1)
2024-12-04 22:17:04.860 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/11/products/5211/relations
2024-12-04 22:17:04.860 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/11/products/5211/relations
2024-12-04 22:17:04.860 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 5211
2024-12-04 22:17:04.911 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:04.911 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = delRelateProduct, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:05.086 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = delRelateProduct, paramNames = [shopId, id, user]
2024-12-04 22:17:05.086 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:05.086 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:05.086 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:17:05.088 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:17:02 CST 2024, userLevel=1)
2024-12-04 22:17:05.089 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/products/52111/relations
2024-12-04 22:17:05.089 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/products/52111/relations
2024-12-04 22:17:05.089 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 52111
2024-12-04 22:17:05.115 [AsyncSenderExecutor_1] ERROR c.e.xmu.oomall.product.mapper.rocketmq.OrderMapper - delete: delete onsale id 19 fail to send message.
2024-12-04 22:17:05.139 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:05.139 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = delRelateProduct, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:05.291 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getProductDraft, paramNames = [shopId, id]
2024-12-04 22:17:05.291 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:05.291 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:05.292 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:17:02 CST 2024, userLevel=1)
2024-12-04 22:17:05.292 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/draftproducts/80
2024-12-04 22:17:05.292 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/draftproducts/80
2024-12-04 22:17:05.292 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDraftDao - findById: id =80
2024-12-04 22:17:05.342 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:05.342 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getProductDraft, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:05.494 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getProductDraft, paramNames = [shopId, id]
2024-12-04 22:17:05.494 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:05.494 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:05.496 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:17:02 CST 2024, userLevel=1)
2024-12-04 22:17:05.496 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/1/draftproducts/70
2024-12-04 22:17:05.496 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/1/draftproducts/70
2024-12-04 22:17:05.496 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDraftDao - findById: id =70
2024-12-04 22:17:05.546 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:05.546 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getProductDraft, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:05.802 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getAllOnsale, paramNames = [shopId, id, page, pageSize]
2024-12-04 22:17:05.802 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:05.802 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:05.802 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = page
2024-12-04 22:17:05.802 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:17:05.802 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = pageSize
2024-12-04 22:17:05.802 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:17:05.803 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:17:02 CST 2024, userLevel=1)
2024-12-04 22:17:05.803 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/products/1550/onsales
2024-12-04 22:17:05.803 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/products/1550/onsales
2024-12-04 22:17:05.804 [main] DEBUG cn.edu.xmu.oomall.product.service.OnsaleService - retrieveOnSale: shopId = 10, productId = 1550
2024-12-04 22:17:05.804 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1550
2024-12-04 22:17:05.858 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6be1ba6c, method = findNoOnsaleById
2024-12-04 22:17:05.868 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:05.868 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:05.887 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:05.887 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:05.892 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:05.892 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:05.915 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = retrieveByProductId
2024-12-04 22:17:05.916 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getAllOnsale, code = OK
2024-12-04 22:17:06.074 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getAllOnsale, paramNames = [shopId, id, page, pageSize]
2024-12-04 22:17:06.074 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:06.074 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:06.074 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = page
2024-12-04 22:17:06.074 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:17:06.074 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = pageSize
2024-12-04 22:17:06.074 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:17:06.074 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=13088admin, departId=0, expireTime=Wed Dec 04 23:17:02 CST 2024, userLevel=1)
2024-12-04 22:17:06.075 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/10/products/1522350/onsales
2024-12-04 22:17:06.075 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/10/products/1522350/onsales
2024-12-04 22:17:06.075 [main] DEBUG cn.edu.xmu.oomall.product.service.OnsaleService - retrieveOnSale: shopId = 10, productId = 1522350
2024-12-04 22:17:06.075 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1522350
2024-12-04 22:17:06.125 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:06.125 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getAllOnsale, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:06.337 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:17:06.338 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=admin departId=0 tokenId:2024120422170636GA
2024-12-04 22:17:06.339 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:17:06.339 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=甜蜜之旅 departId=2 tokenId:202412042217063Y3A
2024-12-04 22:17:06.339 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:17:06.339 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=努力向前 departId=4 tokenId:2024120422170631MA
2024-12-04 22:17:06.339 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:17:06.339 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=坚持就是胜利 departId=5 tokenId:202412042217063CZA
2024-12-04 22:17:06.339 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:17:06.339 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=商铺8 departId=8 tokenId:202412042217063PEA
2024-12-04 22:17:07.106 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service] & group[DEFAULT_GROUP]
2024-12-04 22:17:07.162 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:17:07.215 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service-prod.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:17:07.216 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-product-service-prod.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service,DEFAULT_GROUP'}]
2024-12-04 22:17:07.221 [main] INFO  c.e.x.o.p.controller.ShopProductControllerTest - The following 1 profile is active: "prod"
2024-12-04 22:17:07.498 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:17:07.498 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-04 22:17:07.509 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 6 JPA repository interfaces.
2024-12-04 22:17:07.509 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:17:07.509 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-12-04 22:17:07.514 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 2 MongoDB repository interfaces.
2024-12-04 22:17:07.639 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[cn.edu.xmu.oomall.product]' package. Please check your configuration.
2024-12-04 22:17:07.642 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=f4e34340-7d00-3f01-af0d-61dfd90c1a34
2024-12-04 22:17:07.783 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:07.785 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:07.786 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:07.789 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:07.790 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:07.790 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$1213/0x00000211188e2de8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:07.794 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:07.798 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:07.800 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:07.905 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-7} inited
2024-12-04 22:17:08.443 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-04 22:17:08.448 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-12-04 22:17:08.495 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-04 22:17:08.671 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-04 22:17:08.671 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:17:08.863 [main] DEBUG cn.edu.xmu.oomall.product.config.ProductConfig - snowFlakeIdWorker: ip = 192.168.56.1
2024-12-04 22:17:08.920 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-04 22:17:08.954 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'elasticsearch-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:17:08.994 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo1:27017 to client view of cluster
2024-12-04 22:17:08.996 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo2:27017 to client view of cluster
2024-12-04 22:17:08.997 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo3:27017 to client view of cluster
2024-12-04 22:17:09.002 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/17.0.10+11-LTS-240"} created with settings MongoClientSettings{readPreference=ReadPreference{name=nearest, hedgeOptions=null}, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='demouser', source='oomall', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[cn.edu.xmu.oomall.product.config.MongoCommandLogger@4adfce67], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@399a27c0, com.mongodb.Jep395RecordCodecProvider@54baa076, com.mongodb.KotlinCodecProvider@3065d07d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[mongo1:27017, mongo2:27017, mongo3:27017], srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='rs0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-12-04 22:17:09.089 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=43710200, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:16:58 CST 2024, lastUpdateTimeNanos=47021097117000}
2024-12-04 22:17:09.089 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:09.116 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'freight-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:17:11.468 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (goods-producer) init on namesrv rocketmq-namesrv:9876
2024-12-04 22:17:11.674 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo2:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46166000, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:16:58 CST 2024, lastUpdateTimeNanos=47023682092400}
2024-12-04 22:17:11.674 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:11.674 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:11.699 [main] INFO  o.s.b.test.mock.web.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-12-04 22:17:11.699 [main] INFO  o.s.test.web.servlet.TestDispatcherServlet - Initializing Servlet ''
2024-12-04 22:17:11.703 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2024-12-04 22:17:11.711 [main] INFO  o.s.test.web.servlet.TestDispatcherServlet - Completed initialization in 12 ms
2024-12-04 22:17:11.735 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:11.735 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:11.742 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:11.742 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:12.031 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-12-04 22:17:12.149 [main] INFO  c.e.x.o.p.controller.ShopProductControllerTest - Started ShopProductControllerTest in 5.809 seconds (process running for 168.718)
2024-12-04 22:17:12.150 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:17:12.150 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:202412042217121NUA
2024-12-04 22:17:12.150 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - admin token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsImRlcGFydElkIjowLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE3MTIxTlVBIiwidXNlck5hbWUiOiIxMzA4OGFkbWluIiwidXNlckxldmVsIjoxLCJpc3MiOiJPT0FEIiwic3ViIjoidGhpcyBpcyBhIHRva2VuIiwiYXVkIjoiTUlOSUFQUCIsImlhdCI6MTczMzMyMTgzMiwiZXhwIjoxNzMzMzI1NDMyfQ.EQnNqtsR4QWjTMLhczIOEH5uwbDV5KZSqLxMO2KsCzI
2024-12-04 22:17:12.150 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:17:12.151 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 2 userName=shop1 departId=1 tokenId:202412042217121TQA
2024-12-04 22:17:12.151 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - shop 1 token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjIsImRlcGFydElkIjoxLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE3MTIxVFFBIiwidXNlck5hbWUiOiJzaG9wMSIsInVzZXJMZXZlbCI6MSwiaXNzIjoiT09BRCIsInN1YiI6InRoaXMgaXMgYSB0b2tlbiIsImF1ZCI6Ik1JTklBUFAiLCJpYXQiOjE3MzMzMjE4MzIsImV4cCI6MTczMzMyNTQzMn0.0-ch_lnGbr0JXpqOEo2DDwv8Z0U_1K2_yxL9KdJhAFk
2024-12-04 22:17:12.151 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service-prod.yaml, group=DEFAULT_GROUP, cnt=7
2024-12-04 22:17:12.151 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service-prod.yaml, group=DEFAULT_GROUP
2024-12-04 22:17:12.151 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service, group=DEFAULT_GROUP, cnt=7
2024-12-04 22:17:12.151 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service, group=DEFAULT_GROUP
2024-12-04 22:17:12.152 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service.yaml, group=DEFAULT_GROUP, cnt=7
2024-12-04 22:17:12.152 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service.yaml, group=DEFAULT_GROUP
2024-12-04 22:17:12.259 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = delOnsaleId, paramNames = [shopId, id, user]
2024-12-04 22:17:12.260 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:12.260 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:12.260 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:17:12.260 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=努力向前, departId=4, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:12.261 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/4/onsales/845
2024-12-04 22:17:12.261 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/4/onsales/845
2024-12-04 22:17:12.261 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 4
2024-12-04 22:17:12.261 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:17:12.262 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =845
2024-12-04 22:17:12.315 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@4a0b9c5, method = findById
2024-12-04 22:17:12.428 [main] INFO  c.e.xmu.oomall.product.mapper.rocketmq.OrderMapper - delete: delete onsale id 845 message send.
2024-12-04 22:17:12.428 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@4a0b9c5, method = tryToDel
2024-12-04 22:17:12.428 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = delOnsaleId, code = OK
2024-12-04 22:17:12.590 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = cancelOnsaleId, paramNames = [shopId, id, user]
2024-12-04 22:17:12.590 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:12.590 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:12.590 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:17:12.591 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=努力向前, departId=4, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:12.591 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/4/onsales/845/cancel
2024-12-04 22:17:12.591 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/4/onsales/845/cancel
2024-12-04 22:17:12.591 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 4
2024-12-04 22:17:12.591 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:17:12.591 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =845
2024-12-04 22:17:12.644 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@4a0b9c5, method = findById
2024-12-04 22:17:12.644 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - save: onsale=OnSale(super=OOMallObject(id=845, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=null, beginTime=null, endTime=2024-12-04T22:17:12.644773900, quantity=null, maxQuantity=null, shopId=null, productId=null, type=null, deposit=null, payTime=null)
2024-12-04 22:17:12.644 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - hasConflictOnsale: onsale = OnSale(super=OOMallObject(id=845, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=null, beginTime=null, endTime=2024-12-04T22:17:12.644773900, quantity=null, maxQuantity=null, shopId=null, productId=null, type=null, deposit=null, payTime=null)
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: update obj
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : className = cn.edu.xmu.oomall.product.mapper.po.OnsalePo
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : table = goods_onsale
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getId
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.id, object  = 845
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = id
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorId
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.creatorId, object  = null
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_id
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorName
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.OnsalePo.creatorName, object  = null
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_name
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierId
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.modifierId, object  = 1
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_id
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierName
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.OnsalePo.modifierName, object  = 努力向前
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_name
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtCreate
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.gmtCreate, object  = null
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_create
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtModified
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.gmtModified, object  = 2024-12-04T22:17:12.699412100
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_modified
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopId
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.shopId, object  = null
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_id
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getProductId
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.productId, object  = null
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = product_id
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getPrice
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.price, object  = null
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = price
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getBeginTime
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.beginTime, object  = null
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = begin_time
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getEndTime
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.endTime, object  = 2024-12-04T22:17:12.644773900
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = end_time
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getQuantity
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Integer cn.edu.xmu.oomall.product.mapper.po.OnsalePo.quantity, object  = null
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = quantity
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getType
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Byte cn.edu.xmu.oomall.product.mapper.po.OnsalePo.type, object  = null
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = type
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getMaxQuantity
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Integer cn.edu.xmu.oomall.product.mapper.po.OnsalePo.maxQuantity, object  = null
2024-12-04 22:17:12.700 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = max_quantity
2024-12-04 22:17:12.701 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getPayTime
2024-12-04 22:17:12.701 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.payTime, object  = null
2024-12-04 22:17:12.701 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = pay_time
2024-12-04 22:17:12.701 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getDeposit
2024-12-04 22:17:12.701 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.deposit, object  = null
2024-12-04 22:17:12.701 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = deposit
2024-12-04 22:17:12.701 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : sql = update goods_onsale set modifier_id = 1, modifier_name = '努力向前', gmt_modified = '2024-12-04T22:17:12.699412100', end_time = '2024-12-04T22:17:12.644773900' where id = 845;
2024-12-04 22:17:12.740 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:12.740 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:12.740 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:12.741 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:12.749 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = cancelOnsaleId, code = OK
2024-12-04 22:17:12.763 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:12.763 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:12.906 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = addOnsale, paramNames = [shopId, id, vo, user]
2024-12-04 22:17:12.906 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:12.906 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:12.906 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = vo
2024-12-04 22:17:12.906 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = user
2024-12-04 22:17:12.907 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=坚持就是胜利, departId=5, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:12.907 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/5/products/1555/onsales
2024-12-04 22:17:12.907 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/5/products/1555/onsales
2024-12-04 22:17:12.907 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 5
2024-12-04 22:17:12.907 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:17:12.908 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = ADV_SALE_TIMELATE
2024-12-04 22:17:12.908 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = addOnsale, code = ADV_SALE_TIMELATE
2024-12-04 22:17:12.921 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:12.921 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:12.923 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:12.923 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:12.924 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:12.924 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:13.012 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = addOnsale, paramNames = [shopId, id, vo, user]
2024-12-04 22:17:13.013 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:13.013 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:13.013 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = vo
2024-12-04 22:17:13.013 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = user
2024-12-04 22:17:13.014 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=坚持就是胜利, departId=5, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:13.014 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/5/products/1555/onsales
2024-12-04 22:17:13.014 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/5/products/1555/onsales
2024-12-04 22:17:13.014 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 5
2024-12-04 22:17:13.014 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:17:13.014 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1555
2024-12-04 22:17:13.068 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@2ae7bf57, method = findNoOnsaleById
2024-12-04 22:17:13.068 [main] DEBUG cn.edu.xmu.oomall.product.service.OnsaleService - insert: onsale = OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=50, beginTime=2023-12-01T08:00, endTime=2023-12-15T18:00, quantity=10, maxQuantity=5, shopId=5, productId=1555, type=1, deposit=10, payTime=2023-12-05T12:30)
2024-12-04 22:17:13.068 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - insert: onsale=OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=50, beginTime=2023-12-01T08:00, endTime=2023-12-15T18:00, quantity=10, maxQuantity=5, shopId=5, productId=1555, type=1, deposit=10, payTime=2023-12-05T12:30)
2024-12-04 22:17:13.068 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - hasConflictOnsale: onsale = OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=50, beginTime=2023-12-01T08:00, endTime=2023-12-15T18:00, quantity=10, maxQuantity=5, shopId=5, productId=1555, type=1, deposit=10, payTime=2023-12-05T12:30)
2024-12-04 22:17:13.124 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - hasConflictOnsale: poList Size = 1, onsale's id = null
2024-12-04 22:17:13.126 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = GOODS_ONSALE_CONFLICT
2024-12-04 22:17:13.126 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = addOnsale, code = GOODS_ONSALE_CONFLICT
2024-12-04 22:17:13.307 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = delOnsaleId, paramNames = [shopId, id, user]
2024-12-04 22:17:13.307 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:13.307 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:13.307 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:17:13.308 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=努力向前, departId=4, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:13.308 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/4/onsales/845
2024-12-04 22:17:13.308 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/4/onsales/845
2024-12-04 22:17:13.308 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 4
2024-12-04 22:17:13.308 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:17:13.308 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =845
2024-12-04 22:17:13.359 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@4a0b9c5, method = findById
2024-12-04 22:17:13.369 [main] ERROR c.e.xmu.oomall.product.mapper.rocketmq.OrderMapper - delete: delete onsale id 845 fail to send message.
2024-12-04 22:17:13.369 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@4a0b9c5, method = tryToDel
2024-12-04 22:17:13.369 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = delOnsaleId, code = OK
2024-12-04 22:17:13.575 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@4a0b9c5, method = delete
2024-12-04 22:17:13.723 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = cancelOnsaleId, paramNames = [shopId, id, user]
2024-12-04 22:17:13.723 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:13.724 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:13.724 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:17:13.724 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=商铺8, departId=8, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:13.724 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/8/onsales/845/cancel
2024-12-04 22:17:13.724 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/8/onsales/845/cancel
2024-12-04 22:17:13.724 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 8
2024-12-04 22:17:13.724 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:17:13.725 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =845
2024-12-04 22:17:13.776 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:13.776 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = cancelOnsaleId, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:13.859 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo3:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=45482800, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:16:58 CST 2024, lastUpdateTimeNanos=47025867060500}
2024-12-04 22:17:13.859 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:13.859 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:13.909 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:13.909 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:13.926 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = addOnsale, paramNames = [shopId, id, vo, user]
2024-12-04 22:17:13.926 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:13.926 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:13.926 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = vo
2024-12-04 22:17:13.926 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = user
2024-12-04 22:17:13.927 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=坚持就是胜利, departId=5, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:13.927 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/5/products/1555/onsales
2024-12-04 22:17:13.927 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/5/products/1555/onsales
2024-12-04 22:17:13.927 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 5
2024-12-04 22:17:13.927 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:17:13.927 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = ADV_SALE_TIMEEARLY
2024-12-04 22:17:13.927 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = addOnsale, code = ADV_SALE_TIMEEARLY
2024-12-04 22:17:14.028 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = addOnsale, paramNames = [shopId, id, vo, user]
2024-12-04 22:17:14.029 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:14.029 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:14.029 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = vo
2024-12-04 22:17:14.029 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = user
2024-12-04 22:17:14.029 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=坚持就是胜利, departId=5, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:14.029 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/5/products/9999/onsales
2024-12-04 22:17:14.029 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/5/products/9999/onsales
2024-12-04 22:17:14.029 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 5
2024-12-04 22:17:14.029 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:17:14.029 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 9999
2024-12-04 22:17:14.078 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:14.078 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = addOnsale, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:14.229 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = addOnsale, paramNames = [shopId, id, vo, user]
2024-12-04 22:17:14.229 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:14.229 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:14.229 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = vo
2024-12-04 22:17:14.229 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = user
2024-12-04 22:17:14.229 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=坚持就是胜利, departId=5, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:14.229 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/5/products/1555/onsales
2024-12-04 22:17:14.229 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/5/products/1555/onsales
2024-12-04 22:17:14.229 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 5
2024-12-04 22:17:14.229 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:17:14.230 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1555
2024-12-04 22:17:14.278 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@2ae7bf57, method = findNoOnsaleById
2024-12-04 22:17:14.279 [main] DEBUG cn.edu.xmu.oomall.product.service.OnsaleService - insert: onsale = OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=50, beginTime=2028-12-01T08:00, endTime=2028-12-15T18:00, quantity=10, maxQuantity=5, shopId=5, productId=1555, type=1, deposit=10, payTime=2028-12-01T08:00)
2024-12-04 22:17:14.279 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - insert: onsale=OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=50, beginTime=2028-12-01T08:00, endTime=2028-12-15T18:00, quantity=10, maxQuantity=5, shopId=5, productId=1555, type=1, deposit=10, payTime=2028-12-01T08:00)
2024-12-04 22:17:14.279 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - hasConflictOnsale: onsale = OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=50, beginTime=2028-12-01T08:00, endTime=2028-12-15T18:00, quantity=10, maxQuantity=5, shopId=5, productId=1555, type=1, deposit=10, payTime=2028-12-01T08:00)
2024-12-04 22:17:14.335 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: insert obj
2024-12-04 22:17:14.385 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - insert: newPo=OnsalePo(id=8669, creatorId=1, creatorName=坚持就是胜利, modifierId=null, modifierName=null, gmtCreate=2024-12-04T22:17:14.334168400, gmtModified=null, shopId=5, productId=1555, price=50, beginTime=2028-12-01T08:00, endTime=2028-12-15T18:00, quantity=10, type=1, maxQuantity=5, payTime=2028-12-01T08:00, deposit=10)
2024-12-04 22:17:14.385 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@4a0b9c5, method = insert
2024-12-04 22:17:14.385 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = addOnsale, code = CREATED
2024-12-04 22:17:14.547 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getOnsaleById, paramNames = [shopId, id]
2024-12-04 22:17:14.547 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:14.547 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:14.548 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=坚持就是胜利, departId=5, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:14.548 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/5/onsales/18
2024-12-04 22:17:14.548 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/5/onsales/18
2024-12-04 22:17:14.548 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 5
2024-12-04 22:17:14.548 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:17:14.548 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =18
2024-12-04 22:17:14.597 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@4a0b9c5, method = findById
2024-12-04 22:17:14.599 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.openfeign.ShopDao@269c805a, method = findById
2024-12-04 22:17:14.600 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findValidById: id = 1567
2024-12-04 22:17:14.649 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@2ae7bf57, method = findValidById
2024-12-04 22:17:14.705 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByOnsaleId: po = ActivityPo(id=100, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=5, name=跨2类满100减10元, objectId=6573035e606b13797b21437f, actClass=couponActDao, status=1)
2024-12-04 22:17:14.706 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=100, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=5, name=跨2类满100减10元, objectId=6573035e606b13797b21437f, actClass=couponActDao, status=1)
2024-12-04 22:17:14.706 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=100, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=5, name=跨2类满100减10元, objectId=6573035e606b13797b21437f, actClass=couponActDao, status=1)
2024-12-04 22:17:15.021 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:15.021 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:17:15.301 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:6573035e606b13797b21437f
2024-12-04 22:17:15.301 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=100, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=5, name=跨2类满100减10元, objectId=6573035e606b13797b21437f, actClass=couponActDao, status=1)
2024-12-04 22:17:15.303 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:15.303 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:17:15.503 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=6573035e606b13797b21437f, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":1000,"couponLimitation":{"value":0,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.ComplexCouponLimitation","couponLimitationList":[{"value":2,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CrossCategoryLimitation"},{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"}]},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponDiscount"})]
2024-12-04 22:17:15.507 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=100, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=5, name=跨2类满100减10元, objectId=6573035e606b13797b21437f, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PriceCouponDiscount())
2024-12-04 22:17:15.507 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@a78e3de, method = getActivity
2024-12-04 22:17:15.507 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=100, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=5, name=跨2类满100减10元, objectId=6573035e606b13797b21437f, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PriceCouponDiscount())
2024-12-04 22:17:15.507 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@3e796b6e, method = retrieveByOnsaleId
2024-12-04 22:17:15.508 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.OnSale - getActList: actList = [CouponAct(super=Activity(super=OOMallObject(id=100, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=5, name=跨2类满100减10元, objectId=6573035e606b13797b21437f, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PriceCouponDiscount())]
2024-12-04 22:17:15.508 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.OnSale - getActList: actList = [CouponAct(super=Activity(super=OOMallObject(id=100, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=5, name=跨2类满100减10元, objectId=6573035e606b13797b21437f, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PriceCouponDiscount())]
2024-12-04 22:17:15.508 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getOnsaleById, code = OK
2024-12-04 22:17:15.656 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getOnsaleById, paramNames = [shopId, id]
2024-12-04 22:17:15.656 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:15.656 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:15.657 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=商铺8, departId=8, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:15.657 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/8/onsales/5
2024-12-04 22:17:15.657 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/8/onsales/5
2024-12-04 22:17:15.657 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 8
2024-12-04 22:17:15.657 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:17:15.657 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =5
2024-12-04 22:17:15.658 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@4a0b9c5, method = findById
2024-12-04 22:17:15.658 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.openfeign.ShopDao@269c805a, method = findById
2024-12-04 22:17:15.658 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findValidById: id = 1554
2024-12-04 22:17:15.710 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@2ae7bf57, method = findValidById
2024-12-04 22:17:15.768 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@3e796b6e, method = retrieveByOnsaleId
2024-12-04 22:17:15.768 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.OnSale - getActList: actList = []
2024-12-04 22:17:15.768 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.OnSale - getActList: actList = []
2024-12-04 22:17:15.768 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getOnsaleById, code = OK
2024-12-04 22:17:15.874 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:15.874 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:15.891 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:15.892 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:15.901 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:15.901 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:15.917 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = addOnsale, paramNames = [shopId, id, vo, user]
2024-12-04 22:17:15.917 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:15.917 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:15.917 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = vo
2024-12-04 22:17:15.917 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = user
2024-12-04 22:17:15.918 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=坚持就是胜利, departId=5, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:15.918 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/5/products/1555/onsales
2024-12-04 22:17:15.918 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/5/products/1555/onsales
2024-12-04 22:17:15.918 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 5
2024-12-04 22:17:15.918 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:17:15.919 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = LATE_BEGINTIME
2024-12-04 22:17:15.919 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = addOnsale, code = LATE_BEGINTIME
2024-12-04 22:17:16.022 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getAllOnsale, paramNames = [shopId, id, page, pageSize]
2024-12-04 22:17:16.023 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:16.023 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:16.023 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = page
2024-12-04 22:17:16.023 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:17:16.023 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = pageSize
2024-12-04 22:17:16.023 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 100
2024-12-04 22:17:16.023 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=努力向前, departId=4, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:16.024 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/4/products/1552/onsales
2024-12-04 22:17:16.024 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/4/products/1552/onsales
2024-12-04 22:17:16.024 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 4
2024-12-04 22:17:16.024 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:17:16.024 [main] DEBUG cn.edu.xmu.oomall.product.service.OnsaleService - retrieveOnSale: shopId = 4, productId = 1552
2024-12-04 22:17:16.024 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1552
2024-12-04 22:17:16.073 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@2ae7bf57, method = findNoOnsaleById
2024-12-04 22:17:16.130 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@4a0b9c5, method = retrieveByProductId
2024-12-04 22:17:16.130 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getAllOnsale, code = OK
2024-12-04 22:17:16.294 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getOnsaleById, paramNames = [shopId, id]
2024-12-04 22:17:16.294 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:16.294 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:16.295 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=坚持就是胜利, departId=5, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:16.295 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/5/onsales/5
2024-12-04 22:17:16.295 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/5/onsales/5
2024-12-04 22:17:16.295 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 5
2024-12-04 22:17:16.295 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:17:16.295 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =5
2024-12-04 22:17:16.296 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:16.296 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getOnsaleById, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:16.397 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = cancelOnsaleId, paramNames = [shopId, id, user]
2024-12-04 22:17:16.397 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:16.397 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:16.397 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:17:16.399 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=努力向前, departId=4, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:16.399 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/4/onsales/8569/cancel
2024-12-04 22:17:16.399 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/4/onsales/8569/cancel
2024-12-04 22:17:16.399 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 4
2024-12-04 22:17:16.399 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:17:16.399 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =8569
2024-12-04 22:17:16.451 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@4a0b9c5, method = findById
2024-12-04 22:17:16.451 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - save: onsale=OnSale(super=OOMallObject(id=8569, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=null, beginTime=null, endTime=2027-10-21T19:34:50, quantity=null, maxQuantity=null, shopId=null, productId=null, type=null, deposit=null, payTime=null)
2024-12-04 22:17:16.451 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - hasConflictOnsale: onsale = OnSale(super=OOMallObject(id=8569, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=null, beginTime=null, endTime=2027-10-21T19:34:50, quantity=null, maxQuantity=null, shopId=null, productId=null, type=null, deposit=null, payTime=null)
2024-12-04 22:17:16.491 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:16.492 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:16.505 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: update obj
2024-12-04 22:17:16.505 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : className = cn.edu.xmu.oomall.product.mapper.po.OnsalePo
2024-12-04 22:17:16.505 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : table = goods_onsale
2024-12-04 22:17:16.505 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getId
2024-12-04 22:17:16.505 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.id, object  = 8569
2024-12-04 22:17:16.505 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = id
2024-12-04 22:17:16.505 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorId
2024-12-04 22:17:16.505 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.creatorId, object  = null
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_id
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorName
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.OnsalePo.creatorName, object  = null
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_name
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierId
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.modifierId, object  = 1
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_id
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierName
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.OnsalePo.modifierName, object  = 努力向前
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_name
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtCreate
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.gmtCreate, object  = null
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_create
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtModified
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.gmtModified, object  = 2024-12-04T22:17:16.505926800
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_modified
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopId
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.shopId, object  = null
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_id
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getProductId
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.productId, object  = null
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = product_id
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getPrice
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.price, object  = null
2024-12-04 22:17:16.506 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = price
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getBeginTime
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.beginTime, object  = null
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = begin_time
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getEndTime
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.endTime, object  = 2027-10-21T19:34:50
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = end_time
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getQuantity
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Integer cn.edu.xmu.oomall.product.mapper.po.OnsalePo.quantity, object  = null
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = quantity
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getType
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Byte cn.edu.xmu.oomall.product.mapper.po.OnsalePo.type, object  = null
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = type
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getMaxQuantity
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Integer cn.edu.xmu.oomall.product.mapper.po.OnsalePo.maxQuantity, object  = null
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = max_quantity
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getPayTime
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.payTime, object  = null
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = pay_time
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getDeposit
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.deposit, object  = null
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = deposit
2024-12-04 22:17:16.507 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : sql = update goods_onsale set modifier_id = 1, modifier_name = '努力向前', gmt_modified = '2024-12-04T22:17:16.505926800', end_time = '2027-10-21T19:34:50' where id = 8569;
2024-12-04 22:17:16.556 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = cancelOnsaleId, code = OK
2024-12-04 22:17:16.670 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:16.671 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:16.707 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = addOnsale, paramNames = [shopId, id, vo, user]
2024-12-04 22:17:16.707 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:16.707 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:16.707 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = vo
2024-12-04 22:17:16.707 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = user
2024-12-04 22:17:16.708 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=坚持就是胜利, departId=5, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:16.708 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/5/products/1555/onsales
2024-12-04 22:17:16.708 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/5/products/1555/onsales
2024-12-04 22:17:16.708 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 5
2024-12-04 22:17:16.708 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:17:16.709 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1555
2024-12-04 22:17:16.764 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@2ae7bf57, method = findNoOnsaleById
2024-12-04 22:17:16.764 [main] DEBUG cn.edu.xmu.oomall.product.service.OnsaleService - insert: onsale = OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=50, beginTime=2028-12-01T08:00, endTime=2028-12-15T18:00, quantity=10, maxQuantity=5, shopId=5, productId=1555, type=1, deposit=10, payTime=2028-12-05T12:30)
2024-12-04 22:17:16.765 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - insert: onsale=OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=50, beginTime=2028-12-01T08:00, endTime=2028-12-15T18:00, quantity=10, maxQuantity=5, shopId=5, productId=1555, type=1, deposit=10, payTime=2028-12-05T12:30)
2024-12-04 22:17:16.766 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - hasConflictOnsale: onsale = OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=50, beginTime=2028-12-01T08:00, endTime=2028-12-15T18:00, quantity=10, maxQuantity=5, shopId=5, productId=1555, type=1, deposit=10, payTime=2028-12-05T12:30)
2024-12-04 22:17:16.825 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: insert obj
2024-12-04 22:17:16.876 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - insert: newPo=OnsalePo(id=8670, creatorId=1, creatorName=坚持就是胜利, modifierId=null, modifierName=null, gmtCreate=2024-12-04T22:17:16.825758, gmtModified=null, shopId=5, productId=1555, price=50, beginTime=2028-12-01T08:00, endTime=2028-12-15T18:00, quantity=10, type=1, maxQuantity=5, payTime=2028-12-05T12:30, deposit=10)
2024-12-04 22:17:16.877 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@4a0b9c5, method = insert
2024-12-04 22:17:16.878 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = addOnsale, code = CREATED
2024-12-04 22:17:16.956 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:16.956 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:17.030 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = addOnsale, paramNames = [shopId, id, vo, user]
2024-12-04 22:17:17.030 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:17.030 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:17.030 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = vo
2024-12-04 22:17:17.030 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = user
2024-12-04 22:17:17.031 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=商铺8, departId=8, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:17.031 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/8/products/1555/onsales
2024-12-04 22:17:17.031 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/8/products/1555/onsales
2024-12-04 22:17:17.031 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 8
2024-12-04 22:17:17.031 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:17:17.032 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1555
2024-12-04 22:17:17.085 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:17.085 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = addOnsale, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:17.239 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getAllOnsale, paramNames = [shopId, id, page, pageSize]
2024-12-04 22:17:17.239 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:17.239 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:17.239 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = page
2024-12-04 22:17:17.239 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:17:17.239 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = pageSize
2024-12-04 22:17:17.239 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 100
2024-12-04 22:17:17.240 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=商铺8, departId=8, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:17.240 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/8/products/1552/onsales
2024-12-04 22:17:17.240 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/8/products/1552/onsales
2024-12-04 22:17:17.240 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 8
2024-12-04 22:17:17.240 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:17:17.240 [main] DEBUG cn.edu.xmu.oomall.product.service.OnsaleService - retrieveOnSale: shopId = 8, productId = 1552
2024-12-04 22:17:17.240 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 1552
2024-12-04 22:17:17.289 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:17.291 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getAllOnsale, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:17.436 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getOnsaleById, paramNames = [shopId, id]
2024-12-04 22:17:17.436 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:17.436 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:17.436 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=admin, departId=0, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:17.436 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/0/onsales/9999
2024-12-04 22:17:17.436 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/0/onsales/9999
2024-12-04 22:17:17.437 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =9999
2024-12-04 22:17:17.486 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:17.486 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getOnsaleById, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:17.633 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getOnsaleById, paramNames = [shopId, id]
2024-12-04 22:17:17.633 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:17.633 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:17.634 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=商铺8, departId=8, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:17.634 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/8/onsales/18
2024-12-04 22:17:17.634 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/8/onsales/18
2024-12-04 22:17:17.634 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 8
2024-12-04 22:17:17.634 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:17:17.634 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =18
2024-12-04 22:17:17.685 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:17.685 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getOnsaleById, code = RESOURCE_ID_OUTSCOPE
2024-12-04 22:17:17.834 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = cancelOnsaleId, paramNames = [shopId, id, user]
2024-12-04 22:17:17.834 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:17.834 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = id
2024-12-04 22:17:17.834 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = user
2024-12-04 22:17:17.835 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - decryptToken : token = UserToken(userId=1, userName=甜蜜之旅, departId=2, expireTime=Wed Dec 04 23:17:06 CST 2024, userLevel=1)
2024-12-04 22:17:17.835 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : the api path is /shops/2/onsales/344/cancel
2024-12-04 22:17:17.835 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId: getPathInfo = /shops/2/onsales/344/cancel
2024-12-04 22:17:17.835 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : did = 2
2024-12-04 22:17:17.835 [main] DEBUG cn.edu.xmu.javaee.core.aop.AuditAspect - checkDepartId : success match Id!
2024-12-04 22:17:17.835 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =344
2024-12-04 22:17:17.885 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@4a0b9c5, method = findById
2024-12-04 22:17:17.885 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - save: onsale=OnSale(super=OOMallObject(id=344, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=null, beginTime=null, endTime=2023-02-19T14:38:20, quantity=null, maxQuantity=null, shopId=null, productId=null, type=null, deposit=null, payTime=null)
2024-12-04 22:17:17.885 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - hasConflictOnsale: onsale = OnSale(super=OOMallObject(id=344, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=null, beginTime=null, endTime=2023-02-19T14:38:20, quantity=null, maxQuantity=null, shopId=null, productId=null, type=null, deposit=null, payTime=null)
2024-12-04 22:17:17.938 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: update obj
2024-12-04 22:17:17.938 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : className = cn.edu.xmu.oomall.product.mapper.po.OnsalePo
2024-12-04 22:17:17.939 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : table = goods_onsale
2024-12-04 22:17:17.939 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getId
2024-12-04 22:17:17.939 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.id, object  = 344
2024-12-04 22:17:17.939 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = id
2024-12-04 22:17:17.939 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorId
2024-12-04 22:17:17.939 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.creatorId, object  = null
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_id
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorName
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.OnsalePo.creatorName, object  = null
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_name
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierId
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.modifierId, object  = 1
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_id
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierName
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.OnsalePo.modifierName, object  = 甜蜜之旅
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_name
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtCreate
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.gmtCreate, object  = null
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_create
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtModified
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.gmtModified, object  = 2024-12-04T22:17:17.938325200
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_modified
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopId
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.shopId, object  = null
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_id
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getProductId
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.productId, object  = null
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = product_id
2024-12-04 22:17:17.940 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getPrice
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.price, object  = null
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = price
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getBeginTime
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.beginTime, object  = null
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = begin_time
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getEndTime
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.endTime, object  = 2023-02-19T14:38:20
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = end_time
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getQuantity
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Integer cn.edu.xmu.oomall.product.mapper.po.OnsalePo.quantity, object  = null
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = quantity
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getType
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Byte cn.edu.xmu.oomall.product.mapper.po.OnsalePo.type, object  = null
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = type
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getMaxQuantity
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Integer cn.edu.xmu.oomall.product.mapper.po.OnsalePo.maxQuantity, object  = null
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = max_quantity
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getPayTime
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.payTime, object  = null
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = pay_time
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getDeposit
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.deposit, object  = null
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = deposit
2024-12-04 22:17:17.941 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : sql = update goods_onsale set modifier_id = 1, modifier_name = '甜蜜之旅', gmt_modified = '2024-12-04T22:17:17.938325200', end_time = '2023-02-19T14:38:20' where id = 344;
2024-12-04 22:17:17.993 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = cancelOnsaleId, code = OK
2024-12-04 22:17:18.094 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:17:18.094 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:202412042217180KPA
2024-12-04 22:17:18.145 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findProductById, paramNames = [id]
2024-12-04 22:17:18.145 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:17:18.145 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - findProductById: id = 600
2024-12-04 22:17:18.146 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:18.146 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findProductById, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:18.250 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findOnsaleById, paramNames = [id]
2024-12-04 22:17:18.250 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:17:18.250 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - findByOnsaleId: onsaleId = 150
2024-12-04 22:17:18.250 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:18.251 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findOnsaleById, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:18.355 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findOnsaleById, paramNames = [id]
2024-12-04 22:17:18.355 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:17:18.355 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - findByOnsaleId: onsaleId = 2
2024-12-04 22:17:18.355 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:17:18.407 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findById
2024-12-04 22:17:18.407 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 2
2024-12-04 22:17:18.460 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6be1ba6c, method = findByOnsale
2024-12-04 22:17:18.463 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =1551
2024-12-04 22:17:18.463 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@614d5111
2024-12-04 22:17:18.463 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 2
2024-12-04 22:17:18.463 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:17:18.465 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findById
2024-12-04 22:17:18.465 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:18.465 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:18.465 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:18.527 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@2ff34329
2024-12-04 22:17:18.527 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 1551
2024-12-04 22:17:18.528 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =1551
2024-12-04 22:17:18.587 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:18.588 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:18.588 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:18.588 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =1551
2024-12-04 22:17:18.588 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:18.588 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:18.588 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:18.588 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:18.588 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@15ab523d
2024-12-04 22:17:18.588 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 1851
2024-12-04 22:17:18.588 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =1851
2024-12-04 22:17:18.645 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:18.645 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=302, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=12241, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=88, maxQuantity=50, shopId=3, productId=1851, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.645 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=302, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=12241, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=88, maxQuantity=50, shopId=3, productId=1851, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.645 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =1851
2024-12-04 22:17:18.645 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=302, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=12241, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=88, maxQuantity=50, shopId=3, productId=1851, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.645 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=302, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=12241, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=88, maxQuantity=50, shopId=3, productId=1851, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.645 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=302, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=12241, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=88, maxQuantity=50, shopId=3, productId=1851, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.646 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=302, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=12241, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=88, maxQuantity=50, shopId=3, productId=1851, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.646 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@19d9341c
2024-12-04 22:17:18.646 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 1870
2024-12-04 22:17:18.646 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =1870
2024-12-04 22:17:18.701 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:18.702 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=321, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=57586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=106, maxQuantity=50, shopId=3, productId=1870, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.702 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=321, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=57586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=106, maxQuantity=50, shopId=3, productId=1870, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.702 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =1870
2024-12-04 22:17:18.702 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=321, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=57586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=106, maxQuantity=50, shopId=3, productId=1870, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.702 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=321, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=57586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=106, maxQuantity=50, shopId=3, productId=1870, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.702 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=321, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=57586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=106, maxQuantity=50, shopId=3, productId=1870, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.702 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=321, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=57586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=106, maxQuantity=50, shopId=3, productId=1870, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.702 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@422eb870
2024-12-04 22:17:18.702 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 2364
2024-12-04 22:17:18.702 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =2364
2024-12-04 22:17:18.760 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:18.760 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=815, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=13873, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=78, maxQuantity=50, shopId=3, productId=2364, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.760 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=815, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=13873, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=78, maxQuantity=50, shopId=3, productId=2364, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.760 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =2364
2024-12-04 22:17:18.760 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=815, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=13873, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=78, maxQuantity=50, shopId=3, productId=2364, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.760 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=815, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=13873, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=78, maxQuantity=50, shopId=3, productId=2364, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.761 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=815, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=13873, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=78, maxQuantity=50, shopId=3, productId=2364, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.761 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=815, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=13873, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=78, maxQuantity=50, shopId=3, productId=2364, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.761 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@63fe3063
2024-12-04 22:17:18.761 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 2606
2024-12-04 22:17:18.761 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =2606
2024-12-04 22:17:18.818 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:18.818 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1057, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=4150, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=37, maxQuantity=50, shopId=3, productId=2606, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.818 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1057, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=4150, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=37, maxQuantity=50, shopId=3, productId=2606, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.818 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =2606
2024-12-04 22:17:18.818 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1057, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=4150, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=37, maxQuantity=50, shopId=3, productId=2606, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.818 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1057, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=4150, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=37, maxQuantity=50, shopId=3, productId=2606, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.818 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1057, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=4150, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=37, maxQuantity=50, shopId=3, productId=2606, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.818 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1057, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=4150, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=37, maxQuantity=50, shopId=3, productId=2606, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.818 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@534c4a53
2024-12-04 22:17:18.818 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 3479
2024-12-04 22:17:18.818 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =3479
2024-12-04 22:17:18.875 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:18.875 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1930, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=10797, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=3, productId=3479, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.875 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1930, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=10797, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=3, productId=3479, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.875 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =3479
2024-12-04 22:17:18.875 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1930, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=10797, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=3, productId=3479, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.875 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1930, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=10797, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=3, productId=3479, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.875 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1930, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=10797, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=3, productId=3479, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.875 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1930, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=10797, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=3, productId=3479, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.875 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@168a4987
2024-12-04 22:17:18.875 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 3583
2024-12-04 22:17:18.876 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =3583
2024-12-04 22:17:18.934 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:18.934 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2034, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=16085, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=49, maxQuantity=50, shopId=3, productId=3583, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.935 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2034, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=16085, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=49, maxQuantity=50, shopId=3, productId=3583, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.935 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =3583
2024-12-04 22:17:18.935 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2034, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=16085, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=49, maxQuantity=50, shopId=3, productId=3583, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.935 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2034, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=16085, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=49, maxQuantity=50, shopId=3, productId=3583, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.935 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2034, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=16085, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=49, maxQuantity=50, shopId=3, productId=3583, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.935 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2034, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=16085, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=49, maxQuantity=50, shopId=3, productId=3583, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.935 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@561b8de
2024-12-04 22:17:18.935 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 3691
2024-12-04 22:17:18.935 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =3691
2024-12-04 22:17:18.992 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:18.993 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2142, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=29768, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=109, maxQuantity=50, shopId=3, productId=3691, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.993 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2142, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=29768, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=109, maxQuantity=50, shopId=3, productId=3691, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.993 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =3691
2024-12-04 22:17:18.993 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2142, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=29768, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=109, maxQuantity=50, shopId=3, productId=3691, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.993 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2142, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=29768, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=109, maxQuantity=50, shopId=3, productId=3691, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.993 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2142, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=29768, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=109, maxQuantity=50, shopId=3, productId=3691, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.993 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2142, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=29768, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=109, maxQuantity=50, shopId=3, productId=3691, type=0, deposit=0, payTime=null)
2024-12-04 22:17:18.993 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@1afae507
2024-12-04 22:17:18.993 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 3927
2024-12-04 22:17:18.993 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =3927
2024-12-04 22:17:18.999 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo2:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:86)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:86)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:201)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:551)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:105)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:80)
	... 4 common frames omitted
2024-12-04 22:17:19.002 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo3:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:86)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:86)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:201)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:551)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:105)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:80)
	... 4 common frames omitted
2024-12-04 22:17:19.050 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:19.050 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2378, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=31884, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=36, maxQuantity=50, shopId=3, productId=3927, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.050 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2378, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=31884, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=36, maxQuantity=50, shopId=3, productId=3927, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.050 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =3927
2024-12-04 22:17:19.050 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2378, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=31884, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=36, maxQuantity=50, shopId=3, productId=3927, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.050 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2378, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=31884, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=36, maxQuantity=50, shopId=3, productId=3927, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.050 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2378, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=31884, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=36, maxQuantity=50, shopId=3, productId=3927, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.050 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2378, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=31884, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=36, maxQuantity=50, shopId=3, productId=3927, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.050 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@12409b97
2024-12-04 22:17:19.050 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 4532
2024-12-04 22:17:19.050 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =4532
2024-12-04 22:17:19.115 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:19.115 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2983, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=54331, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=69, maxQuantity=50, shopId=3, productId=4532, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.116 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2983, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=54331, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=69, maxQuantity=50, shopId=3, productId=4532, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.116 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =4532
2024-12-04 22:17:19.116 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2983, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=54331, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=69, maxQuantity=50, shopId=3, productId=4532, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.116 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2983, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=54331, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=69, maxQuantity=50, shopId=3, productId=4532, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.116 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2983, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=54331, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=69, maxQuantity=50, shopId=3, productId=4532, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.116 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2983, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=54331, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=69, maxQuantity=50, shopId=3, productId=4532, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.116 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@6fd946b2
2024-12-04 22:17:19.116 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 5336
2024-12-04 22:17:19.118 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =5336
2024-12-04 22:17:19.181 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:19.181 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3787, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1230, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=66, maxQuantity=50, shopId=3, productId=5336, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.182 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3787, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1230, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=66, maxQuantity=50, shopId=3, productId=5336, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.182 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =5336
2024-12-04 22:17:19.182 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3787, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1230, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=66, maxQuantity=50, shopId=3, productId=5336, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.182 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3787, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1230, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=66, maxQuantity=50, shopId=3, productId=5336, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.182 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3787, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1230, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=66, maxQuantity=50, shopId=3, productId=5336, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.182 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3787, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1230, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=66, maxQuantity=50, shopId=3, productId=5336, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.182 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@77cc14db
2024-12-04 22:17:19.182 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 5397
2024-12-04 22:17:19.182 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =5397
2024-12-04 22:17:19.238 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:19.238 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3848, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1777, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=103, maxQuantity=50, shopId=3, productId=5397, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.239 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3848, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1777, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=103, maxQuantity=50, shopId=3, productId=5397, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.239 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =5397
2024-12-04 22:17:19.239 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3848, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1777, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=103, maxQuantity=50, shopId=3, productId=5397, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.239 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3848, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1777, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=103, maxQuantity=50, shopId=3, productId=5397, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.239 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3848, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1777, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=103, maxQuantity=50, shopId=3, productId=5397, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.239 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3848, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1777, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=103, maxQuantity=50, shopId=3, productId=5397, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.239 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:19.239 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:19.239 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:19.239 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:19.239 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:19.239 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.openfeign.ShopDao@3f15269d, method = findById
2024-12-04 22:17:19.294 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.CategoryDao@1fed29e5, method = findById
2024-12-04 22:17:19.294 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:19.294 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:19.348 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByOnsaleId: po = ActivityPo(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1)
2024-12-04 22:17:19.348 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1)
2024-12-04 22:17:19.348 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1)
2024-12-04 22:17:19.350 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:19.350 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:19.404 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:6573028729d39517cce1e03b
2024-12-04 22:17:19.404 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1)
2024-12-04 22:17:19.406 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:19.406 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:19.451 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=6573028729d39517cce1e03b, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":90,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PercentageCouponDiscount"})]
2024-12-04 22:17:19.453 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())
2024-12-04 22:17:19.453 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@4b23219d, method = getActivity
2024-12-04 22:17:19.453 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())
2024-12-04 22:17:19.453 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@7e281050, method = retrieveByOnsaleId
2024-12-04 22:17:19.453 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.OnSale - getActList: actList = [CouponAct(super=Activity(super=OOMallObject(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())]
2024-12-04 22:17:19.453 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.OnSale - getActList: actList = [CouponAct(super=Activity(super=OOMallObject(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())]
2024-12-04 22:17:19.453 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:19.454 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.openfeign.ShopDao@3f15269d, method = findById
2024-12-04 22:17:19.454 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.OnSale - getActList: actList = [CouponAct(super=Activity(super=OOMallObject(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())]
2024-12-04 22:17:19.454 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.openfeign.TemplateDao@20f230a7, method = findById
2024-12-04 22:17:19.454 [main] DEBUG c.e.x.o.product.controller.UnAuthorizedController - findOnsaleById: dto = cn.edu.xmu.oomall.product.controller.vo.ProductVo@ab558e
2024-12-04 22:17:19.454 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findOnsaleById, code = OK
2024-12-04 22:17:19.616 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findProductById, paramNames = [id]
2024-12-04 22:17:19.617 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:17:19.617 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - findProductById: id = 1551
2024-12-04 22:17:19.617 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findValidById: id = 1551
2024-12-04 22:17:19.669 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6be1ba6c, method = findValidById
2024-12-04 22:17:19.669 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =1551
2024-12-04 22:17:19.669 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@11b0ac0c
2024-12-04 22:17:19.669 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 1551
2024-12-04 22:17:19.669 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =1551
2024-12-04 22:17:19.727 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:19.727 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:19.727 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:19.727 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:19.783 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@3b5038f3
2024-12-04 22:17:19.783 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 1551
2024-12-04 22:17:19.784 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =1551
2024-12-04 22:17:19.840 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:19.840 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:19.840 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:19.840 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =1551
2024-12-04 22:17:19.840 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:19.840 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:19.840 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:19.840 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:19.840 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@78ba1aac
2024-12-04 22:17:19.840 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 1851
2024-12-04 22:17:19.840 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =1851
2024-12-04 22:17:19.896 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:19.896 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=302, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=12241, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=88, maxQuantity=50, shopId=3, productId=1851, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.896 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=302, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=12241, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=88, maxQuantity=50, shopId=3, productId=1851, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.896 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =1851
2024-12-04 22:17:19.896 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=302, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=12241, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=88, maxQuantity=50, shopId=3, productId=1851, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.896 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=302, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=12241, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=88, maxQuantity=50, shopId=3, productId=1851, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.896 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=302, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=12241, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=88, maxQuantity=50, shopId=3, productId=1851, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.896 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=302, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=12241, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=88, maxQuantity=50, shopId=3, productId=1851, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.896 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@771e1edc
2024-12-04 22:17:19.897 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 1870
2024-12-04 22:17:19.897 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =1870
2024-12-04 22:17:19.954 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:19.954 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=321, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=57586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=106, maxQuantity=50, shopId=3, productId=1870, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.954 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=321, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=57586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=106, maxQuantity=50, shopId=3, productId=1870, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.954 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =1870
2024-12-04 22:17:19.954 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=321, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=57586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=106, maxQuantity=50, shopId=3, productId=1870, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.954 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=321, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=57586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=106, maxQuantity=50, shopId=3, productId=1870, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.954 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=321, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=57586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=106, maxQuantity=50, shopId=3, productId=1870, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.954 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=321, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=57586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=106, maxQuantity=50, shopId=3, productId=1870, type=0, deposit=0, payTime=null)
2024-12-04 22:17:19.954 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@3a1047e7
2024-12-04 22:17:19.954 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 2364
2024-12-04 22:17:19.954 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =2364
2024-12-04 22:17:20.012 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:20.012 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=815, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=13873, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=78, maxQuantity=50, shopId=3, productId=2364, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.012 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=815, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=13873, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=78, maxQuantity=50, shopId=3, productId=2364, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.012 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =2364
2024-12-04 22:17:20.012 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=815, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=13873, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=78, maxQuantity=50, shopId=3, productId=2364, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.012 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=815, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=13873, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=78, maxQuantity=50, shopId=3, productId=2364, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.012 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=815, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=13873, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=78, maxQuantity=50, shopId=3, productId=2364, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.012 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=815, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=13873, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=78, maxQuantity=50, shopId=3, productId=2364, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.012 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@10db9a4a
2024-12-04 22:17:20.012 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 2606
2024-12-04 22:17:20.012 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =2606
2024-12-04 22:17:20.069 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:20.069 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1057, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=4150, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=37, maxQuantity=50, shopId=3, productId=2606, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.069 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1057, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=4150, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=37, maxQuantity=50, shopId=3, productId=2606, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.069 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =2606
2024-12-04 22:17:20.069 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1057, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=4150, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=37, maxQuantity=50, shopId=3, productId=2606, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.069 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1057, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=4150, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=37, maxQuantity=50, shopId=3, productId=2606, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.069 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1057, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=4150, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=37, maxQuantity=50, shopId=3, productId=2606, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.069 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1057, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=4150, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=37, maxQuantity=50, shopId=3, productId=2606, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.069 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@3dc3436a
2024-12-04 22:17:20.069 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 3479
2024-12-04 22:17:20.069 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =3479
2024-12-04 22:17:20.127 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:20.127 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1930, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=10797, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=3, productId=3479, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.127 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1930, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=10797, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=3, productId=3479, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.127 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =3479
2024-12-04 22:17:20.127 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1930, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=10797, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=3, productId=3479, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.127 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1930, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=10797, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=3, productId=3479, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.127 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1930, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=10797, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=3, productId=3479, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.127 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1930, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=10797, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=3, productId=3479, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.127 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@55708b45
2024-12-04 22:17:20.128 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 3583
2024-12-04 22:17:20.128 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =3583
2024-12-04 22:17:20.185 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:20.185 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2034, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=16085, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=49, maxQuantity=50, shopId=3, productId=3583, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.185 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2034, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=16085, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=49, maxQuantity=50, shopId=3, productId=3583, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.185 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =3583
2024-12-04 22:17:20.185 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2034, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=16085, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=49, maxQuantity=50, shopId=3, productId=3583, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.185 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2034, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=16085, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=49, maxQuantity=50, shopId=3, productId=3583, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.185 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2034, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=16085, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=49, maxQuantity=50, shopId=3, productId=3583, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.185 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2034, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=16085, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=49, maxQuantity=50, shopId=3, productId=3583, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.186 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@f69cb11
2024-12-04 22:17:20.186 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 3691
2024-12-04 22:17:20.186 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =3691
2024-12-04 22:17:20.243 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:20.243 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2142, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=29768, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=109, maxQuantity=50, shopId=3, productId=3691, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.243 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2142, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=29768, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=109, maxQuantity=50, shopId=3, productId=3691, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.244 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =3691
2024-12-04 22:17:20.244 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2142, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=29768, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=109, maxQuantity=50, shopId=3, productId=3691, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.244 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2142, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=29768, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=109, maxQuantity=50, shopId=3, productId=3691, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.244 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2142, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=29768, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=109, maxQuantity=50, shopId=3, productId=3691, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.244 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2142, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=29768, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=109, maxQuantity=50, shopId=3, productId=3691, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.244 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@2fb0c34e
2024-12-04 22:17:20.244 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 3927
2024-12-04 22:17:20.244 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =3927
2024-12-04 22:17:20.313 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:20.314 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2378, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=31884, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=36, maxQuantity=50, shopId=3, productId=3927, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.314 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2378, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=31884, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=36, maxQuantity=50, shopId=3, productId=3927, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.314 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =3927
2024-12-04 22:17:20.314 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2378, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=31884, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=36, maxQuantity=50, shopId=3, productId=3927, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.314 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2378, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=31884, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=36, maxQuantity=50, shopId=3, productId=3927, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.314 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2378, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=31884, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=36, maxQuantity=50, shopId=3, productId=3927, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.314 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2378, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=31884, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=36, maxQuantity=50, shopId=3, productId=3927, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.314 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@5f7d5a64
2024-12-04 22:17:20.314 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 4532
2024-12-04 22:17:20.314 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =4532
2024-12-04 22:17:20.382 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:20.382 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2983, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=54331, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=69, maxQuantity=50, shopId=3, productId=4532, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.382 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2983, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=54331, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=69, maxQuantity=50, shopId=3, productId=4532, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.382 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =4532
2024-12-04 22:17:20.382 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2983, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=54331, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=69, maxQuantity=50, shopId=3, productId=4532, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.382 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2983, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=54331, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=69, maxQuantity=50, shopId=3, productId=4532, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.382 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2983, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=54331, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=69, maxQuantity=50, shopId=3, productId=4532, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.382 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2983, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=54331, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=69, maxQuantity=50, shopId=3, productId=4532, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.382 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@5d59a59
2024-12-04 22:17:20.382 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 5336
2024-12-04 22:17:20.382 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =5336
2024-12-04 22:17:20.437 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:20.437 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3787, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1230, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=66, maxQuantity=50, shopId=3, productId=5336, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.437 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3787, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1230, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=66, maxQuantity=50, shopId=3, productId=5336, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.437 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =5336
2024-12-04 22:17:20.437 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3787, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1230, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=66, maxQuantity=50, shopId=3, productId=5336, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.437 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3787, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1230, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=66, maxQuantity=50, shopId=3, productId=5336, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.437 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3787, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1230, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=66, maxQuantity=50, shopId=3, productId=5336, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.437 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3787, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1230, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=66, maxQuantity=50, shopId=3, productId=5336, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.437 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@4be47c62
2024-12-04 22:17:20.437 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 5397
2024-12-04 22:17:20.437 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =5397
2024-12-04 22:17:20.494 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:20.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3848, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1777, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=103, maxQuantity=50, shopId=3, productId=5397, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3848, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1777, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=103, maxQuantity=50, shopId=3, productId=5397, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =5397
2024-12-04 22:17:20.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3848, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1777, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=103, maxQuantity=50, shopId=3, productId=5397, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3848, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1777, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=103, maxQuantity=50, shopId=3, productId=5397, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3848, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1777, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=103, maxQuantity=50, shopId=3, productId=5397, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3848, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1777, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=103, maxQuantity=50, shopId=3, productId=5397, type=0, deposit=0, payTime=null)
2024-12-04 22:17:20.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:20.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:20.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:20.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:20.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:20.495 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.openfeign.ShopDao@3f15269d, method = findById
2024-12-04 22:17:20.546 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.CategoryDao@1fed29e5, method = findById
2024-12-04 22:17:20.546 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:20.546 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:20.598 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByOnsaleId: po = ActivityPo(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1)
2024-12-04 22:17:20.598 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1)
2024-12-04 22:17:20.598 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1)
2024-12-04 22:17:20.599 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:20.600 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:20.645 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:6573028729d39517cce1e03b
2024-12-04 22:17:20.646 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1)
2024-12-04 22:17:20.647 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:20.647 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:20.692 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=6573028729d39517cce1e03b, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":90,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PercentageCouponDiscount"})]
2024-12-04 22:17:20.694 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())
2024-12-04 22:17:20.694 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@4b23219d, method = getActivity
2024-12-04 22:17:20.695 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())
2024-12-04 22:17:20.695 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@7e281050, method = retrieveByOnsaleId
2024-12-04 22:17:20.695 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.OnSale - getActList: actList = [CouponAct(super=Activity(super=OOMallObject(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())]
2024-12-04 22:17:20.695 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.OnSale - getActList: actList = [CouponAct(super=Activity(super=OOMallObject(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())]
2024-12-04 22:17:20.695 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:20.695 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.openfeign.ShopDao@3f15269d, method = findById
2024-12-04 22:17:20.695 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.OnSale - getActList: actList = [CouponAct(super=Activity(super=OOMallObject(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())]
2024-12-04 22:17:20.696 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.openfeign.TemplateDao@20f230a7, method = findById
2024-12-04 22:17:20.696 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findProductById, code = OK
2024-12-04 22:17:20.850 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findProductById, paramNames = [id]
2024-12-04 22:17:20.850 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:17:20.851 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - findProductById: id = 150
2024-12-04 22:17:20.851 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:20.851 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findProductById, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:20.969 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getProducts, paramNames = [shopId, barCode, name, page, pageSize]
2024-12-04 22:17:20.969 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = shopId
2024-12-04 22:17:20.969 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = barCode
2024-12-04 22:17:20.969 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = name
2024-12-04 22:17:20.969 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[3] = page
2024-12-04 22:17:20.969 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:17:20.969 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[4] = pageSize
2024-12-04 22:17:20.969 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:17:20.969 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - retrieveProducts: shopId = 10, barCode = 6924254673572, name = 欢乐家久宝桃罐头
2024-12-04 22:17:20.978 [main] INFO  c.e.x.j.core.config.OpenFeignHeaderInterceptor - apply: feign interceptor.....
2024-12-04 22:17:20.979 [main] DEBUG c.e.x.j.core.config.OpenFeignHeaderInterceptor - addHeader: name = Content-Type, values= [application/json;charset=UTF-8]
2024-12-04 22:17:20.980 [main] DEBUG c.e.x.j.core.config.OpenFeignHeaderInterceptor - addHeader: name = authorization, values= [eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsImRlcGFydElkIjowLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE3MTgwS1BBIiwidXNlck5hbWUiOiIxMzA4OGFkbWluIiwidXNlckxldmVsIjoxLCJpc3MiOiJPT0FEIiwic3ViIjoidGhpcyBpcyBhIHRva2VuIiwiYXVkIjoiTUlOSUFQUCIsImlhdCI6MTczMzMyMTgzOCwiZXhwIjoxNzMzMzI1NDM4fQ.JV6GETbejZP1n1PmBFUPsPu4IvyfVvH4iU-x2PEUONY]
2024-12-04 22:17:20.980 [main] DEBUG c.e.x.j.core.config.OpenFeignHeaderInterceptor - apply: add admin token...
2024-12-04 22:17:20.980 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:17:20.980 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=admin departId=0 tokenId:202412042217209A3A
2024-12-04 22:17:21.063 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ans.namespace attribute : null
2024-12-04 22:17:21.063 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from ALIBABA_ALIWARE_NAMESPACE attribute :null
2024-12-04 22:17:21.063 [main] INFO  com.alibaba.nacos.client.naming - initializer namespace from namespace attribute :null
2024-12-04 22:17:21.070 [main] INFO  com.alibaba.nacos.client.naming - FailoverDataSource type is class com.alibaba.nacos.client.naming.backups.datasource.DiskFailoverDataSource
2024-12-04 22:17:21.076 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.impl.NacosClientAuthServiceImpl success.
2024-12-04 22:17:21.076 [main] INFO  c.a.n.p.auth.spi.client.ClientAuthPluginManager - [ClientAuthPluginManager] Load ClientAuthService com.alibaba.nacos.client.auth.ram.RamClientAuthServiceImpl success.
2024-12-04 22:17:21.082 [main] INFO  com.alibaba.nacos.common.remote.client - [RpcClientFactory] create a new rpc client of dd740f43-30f0-4684-9d81-b21554599c6b
2024-12-04 22:17:21.087 [main] INFO  com.alibaba.nacos.client.naming - Create naming rpc client for uuid->dd740f43-30f0-4684-9d81-b21554599c6b
2024-12-04 22:17:21.087 [main] INFO  com.alibaba.nacos.common.remote.client - [dd740f43-30f0-4684-9d81-b21554599c6b] RpcClient init, ServerListFactory = com.alibaba.nacos.client.naming.core.ServerListManager
2024-12-04 22:17:21.087 [main] INFO  com.alibaba.nacos.common.remote.client - [dd740f43-30f0-4684-9d81-b21554599c6b] Registry connection listener to current client:com.alibaba.nacos.client.naming.remote.gprc.redo.NamingGrpcRedoService
2024-12-04 22:17:21.087 [main] INFO  com.alibaba.nacos.common.remote.client - [dd740f43-30f0-4684-9d81-b21554599c6b] Register server push request handler:com.alibaba.nacos.client.naming.remote.gprc.NamingPushRequestHandler
2024-12-04 22:17:21.088 [main] INFO  com.alibaba.nacos.common.remote.client - [dd740f43-30f0-4684-9d81-b21554599c6b] Try to connect to server on start up, server: {serverIp = 'nacos', server main port = 8848}
2024-12-04 22:17:21.088 [main] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - grpc client connection server:nacos ip,serverPort:9848,grpcTslConfig:{"sslProvider":"","enableTls":false,"mutualAuthEnable":false,"trustAll":false}
2024-12-04 22:17:21.319 [main] INFO  com.alibaba.nacos.common.remote.client - [dd740f43-30f0-4684-9d81-b21554599c6b] Success to connect to server [nacos:8848] on start up, connectionId = 1733321841983_10.0.0.101_64828
2024-12-04 22:17:21.319 [main] INFO  com.alibaba.nacos.common.remote.client - [dd740f43-30f0-4684-9d81-b21554599c6b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$ConnectResetRequestHandler
2024-12-04 22:17:21.319 [main] INFO  com.alibaba.nacos.common.remote.client - [dd740f43-30f0-4684-9d81-b21554599c6b] Register server push request handler:com.alibaba.nacos.common.remote.client.RpcClient$$Lambda$987/0x00000211185a35d8
2024-12-04 22:17:21.319 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.common.remote.client - [dd740f43-30f0-4684-9d81-b21554599c6b] Notify connected event to listeners.
2024-12-04 22:17:21.319 [com.alibaba.nacos.client.remote.worker.0] INFO  com.alibaba.nacos.client.naming - Grpc connection connect
2024-12-04 22:17:21.323 [main] INFO  com.alibaba.nacos.client.naming - [SUBSCRIBE-SERVICE] service:elasticsearch-service, group:DEFAULT_GROUP, clusters: 
2024-12-04 22:17:21.323 [main] INFO  com.alibaba.nacos.client.naming - [GRPC-SUBSCRIBE] service:elasticsearch-service, group:DEFAULT_GROUP, cluster: 
2024-12-04 22:17:21.388 [main] INFO  com.alibaba.nacos.client.naming - init new ips(0) service: DEFAULT_GROUP@@elasticsearch-service -> []
2024-12-04 22:17:21.389 [main] INFO  com.alibaba.nacos.client.naming - current ips:(0) service: DEFAULT_GROUP@@elasticsearch-service -> []
2024-12-04 22:17:21.409 [main] WARN  o.s.cloud.loadbalancer.core.RoundRobinLoadBalancer - No servers available for service: elasticsearch-service
2024-12-04 22:17:21.420 [main] WARN  o.s.c.o.l.FeignBlockingLoadBalancerClient - Load balancer does not contain an instance for the service elasticsearch-service
2024-12-04 22:17:21.426 [main] ERROR cn.edu.xmu.javaee.core.aop.OpenFeignMapperAspect - FeignException occurred: [503] during [GET] to [http://elasticsearch-service/internal/products?name=%E6%AC%A2%E4%B9%90%E5%AE%B6%E4%B9%85%E5%AE%9D%E6%A1%83%E7%BD%90%E5%A4%B4&barcode=6924254673572&shopId=10&page=1&size=60] [SearchMapper#searchProductsByNameAndBarcodeAndShopId(String,String,Long,int,int)]: [Load balancer does not contain an instance for the service elasticsearch-service]
2024-12-04 22:17:21.426 [main] DEBUG cn.edu.xmu.javaee.core.aop.OpenFeignMapperAspect - FeignException response body: Load balancer does not contain an instance for the service elasticsearch-service
2024-12-04 22:17:21.429 [main] ERROR cn.edu.xmu.javaee.core.util.JacksonUtil - Unrecognized token 'Load': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 5]
com.fasterxml.jackson.core.JsonParseException: Unrecognized token 'Load': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 5]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:2572)
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2598)
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2606)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:765)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._reportInvalidToken(ReaderBasedJsonParser.java:3018)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._handleOddValue(ReaderBasedJsonParser.java:2052)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:780)
	at com.fasterxml.jackson.databind.ObjectMapper._readTreeAndClose(ObjectMapper.java:4934)
	at com.fasterxml.jackson.databind.ObjectMapper.readTree(ObjectMapper.java:3280)
	at cn.edu.xmu.javaee.core.util.JacksonUtil.parseInteger(JacksonUtil.java:83)
	at cn.edu.xmu.javaee.core.aop.OpenFeignMapperAspect.handleFeignMapperReturn(OpenFeignMapperAspect.java:56)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy219.searchProductsByNameAndBarcodeAndShopId(Unknown Source)
	at cn.edu.xmu.oomall.product.dao.ProductDao.retrieveByShopIdAndBarCodeAndName(ProductDao.java:374)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.edu.xmu.javaee.core.aop.DaoAspect.doAround(DaoAspect.java:29)
	at jdk.internal.reflect.GeneratedMethodAccessor97.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.dao.ProductDao$$SpringCGLIB$$2.retrieveByShopIdAndBarCodeAndName(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)
	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:482)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.dao.ProductDao$$SpringCGLIB$$0.retrieveByShopIdAndBarCodeAndName(<generated>)
	at cn.edu.xmu.oomall.product.service.ProductService.retrieveValidProducts(ProductService.java:84)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.service.ProductService$$SpringCGLIB$$0.retrieveValidProducts(<generated>)
	at cn.edu.xmu.oomall.product.controller.UnAuthorizedController.getProducts(UnAuthorizedController.java:77)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:102)
	at cn.edu.xmu.javaee.core.aop.ControllerAspect.doAround(ControllerAspect.java:61)
	at jdk.internal.reflect.GeneratedMethodAccessor98.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.controller.UnAuthorizedController$$SpringCGLIB$$0.getProducts(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at cn.edu.xmu.oomall.product.controller.UnAuthorizedController2Test.testGetProductSkuListGivenSuccess(UnAuthorizedController2Test.java:83)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2024-12-04 22:17:21.430 [main] ERROR cn.edu.xmu.javaee.core.aop.OpenFeignMapperAspect - Error: errno is null in FeignException response
2024-12-04 22:17:21.431 [main] ERROR cn.edu.xmu.oomall.product.dao.ProductDao - Error retrieving products: 
cn.edu.xmu.javaee.core.exception.BusinessException: 服务器错误
	at cn.edu.xmu.javaee.core.aop.OpenFeignMapperAspect.handleFeignMapperReturn(OpenFeignMapperAspect.java:59)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy219.searchProductsByNameAndBarcodeAndShopId(Unknown Source)
	at cn.edu.xmu.oomall.product.dao.ProductDao.retrieveByShopIdAndBarCodeAndName(ProductDao.java:374)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.edu.xmu.javaee.core.aop.DaoAspect.doAround(DaoAspect.java:29)
	at jdk.internal.reflect.GeneratedMethodAccessor97.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.dao.ProductDao$$SpringCGLIB$$2.retrieveByShopIdAndBarCodeAndName(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)
	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:482)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.dao.ProductDao$$SpringCGLIB$$0.retrieveByShopIdAndBarCodeAndName(<generated>)
	at cn.edu.xmu.oomall.product.service.ProductService.retrieveValidProducts(ProductService.java:84)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.service.ProductService$$SpringCGLIB$$0.retrieveValidProducts(<generated>)
	at cn.edu.xmu.oomall.product.controller.UnAuthorizedController.getProducts(UnAuthorizedController.java:77)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:102)
	at cn.edu.xmu.javaee.core.aop.ControllerAspect.doAround(ControllerAspect.java:61)
	at jdk.internal.reflect.GeneratedMethodAccessor98.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.controller.UnAuthorizedController$$SpringCGLIB$$0.getProducts(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.test.web.servlet.setup.MockMvcFilterDecorator.doFilter(MockMvcFilterDecorator.java:151)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at cn.edu.xmu.oomall.product.controller.UnAuthorizedController2Test.testGetProductSkuListGivenSuccess(UnAuthorizedController2Test.java:83)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2024-12-04 22:17:21.431 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = INTERNAL_SERVER_ERR
2024-12-04 22:17:21.431 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getProducts, code = INTERNAL_SERVER_ERR
2024-12-04 22:17:21.549 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getCategoryProduct, paramNames = [id, page, pageSize]
2024-12-04 22:17:21.551 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:17:21.552 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[1] = page
2024-12-04 22:17:21.552 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set page to 1
2024-12-04 22:17:21.552 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[2] = pageSize
2024-12-04 22:17:21.552 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: set pageSize to 10
2024-12-04 22:17:21.552 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - getLogisticsProduct: Logistics Id = 10
2024-12-04 22:17:21.616 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6be1ba6c, method = retrieveProductByCategory
2024-12-04 22:17:21.617 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getCategoryProduct, code = OK
2024-12-04 22:17:21.720 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:21.720 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:21.740 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:21.740 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:21.752 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:21.752 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:21.772 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findProductById, paramNames = [id]
2024-12-04 22:17:21.772 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:17:21.772 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - findProductById: id = 150
2024-12-04 22:17:21.773 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findValidById: id = 150
2024-12-04 22:17:21.827 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:21.827 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findProductById, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:21.936 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:17:21.936 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:202412042217219XSA
2024-12-04 22:17:21.976 [nacos-grpc-client-executor-nacos-8] INFO  com.alibaba.nacos.common.remote.client - [dd740f43-30f0-4684-9d81-b21554599c6b] Receive server push request, request = NotifySubscriberRequest, requestId = 6
2024-12-04 22:17:21.976 [nacos-grpc-client-executor-nacos-8] INFO  com.alibaba.nacos.common.remote.client - [dd740f43-30f0-4684-9d81-b21554599c6b] Ack server push request, request = NotifySubscriberRequest, requestId = 6
2024-12-04 22:17:21.988 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = getStates, paramNames = []
2024-12-04 22:17:21.988 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = getStates, code = OK
2024-12-04 22:17:22.093 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findProductById, paramNames = [id]
2024-12-04 22:17:22.093 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:17:22.093 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - findProductById: id = 1551
2024-12-04 22:17:22.094 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findValidById: id = 1551
2024-12-04 22:17:22.146 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6be1ba6c, method = findValidById
2024-12-04 22:17:22.147 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =1551
2024-12-04 22:17:22.147 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@66b9e814
2024-12-04 22:17:22.147 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 1551
2024-12-04 22:17:22.147 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =1551
2024-12-04 22:17:22.204 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:22.204 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:22.204 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:22.204 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:22.269 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@67c17369
2024-12-04 22:17:22.269 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 1551
2024-12-04 22:17:22.269 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =1551
2024-12-04 22:17:22.328 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:22.328 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:22.328 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:22.328 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =1551
2024-12-04 22:17:22.328 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:22.328 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:22.328 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:22.328 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:22.328 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@2430b62e
2024-12-04 22:17:22.328 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 1851
2024-12-04 22:17:22.328 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =1851
2024-12-04 22:17:22.384 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:22.384 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=302, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=12241, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=88, maxQuantity=50, shopId=3, productId=1851, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.384 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=302, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=12241, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=88, maxQuantity=50, shopId=3, productId=1851, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.384 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =1851
2024-12-04 22:17:22.384 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=302, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=12241, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=88, maxQuantity=50, shopId=3, productId=1851, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.384 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=302, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=12241, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=88, maxQuantity=50, shopId=3, productId=1851, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.384 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=302, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=12241, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=88, maxQuantity=50, shopId=3, productId=1851, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.384 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=302, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=12241, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=88, maxQuantity=50, shopId=3, productId=1851, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.384 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@146f271d
2024-12-04 22:17:22.384 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 1870
2024-12-04 22:17:22.384 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =1870
2024-12-04 22:17:22.439 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:22.439 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=321, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=57586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=106, maxQuantity=50, shopId=3, productId=1870, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.439 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=321, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=57586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=106, maxQuantity=50, shopId=3, productId=1870, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.439 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =1870
2024-12-04 22:17:22.439 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=321, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=57586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=106, maxQuantity=50, shopId=3, productId=1870, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.439 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=321, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=57586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=106, maxQuantity=50, shopId=3, productId=1870, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.439 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=321, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=57586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=106, maxQuantity=50, shopId=3, productId=1870, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.439 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=321, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=57586, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=106, maxQuantity=50, shopId=3, productId=1870, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.439 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@615f9bac
2024-12-04 22:17:22.439 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 2364
2024-12-04 22:17:22.439 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =2364
2024-12-04 22:17:22.494 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:22.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=815, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=13873, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=78, maxQuantity=50, shopId=3, productId=2364, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=815, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=13873, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=78, maxQuantity=50, shopId=3, productId=2364, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =2364
2024-12-04 22:17:22.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=815, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=13873, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=78, maxQuantity=50, shopId=3, productId=2364, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=815, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=13873, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=78, maxQuantity=50, shopId=3, productId=2364, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=815, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=13873, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=78, maxQuantity=50, shopId=3, productId=2364, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=815, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=13873, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=78, maxQuantity=50, shopId=3, productId=2364, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@3613c43
2024-12-04 22:17:22.494 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 2606
2024-12-04 22:17:22.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =2606
2024-12-04 22:17:22.549 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:22.549 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1057, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=4150, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=37, maxQuantity=50, shopId=3, productId=2606, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.549 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1057, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=4150, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=37, maxQuantity=50, shopId=3, productId=2606, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.549 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =2606
2024-12-04 22:17:22.549 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1057, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=4150, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=37, maxQuantity=50, shopId=3, productId=2606, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.549 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1057, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=4150, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=37, maxQuantity=50, shopId=3, productId=2606, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.549 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1057, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=4150, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=37, maxQuantity=50, shopId=3, productId=2606, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.549 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1057, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=4150, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=37, maxQuantity=50, shopId=3, productId=2606, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.549 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@419dc44
2024-12-04 22:17:22.549 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 3479
2024-12-04 22:17:22.549 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =3479
2024-12-04 22:17:22.605 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:22.606 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1930, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=10797, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=3, productId=3479, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.606 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1930, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=10797, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=3, productId=3479, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.606 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =3479
2024-12-04 22:17:22.606 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1930, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=10797, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=3, productId=3479, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.606 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1930, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=10797, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=3, productId=3479, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.606 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1930, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=10797, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=3, productId=3479, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.606 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1930, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=10797, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=76, maxQuantity=50, shopId=3, productId=3479, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.606 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@5990e62f
2024-12-04 22:17:22.606 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 3583
2024-12-04 22:17:22.606 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =3583
2024-12-04 22:17:22.667 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:22.667 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2034, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=16085, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=49, maxQuantity=50, shopId=3, productId=3583, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.667 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2034, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=16085, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=49, maxQuantity=50, shopId=3, productId=3583, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.667 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =3583
2024-12-04 22:17:22.667 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2034, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=16085, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=49, maxQuantity=50, shopId=3, productId=3583, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.667 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2034, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=16085, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=49, maxQuantity=50, shopId=3, productId=3583, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.667 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2034, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=16085, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=49, maxQuantity=50, shopId=3, productId=3583, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.667 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2034, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=16085, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=49, maxQuantity=50, shopId=3, productId=3583, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.667 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@7eeeece9
2024-12-04 22:17:22.667 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 3691
2024-12-04 22:17:22.668 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =3691
2024-12-04 22:17:22.727 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:22.727 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2142, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=29768, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=109, maxQuantity=50, shopId=3, productId=3691, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.727 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2142, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=29768, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=109, maxQuantity=50, shopId=3, productId=3691, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.727 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =3691
2024-12-04 22:17:22.727 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2142, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=29768, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=109, maxQuantity=50, shopId=3, productId=3691, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.728 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2142, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=29768, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=109, maxQuantity=50, shopId=3, productId=3691, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.728 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2142, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=29768, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=109, maxQuantity=50, shopId=3, productId=3691, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.728 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2142, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=29768, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=109, maxQuantity=50, shopId=3, productId=3691, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.728 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@52c55f64
2024-12-04 22:17:22.728 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 3927
2024-12-04 22:17:22.728 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =3927
2024-12-04 22:17:22.741 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:22.741 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:22.747 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:22.747 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:22.772 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:22.772 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:22.787 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:22.787 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2378, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=31884, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=36, maxQuantity=50, shopId=3, productId=3927, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.787 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2378, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=31884, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=36, maxQuantity=50, shopId=3, productId=3927, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.787 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =3927
2024-12-04 22:17:22.787 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2378, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=31884, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=36, maxQuantity=50, shopId=3, productId=3927, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.787 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2378, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=31884, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=36, maxQuantity=50, shopId=3, productId=3927, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.787 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2378, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=31884, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=36, maxQuantity=50, shopId=3, productId=3927, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.787 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2378, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=31884, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=36, maxQuantity=50, shopId=3, productId=3927, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.787 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@64441db
2024-12-04 22:17:22.787 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 4532
2024-12-04 22:17:22.787 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =4532
2024-12-04 22:17:22.843 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:22.844 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2983, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=54331, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=69, maxQuantity=50, shopId=3, productId=4532, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.844 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2983, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=54331, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=69, maxQuantity=50, shopId=3, productId=4532, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.844 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =4532
2024-12-04 22:17:22.844 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2983, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=54331, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=69, maxQuantity=50, shopId=3, productId=4532, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.844 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2983, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=54331, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=69, maxQuantity=50, shopId=3, productId=4532, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.844 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2983, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=54331, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=69, maxQuantity=50, shopId=3, productId=4532, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.844 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2983, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=54331, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=69, maxQuantity=50, shopId=3, productId=4532, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.844 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@5fc9cff5
2024-12-04 22:17:22.844 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 5336
2024-12-04 22:17:22.844 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =5336
2024-12-04 22:17:22.901 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:22.901 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3787, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1230, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=66, maxQuantity=50, shopId=3, productId=5336, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.901 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3787, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1230, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=66, maxQuantity=50, shopId=3, productId=5336, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.901 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =5336
2024-12-04 22:17:22.901 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3787, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1230, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=66, maxQuantity=50, shopId=3, productId=5336, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.901 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3787, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1230, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=66, maxQuantity=50, shopId=3, productId=5336, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.901 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3787, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1230, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=66, maxQuantity=50, shopId=3, productId=5336, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.901 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3787, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1230, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=66, maxQuantity=50, shopId=3, productId=5336, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.901 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.ValidOnSaleExecutor@1dbaa59d
2024-12-04 22:17:22.901 [main] DEBUG c.e.x.o.product.dao.onsale.ValidOnSaleExecutor - execute: productId = 5397
2024-12-04 22:17:22.901 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =5397
2024-12-04 22:17:22.931 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:22.931 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:22.933 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:22.933 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:22.934 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:22.934 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:22.961 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6ca0fdd0, method = findLatestValidOnsaleByProductId
2024-12-04 22:17:22.961 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3848, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1777, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=103, maxQuantity=50, shopId=3, productId=5397, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.962 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3848, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1777, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=103, maxQuantity=50, shopId=3, productId=5397, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.962 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getStatus: id =5397
2024-12-04 22:17:22.962 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3848, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1777, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=103, maxQuantity=50, shopId=3, productId=5397, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.962 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3848, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1777, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=103, maxQuantity=50, shopId=3, productId=5397, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.962 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3848, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1777, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=103, maxQuantity=50, shopId=3, productId=5397, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.962 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3848, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1777, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=103, maxQuantity=50, shopId=3, productId=5397, type=0, deposit=0, payTime=null)
2024-12-04 22:17:22.962 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:22.962 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:22.962 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:22.962 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:22.962 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:22.962 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.openfeign.ShopDao@3f15269d, method = findById
2024-12-04 22:17:23.015 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.CategoryDao@1fed29e5, method = findById
2024-12-04 22:17:23.015 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:23.015 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:23.070 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - retrieveByOnsaleId: po = ActivityPo(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1)
2024-12-04 22:17:23.070 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1)
2024-12-04 22:17:23.070 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1)
2024-12-04 22:17:23.072 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:23.072 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:23.120 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:6573028729d39517cce1e03b
2024-12-04 22:17:23.121 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1)
2024-12-04 22:17:23.122 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:23.122 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:17:23.168 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=6573028729d39517cce1e03b, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":90,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PercentageCouponDiscount"})]
2024-12-04 22:17:23.171 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())
2024-12-04 22:17:23.171 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@4b23219d, method = getActivity
2024-12-04 22:17:23.171 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())
2024-12-04 22:17:23.171 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@7e281050, method = retrieveByOnsaleId
2024-12-04 22:17:23.171 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.OnSale - getActList: actList = [CouponAct(super=Activity(super=OOMallObject(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())]
2024-12-04 22:17:23.171 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.OnSale - getActList: actList = [CouponAct(super=Activity(super=OOMallObject(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())]
2024-12-04 22:17:23.171 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:17:23.172 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.openfeign.ShopDao@3f15269d, method = findById
2024-12-04 22:17:23.172 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.OnSale - getActList: actList = [CouponAct(super=Activity(super=OOMallObject(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())]
2024-12-04 22:17:23.172 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.openfeign.TemplateDao@20f230a7, method = findById
2024-12-04 22:17:23.172 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findProductById, code = OK
2024-12-04 22:17:23.329 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findOnsaleById, paramNames = [id]
2024-12-04 22:17:23.329 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:17:23.329 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - findByOnsaleId: onsaleId = 5117
2024-12-04 22:17:23.329 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =5117
2024-12-04 22:17:23.380 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:23.380 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findOnsaleById, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:23.531 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: method = findOnsaleById, paramNames = [id]
2024-12-04 22:17:23.531 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - checkPageTimeLimit: paramNames[0] = id
2024-12-04 22:17:23.531 [main] DEBUG cn.edu.xmu.oomall.product.service.ProductService - findByOnsaleId: onsaleId = 6000
2024-12-04 22:17:23.532 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =6000
2024-12-04 22:17:23.582 [main] INFO  cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: BusinessException， errno = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:23.582 [main] DEBUG cn.edu.xmu.javaee.core.aop.ControllerAspect - doAround: jp = findOnsaleById, code = RESOURCE_ID_NOTEXIST
2024-12-04 22:17:24.703 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service] & group[DEFAULT_GROUP]
2024-12-04 22:17:24.752 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:17:24.801 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service-prod.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:17:24.801 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-product-service-prod.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service,DEFAULT_GROUP'}]
2024-12-04 22:17:24.804 [main] INFO  cn.edu.xmu.oomall.product.dao.ActivityDaoTest - The following 1 profile is active: "prod"
2024-12-04 22:17:24.948 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:17:24.948 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-04 22:17:24.968 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 6 JPA repository interfaces.
2024-12-04 22:17:24.968 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:17:24.968 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-12-04 22:17:24.972 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 2 MongoDB repository interfaces.
2024-12-04 22:17:25.185 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[cn.edu.xmu.oomall.product]' package. Please check your configuration.
2024-12-04 22:17:25.188 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=422f3cad-9cd9-3423-8a84-bdb901a58148
2024-12-04 22:17:25.214 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:25.216 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:25.217 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:25.219 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:25.220 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:25.221 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$1213/0x00000211188e2de8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:25.223 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:25.226 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:25.227 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:25.318 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-8} inited
2024-12-04 22:17:25.836 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-04 22:17:25.840 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-12-04 22:17:25.848 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-04 22:17:25.884 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:25.884 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:25.895 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:25.895 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:25.909 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:25.909 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:26.003 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-04 22:17:26.003 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:17:26.293 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-04 22:17:26.332 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'shop-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:17:26.357 [main] DEBUG cn.edu.xmu.oomall.product.config.ProductConfig - snowFlakeIdWorker: ip = 192.168.56.1
2024-12-04 22:17:26.404 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'elasticsearch-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:17:26.431 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo1:27017 to client view of cluster
2024-12-04 22:17:26.433 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo2:27017 to client view of cluster
2024-12-04 22:17:26.438 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo3:27017 to client view of cluster
2024-12-04 22:17:26.444 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/17.0.10+11-LTS-240"} created with settings MongoClientSettings{readPreference=ReadPreference{name=nearest, hedgeOptions=null}, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='demouser', source='oomall', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[cn.edu.xmu.oomall.product.config.MongoCommandLogger@7af0b3b], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@399a27c0, com.mongodb.Jep395RecordCodecProvider@54baa076, com.mongodb.KotlinCodecProvider@3065d07d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[mongo1:27017, mongo2:27017, mongo3:27017], srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='rs0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-12-04 22:17:26.503 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:26.503 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:26.526 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=43643700, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:17:26 CST 2024, lastUpdateTimeNanos=47038533833100}
2024-12-04 22:17:26.526 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:26.546 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'freight-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:17:26.673 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:26.673 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:26.674 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:26.674 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:28.740 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (goods-producer) init on namesrv rocketmq-namesrv:9876
2024-12-04 22:17:29.098 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo2:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47816200, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:17:26 CST 2024, lastUpdateTimeNanos=47041105979000}
2024-12-04 22:17:29.098 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:29.099 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:29.152 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:29.152 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:29.244 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-12-04 22:17:29.251 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2024-12-04 22:17:29.324 [main] INFO  cn.edu.xmu.oomall.product.dao.ActivityDaoTest - Started ActivityDaoTest in 5.637 seconds (process running for 185.892)
2024-12-04 22:17:29.324 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:17:29.325 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:202412042217293Y8A
2024-12-04 22:17:29.325 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - admin token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsImRlcGFydElkIjowLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE3MjkzWThBIiwidXNlck5hbWUiOiIxMzA4OGFkbWluIiwidXNlckxldmVsIjoxLCJpc3MiOiJPT0FEIiwic3ViIjoidGhpcyBpcyBhIHRva2VuIiwiYXVkIjoiTUlOSUFQUCIsImlhdCI6MTczMzMyMTg0OSwiZXhwIjoxNzMzMzI1NDQ5fQ.Z84EHKTFTKl9f8DSF71-A7B1F8TlVqBNcAdzs5DwUo4
2024-12-04 22:17:29.325 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:17:29.325 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 2 userName=shop1 departId=1 tokenId:202412042217293ZWA
2024-12-04 22:17:29.325 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - shop 1 token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjIsImRlcGFydElkIjoxLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE3MjkzWldBIiwidXNlck5hbWUiOiJzaG9wMSIsInVzZXJMZXZlbCI6MSwiaXNzIjoiT09BRCIsInN1YiI6InRoaXMgaXMgYSB0b2tlbiIsImF1ZCI6Ik1JTklBUFAiLCJpYXQiOjE3MzMzMjE4NDksImV4cCI6MTczMzMyNTQ0OX0.BPlFAgZ-J6tmAElNuaqwmWSt6Cn0_CP84GTd15MOa_Y
2024-12-04 22:17:29.325 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service-prod.yaml, group=DEFAULT_GROUP, cnt=8
2024-12-04 22:17:29.325 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service-prod.yaml, group=DEFAULT_GROUP
2024-12-04 22:17:29.325 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service, group=DEFAULT_GROUP, cnt=8
2024-12-04 22:17:29.325 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service, group=DEFAULT_GROUP
2024-12-04 22:17:29.325 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service.yaml, group=DEFAULT_GROUP, cnt=8
2024-12-04 22:17:29.325 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service.yaml, group=DEFAULT_GROUP
2024-12-04 22:17:29.628 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1)
2024-12-04 22:17:29.629 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1)
2024-12-04 22:17:29.780 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:29.780 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:17:29.827 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:657300a17077a872bd9852fe
2024-12-04 22:17:29.827 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1)
2024-12-04 22:17:29.828 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:17:29.828 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:17:29.874 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=657300a17077a872bd9852fe, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":3,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.AmountCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})]
2024-12-04 22:17:29.876 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:17:29.876 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@ba4b0fd, method = getActivity
2024-12-04 22:17:29.876 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:17:29.877 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@33ca36df, method = findById
2024-12-04 22:17:31.612 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service] & group[DEFAULT_GROUP]
2024-12-04 22:17:31.660 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:17:31.708 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service-prod.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:17:31.708 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-product-service-prod.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service,DEFAULT_GROUP'}]
2024-12-04 22:17:31.711 [main] INFO  cn.edu.xmu.oomall.product.dao.bo.CategoryTest - The following 1 profile is active: "prod"
2024-12-04 22:17:31.726 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:31.726 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:31.748 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:31.748 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:31.753 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:31.753 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:31.844 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:17:31.844 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-04 22:17:31.851 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 6 JPA repository interfaces.
2024-12-04 22:17:31.851 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:17:31.851 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-12-04 22:17:31.854 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 2 MongoDB repository interfaces.
2024-12-04 22:17:31.965 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[cn.edu.xmu.oomall.product]' package. Please check your configuration.
2024-12-04 22:17:31.969 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=422f3cad-9cd9-3423-8a84-bdb901a58148
2024-12-04 22:17:31.993 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:31.995 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:31.996 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:31.997 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:31.998 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:31.998 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$1213/0x00000211188e2de8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:31.999 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:32.017 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:32.024 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:32.209 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-9} inited
2024-12-04 22:17:32.743 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:32.744 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:32.748 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-04 22:17:32.752 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-12-04 22:17:32.757 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:32.757 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:32.762 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-04 22:17:32.781 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:32.781 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:32.882 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-04 22:17:32.882 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:17:32.940 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:32.941 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:32.941 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:32.941 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:32.941 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:32.942 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:33.078 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-04 22:17:33.124 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'shop-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:17:33.149 [main] DEBUG cn.edu.xmu.oomall.product.config.ProductConfig - snowFlakeIdWorker: ip = 192.168.56.1
2024-12-04 22:17:33.193 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'elasticsearch-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:17:33.237 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo1:27017 to client view of cluster
2024-12-04 22:17:33.238 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo2:27017 to client view of cluster
2024-12-04 22:17:33.240 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo3:27017 to client view of cluster
2024-12-04 22:17:33.242 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/17.0.10+11-LTS-240"} created with settings MongoClientSettings{readPreference=ReadPreference{name=nearest, hedgeOptions=null}, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='demouser', source='oomall', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[cn.edu.xmu.oomall.product.config.MongoCommandLogger@519a455f], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@399a27c0, com.mongodb.Jep395RecordCodecProvider@54baa076, com.mongodb.KotlinCodecProvider@3065d07d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[mongo1:27017, mongo2:27017, mongo3:27017], srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='rs0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-12-04 22:17:33.339 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48804800, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:17:26 CST 2024, lastUpdateTimeNanos=47045346861600}
2024-12-04 22:17:33.341 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:33.394 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'freight-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:17:33.934 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:33.934 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:35.983 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:35.983 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:35.983 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:35.983 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:36.194 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:36.194 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:36.441 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo2:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:86)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:86)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:201)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:551)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:105)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:80)
	... 4 common frames omitted
2024-12-04 22:17:36.444 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo3:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:86)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:86)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:201)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:551)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:105)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:80)
	... 4 common frames omitted
2024-12-04 22:17:36.530 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:36.530 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:36.681 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:36.681 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:36.681 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:36.681 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:39.171 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:39.171 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:39.172 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:39.172 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:39.559 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (goods-producer) init on namesrv rocketmq-namesrv:9876
2024-12-04 22:17:40.281 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-12-04 22:17:40.287 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2024-12-04 22:17:40.366 [main] INFO  cn.edu.xmu.oomall.product.dao.bo.CategoryTest - Started CategoryTest in 9.513 seconds (process running for 196.934)
2024-12-04 22:17:40.367 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:17:40.367 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:202412042217403TPA
2024-12-04 22:17:40.367 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - admin token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsImRlcGFydElkIjowLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE3NDAzVFBBIiwidXNlck5hbWUiOiIxMzA4OGFkbWluIiwidXNlckxldmVsIjoxLCJpc3MiOiJPT0FEIiwic3ViIjoidGhpcyBpcyBhIHRva2VuIiwiYXVkIjoiTUlOSUFQUCIsImlhdCI6MTczMzMyMTg2MCwiZXhwIjoxNzMzMzI1NDYwfQ.r_GcdZB3WjpgAHGFVff18tm3GLx7L62h-4kCBUQ8GQ8
2024-12-04 22:17:40.367 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:17:40.367 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 2 userName=shop1 departId=1 tokenId:202412042217403ZYA
2024-12-04 22:17:40.367 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - shop 1 token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjIsImRlcGFydElkIjoxLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE3NDAzWllBIiwidXNlck5hbWUiOiJzaG9wMSIsInVzZXJMZXZlbCI6MSwiaXNzIjoiT09BRCIsInN1YiI6InRoaXMgaXMgYSB0b2tlbiIsImF1ZCI6Ik1JTklBUFAiLCJpYXQiOjE3MzMzMjE4NjAsImV4cCI6MTczMzMyNTQ2MH0.8yGLPNC0ntO-83KdyysYp3OBLdw5MVbVUIqrTvsi72U
2024-12-04 22:17:40.367 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service-prod.yaml, group=DEFAULT_GROUP, cnt=9
2024-12-04 22:17:40.368 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service-prod.yaml, group=DEFAULT_GROUP
2024-12-04 22:17:40.368 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service, group=DEFAULT_GROUP, cnt=9
2024-12-04 22:17:40.368 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service, group=DEFAULT_GROUP
2024-12-04 22:17:40.368 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service.yaml, group=DEFAULT_GROUP, cnt=9
2024-12-04 22:17:40.368 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service.yaml, group=DEFAULT_GROUP
2024-12-04 22:17:40.488 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.CategoryDao@47e2355c, method = findById
2024-12-04 22:17:40.886 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.CategoryDao@47e2355c, method = findById
2024-12-04 22:17:41.278 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.CategoryDao@643de6db, method = findById
2024-12-04 22:17:41.735 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:41.735 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:41.749 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:41.749 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:41.759 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:41.760 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:42.745 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:42.746 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:42.747 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service] & group[DEFAULT_GROUP]
2024-12-04 22:17:42.764 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:42.765 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:42.791 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:42.791 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:42.797 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:17:42.849 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service-prod.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:17:42.849 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-product-service-prod.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service,DEFAULT_GROUP'}]
2024-12-04 22:17:42.854 [main] INFO  cn.edu.xmu.oomall.product.dao.GrouponActDaoTest - The following 1 profile is active: "prod"
2024-12-04 22:17:42.947 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:42.947 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:42.950 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:42.950 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:42.998 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:17:42.998 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-04 22:17:43.005 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 6 JPA repository interfaces.
2024-12-04 22:17:43.005 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:17:43.006 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-12-04 22:17:43.009 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 2 MongoDB repository interfaces.
2024-12-04 22:17:43.110 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[cn.edu.xmu.oomall.product]' package. Please check your configuration.
2024-12-04 22:17:43.114 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=f4e34340-7d00-3f01-af0d-61dfd90c1a34
2024-12-04 22:17:43.152 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:43.154 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:43.154 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:43.156 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:43.157 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:43.157 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$1213/0x00000211188e2de8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:43.164 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:43.168 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:43.169 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:17:43.242 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo2:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:86)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:86)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:201)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:551)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:105)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:80)
	... 4 common frames omitted
2024-12-04 22:17:43.245 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo3:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:86)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:86)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:201)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:551)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:105)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:80)
	... 4 common frames omitted
2024-12-04 22:17:43.291 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-10} inited
2024-12-04 22:17:43.796 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-04 22:17:43.800 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-12-04 22:17:43.810 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-04 22:17:43.925 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:43.925 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:43.925 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:43.925 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:43.930 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-04 22:17:43.930 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:17:44.170 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-04 22:17:44.192 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'shop-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:17:44.224 [main] DEBUG cn.edu.xmu.oomall.product.config.ProductConfig - snowFlakeIdWorker: ip = 192.168.56.1
2024-12-04 22:17:44.259 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'elasticsearch-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:17:44.284 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo1:27017 to client view of cluster
2024-12-04 22:17:44.290 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo2:27017 to client view of cluster
2024-12-04 22:17:44.297 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo3:27017 to client view of cluster
2024-12-04 22:17:44.305 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/17.0.10+11-LTS-240"} created with settings MongoClientSettings{readPreference=ReadPreference{name=nearest, hedgeOptions=null}, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='demouser', source='oomall', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[cn.edu.xmu.oomall.product.config.MongoCommandLogger@14cd9a72], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@399a27c0, com.mongodb.Jep395RecordCodecProvider@54baa076, com.mongodb.KotlinCodecProvider@3065d07d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[mongo1:27017, mongo2:27017, mongo3:27017], srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='rs0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-12-04 22:17:44.388 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46672700, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:17:36 CST 2024, lastUpdateTimeNanos=47056395995000}
2024-12-04 22:17:44.388 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:44.399 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo2:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48023300, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:17:36 CST 2024, lastUpdateTimeNanos=47056407222800}
2024-12-04 22:17:44.399 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:44.399 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:44.474 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'freight-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:17:45.915 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:45.916 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:45.916 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:45.916 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:45.924 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:45.924 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:46.519 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:46.519 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:46.539 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo2:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=49299500, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:17:46 CST 2024, lastUpdateTimeNanos=47058547541200}
2024-12-04 22:17:46.539 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:46.539 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:46.582 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:46.582 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:46.689 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:46.690 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:46.692 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:46.692 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:49.110 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo3:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=52674400, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:17:46 CST 2024, lastUpdateTimeNanos=47061118001800}
2024-12-04 22:17:49.110 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:49.110 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:49.150 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:49.151 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:49.169 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:49.169 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:50.056 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (goods-producer) init on namesrv rocketmq-namesrv:9876
2024-12-04 22:17:50.345 [main] INFO  o.s.b.test.mock.web.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''
2024-12-04 22:17:50.345 [main] INFO  o.s.test.web.servlet.TestDispatcherServlet - Initializing Servlet ''
2024-12-04 22:17:50.348 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2024-12-04 22:17:50.355 [main] INFO  o.s.test.web.servlet.TestDispatcherServlet - Completed initialization in 10 ms
2024-12-04 22:17:50.765 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-12-04 22:17:50.834 [main] INFO  cn.edu.xmu.oomall.product.dao.GrouponActDaoTest - Started GrouponActDaoTest in 8.952 seconds (process running for 207.402)
2024-12-04 22:17:50.835 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:17:50.835 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:202412042217508O8A
2024-12-04 22:17:50.835 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - admin token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsImRlcGFydElkIjowLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE3NTA4TzhBIiwidXNlck5hbWUiOiIxMzA4OGFkbWluIiwidXNlckxldmVsIjoxLCJpc3MiOiJPT0FEIiwic3ViIjoidGhpcyBpcyBhIHRva2VuIiwiYXVkIjoiTUlOSUFQUCIsImlhdCI6MTczMzMyMTg3MCwiZXhwIjoxNzMzMzI1NDcwfQ.tZNxLyMGpZl8iI8Q52wEeDinZ6-Dq-SJGicslFV778I
2024-12-04 22:17:50.835 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:17:50.836 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 2 userName=shop1 departId=1 tokenId:202412042217508GXA
2024-12-04 22:17:50.836 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - shop 1 token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjIsImRlcGFydElkIjoxLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE3NTA4R1hBIiwidXNlck5hbWUiOiJzaG9wMSIsInVzZXJMZXZlbCI6MSwiaXNzIjoiT09BRCIsInN1YiI6InRoaXMgaXMgYSB0b2tlbiIsImF1ZCI6Ik1JTklBUFAiLCJpYXQiOjE3MzMzMjE4NzAsImV4cCI6MTczMzMyNTQ3MH0.T850zQMm2YzWyy8ZQ6JLJVgaqe6Rr1gPGShzQiX0tHE
2024-12-04 22:17:50.836 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service-prod.yaml, group=DEFAULT_GROUP, cnt=10
2024-12-04 22:17:50.836 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service-prod.yaml, group=DEFAULT_GROUP
2024-12-04 22:17:50.836 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service, group=DEFAULT_GROUP, cnt=10
2024-12-04 22:17:50.836 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service, group=DEFAULT_GROUP
2024-12-04 22:17:50.836 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service.yaml, group=DEFAULT_GROUP, cnt=10
2024-12-04 22:17:50.836 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service.yaml, group=DEFAULT_GROUP
2024-12-04 22:17:51.740 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:51.740 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:51.752 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:51.752 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:51.767 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:51.768 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:52.749 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:52.750 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:52.770 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:52.771 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:52.800 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:52.800 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:52.982 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:52.982 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:52.982 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:52.982 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:52.982 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:52.982 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:53.348 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo2:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48120600, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:17:46 CST 2024, lastUpdateTimeNanos=47065355843000}
2024-12-04 22:17:53.349 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:53.349 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:53.401 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:53.401 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:53.924 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:53.925 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:53.935 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:53.935 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:54.305 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo3:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:86)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:86)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:201)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:551)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:105)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:80)
	... 4 common frames omitted
2024-12-04 22:17:54.440 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:54.441 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:54.458 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:54.458 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:55.953 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:55.953 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:55.954 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:55.954 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:56.529 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:56.529 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:56.590 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:56.590 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:56.699 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:17:56.699 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:56.700 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:56.700 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:59.229 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:17:59.229 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:17:59.229 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:17:59.230 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:00.911 [main] INFO  org.mongodb.driver.cluster - Waiting for server to become available for operation with ID 343. Remaining time: 30000 ms. Selector: ReadPreferenceServerSelector{readPreference=ReadPreference{name=nearest, hedgeOptions=null}}, topology description: {type=REPLICA_SET, servers=[{address=mongo3:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, {address=mongo2:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, {address=mongo1:27017, type=UNKNOWN, state=CONNECTING}].
2024-12-04 22:18:01.034 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo3:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48700600, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:17:56 CST 2024, lastUpdateTimeNanos=47073041330700}
2024-12-04 22:18:01.034 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:01.514 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo2:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48446400, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:17:56 CST 2024, lastUpdateTimeNanos=47073523016800}
2024-12-04 22:18:01.515 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:01.515 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:01.749 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:01.749 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:01.762 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:01.762 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:01.779 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:01.779 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:02.755 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:02.755 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:02.781 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:02.791 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:02.801 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:02.801 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:03.017 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:03.017 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:03.017 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:03.017 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:03.018 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:03.018 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:03.405 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:03.406 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:03.407 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:03.407 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:03.963 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:03.963 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:04.445 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:04.445 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:05.912 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:05.913 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:05.928 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:05.928 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:05.942 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:05.942 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:06.538 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:06.539 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:06.548 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo3:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48850300, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:18:06 CST 2024, lastUpdateTimeNanos=47078556280400}
2024-12-04 22:18:06.549 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:06.549 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:06.591 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:06.591 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:06.597 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:06.599 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:06.711 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:06.711 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:06.711 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:06.711 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:09.169 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:09.170 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:09.191 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:09.192 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:11.038 [main] ERROR cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.GrouponActDao@6e549c96, method = getActivity, e = {}
org.springframework.dao.DataAccessResourceFailureException: Exception opening socket
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:78)
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:3008)
	at org.springframework.data.mongodb.core.MongoTemplate.executeFindOneInternal(MongoTemplate.java:2891)
	at org.springframework.data.mongodb.core.MongoTemplate.doFindOne(MongoTemplate.java:2546)
	at org.springframework.data.mongodb.core.MongoTemplate.findOne(MongoTemplate.java:819)
	at org.springframework.data.mongodb.repository.support.SimpleMongoRepository.findById(SimpleMongoRepository.java:127)
	at jdk.internal.reflect.GeneratedMethodAccessor120.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:173)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:148)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.mongodb.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:158)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy227.findById(Unknown Source)
	at jdk.internal.reflect.GeneratedMethodAccessor119.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy227.findById(Unknown Source)
	at cn.edu.xmu.oomall.product.dao.activity.GrouponActDao.getActivity(GrouponActDao.java:39)
	at jdk.internal.reflect.GeneratedMethodAccessor131.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.edu.xmu.javaee.core.aop.DaoAspect.doAround(DaoAspect.java:29)
	at jdk.internal.reflect.GeneratedMethodAccessor97.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.dao.activity.GrouponActDao$$SpringCGLIB$$0.getActivity(<generated>)
	at cn.edu.xmu.oomall.product.dao.GrouponActDaoTest.testGetActivityWithWrongObjectId(GrouponActDaoTest.java:41)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:86)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:86)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:201)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.open(UsageTrackingInternalConnection.java:55)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.open(DefaultConnectionPool.java:625)
	at com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openWithConcurrencyLimit(DefaultConnectionPool.java:965)
	at com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openOrGetAvailable(DefaultConnectionPool.java:906)
	at com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:203)
	at com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:192)
	at com.mongodb.internal.connection.DefaultServer.getConnection(DefaultServer.java:96)
	at com.mongodb.internal.binding.ClusterBinding$ClusterBindingConnectionSource.getConnection(ClusterBinding.java:178)
	at com.mongodb.client.internal.ClientSessionBinding$SessionBindingConnectionSource.getConnection(ClientSessionBinding.java:196)
	at com.mongodb.internal.operation.SyncOperationHelper.withSuppliedResource(SyncOperationHelper.java:141)
	at com.mongodb.internal.operation.SyncOperationHelper.lambda$withSourceAndConnection$1(SyncOperationHelper.java:123)
	at com.mongodb.internal.operation.SyncOperationHelper.withSuppliedResource(SyncOperationHelper.java:149)
	at com.mongodb.internal.operation.SyncOperationHelper.withSourceAndConnection(SyncOperationHelper.java:122)
	at com.mongodb.internal.operation.FindOperation.lambda$execute$2(FindOperation.java:310)
	at com.mongodb.internal.operation.SyncOperationHelper.lambda$decorateReadWithRetries$12(SyncOperationHelper.java:289)
	at com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:67)
	at com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:321)
	at com.mongodb.internal.operation.FindOperation.execute(FindOperation.java:71)
	at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:153)
	at com.mongodb.client.internal.FindIterableImpl.first(FindIterableImpl.java:206)
	at org.springframework.data.mongodb.core.MongoTemplate$FindOneCallback.doInCollection(MongoTemplate.java:3048)
	at org.springframework.data.mongodb.core.MongoTemplate$FindOneCallback.doInCollection(MongoTemplate.java:3022)
	at org.springframework.data.mongodb.core.MongoTemplate.executeFindOneInternal(MongoTemplate.java:2888)
	... 133 common frames omitted
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:551)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:105)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:80)
	... 157 common frames omitted
2024-12-04 22:18:11.041 [main] INFO  cn.edu.xmu.oomall.product.dao.GrouponActDaoTest - testGetActivityWithWrongObjectId: Exception opening socket
2024-12-04 22:18:11.195 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - insert: onsale=OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=null, beginTime=null, endTime=null, quantity=null, maxQuantity=null, shopId=null, productId=null, type=null, deposit=null, payTime=null)
2024-12-04 22:18:11.195 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - hasConflictOnsale: onsale = OnSale(super=OOMallObject(id=null, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=null, beginTime=null, endTime=null, quantity=null, maxQuantity=null, shopId=null, productId=null, type=null, deposit=null, payTime=null)
2024-12-04 22:18:11.195 [main] ERROR cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = insert, e = {}
org.springframework.dao.InvalidDataAccessApiUsageException: OnsaleDao.hasConflictOnsale: onsale's productId, beginTime and endTime can not be null
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.edu.xmu.javaee.core.aop.DaoAspect.doAround(DaoAspect.java:29)
	at jdk.internal.reflect.GeneratedMethodAccessor97.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao$$SpringCGLIB$$0.insert(<generated>)
	at jdk.internal.reflect.GeneratedMethodAccessor194.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)
	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:482)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao$$SpringCGLIB$$1.insert(<generated>)
	at cn.edu.xmu.oomall.product.dao.onsale.OnSaleDaoTest.lambda$testHasInsertGivenProductIdNull$0(OnSaleDaoTest.java:124)
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:53)
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35)
	at org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3115)
	at cn.edu.xmu.oomall.product.dao.onsale.OnSaleDaoTest.testHasInsertGivenProductIdNull(OnSaleDaoTest.java:124)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: java.lang.IllegalArgumentException: OnsaleDao.hasConflictOnsale: onsale's productId, beginTime and endTime can not be null
	at cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao.hasConflictOnsale(OnSaleDao.java:218)
	at cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao.insert(OnSaleDao.java:199)
	at jdk.internal.reflect.GeneratedMethodAccessor194.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 102 common frames omitted
2024-12-04 22:18:11.288 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =1894
2024-12-04 22:18:11.345 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = findLatestValidOnsaleByProductId
2024-12-04 22:18:11.484 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =1561
2024-12-04 22:18:11.570 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:11.571 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:11.759 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:11.759 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:11.771 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:11.771 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:11.788 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:11.788 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:12.044 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = findLatestValidOnsaleByProductId
2024-12-04 22:18:12.188 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =1561
2024-12-04 22:18:12.241 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = findLatestValidOnsaleByProductId
2024-12-04 22:18:12.380 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =1561
2024-12-04 22:18:12.380 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =9999
2024-12-04 22:18:12.426 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = findLatestValidOnsaleByProductId
2024-12-04 22:18:12.567 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findLatestValidOnsale: id =1561
2024-12-04 22:18:12.567 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =12
2024-12-04 22:18:12.618 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = findLatestValidOnsaleByProductId
2024-12-04 22:18:12.756 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = null, page = 0, pageSize = 10
2024-12-04 22:18:12.756 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = retrieveByActId
2024-12-04 22:18:12.770 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:12.770 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:12.789 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:12.790 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:12.812 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:12.812 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:12.904 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = deleteRelateOnsales
2024-12-04 22:18:12.965 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:12.965 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:12.968 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:12.968 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:12.972 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:12.972 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:13.662 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service] & group[DEFAULT_GROUP]
2024-12-04 22:18:13.715 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:18:13.768 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service-prod.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:18:13.768 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-product-service-prod.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service,DEFAULT_GROUP'}]
2024-12-04 22:18:13.770 [main] INFO  cn.edu.xmu.oomall.product.dao.OnsaleDaoTest - The following 1 profile is active: "prod"
2024-12-04 22:18:13.945 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:18:13.945 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-04 22:18:13.953 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 6 JPA repository interfaces.
2024-12-04 22:18:13.953 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:13.954 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:18:13.954 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:13.954 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-12-04 22:18:13.958 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 2 MongoDB repository interfaces.
2024-12-04 22:18:14.111 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[cn.edu.xmu.oomall.product]' package. Please check your configuration.
2024-12-04 22:18:14.114 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=422f3cad-9cd9-3423-8a84-bdb901a58148
2024-12-04 22:18:14.136 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:14.137 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:14.138 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:14.140 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:14.140 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:14.141 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$1213/0x00000211188e2de8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:14.142 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:14.145 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:14.145 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:14.237 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-11} inited
2024-12-04 22:18:14.453 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:14.453 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:14.754 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo2:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=50252300, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:18:06 CST 2024, lastUpdateTimeNanos=47086762012400}
2024-12-04 22:18:14.754 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:14.755 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:14.761 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-04 22:18:14.765 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-12-04 22:18:14.771 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-04 22:18:14.956 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-04 22:18:14.957 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:18:15.143 [main] DEBUG cn.edu.xmu.oomall.product.config.ProductConfig - snowFlakeIdWorker: ip = 192.168.56.1
2024-12-04 22:18:15.221 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-04 22:18:15.275 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'elasticsearch-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:18:15.308 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo1:27017 to client view of cluster
2024-12-04 22:18:15.310 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo2:27017 to client view of cluster
2024-12-04 22:18:15.311 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo3:27017 to client view of cluster
2024-12-04 22:18:15.313 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/17.0.10+11-LTS-240"} created with settings MongoClientSettings{readPreference=ReadPreference{name=nearest, hedgeOptions=null}, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='demouser', source='oomall', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[cn.edu.xmu.oomall.product.config.MongoCommandLogger@7c122412], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@399a27c0, com.mongodb.Jep395RecordCodecProvider@54baa076, com.mongodb.KotlinCodecProvider@3065d07d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[mongo1:27017, mongo2:27017, mongo3:27017], srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='rs0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-12-04 22:18:15.407 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'freight-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:18:15.416 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51267900, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:18:06 CST 2024, lastUpdateTimeNanos=47087424221400}
2024-12-04 22:18:15.416 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:16.022 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:16.022 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:16.022 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:16.022 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:16.022 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:16.022 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:16.548 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:16.548 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:16.594 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:16.594 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:16.601 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:16.601 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:16.604 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:16.604 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:16.712 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:16.712 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:16.713 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:16.713 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:19.195 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:19.196 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:19.196 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:19.196 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:19.197 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:19.197 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:20.814 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (goods-producer) init on namesrv rocketmq-namesrv:9876
2024-12-04 22:18:21.131 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo3:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46109800, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:18:16 CST 2024, lastUpdateTimeNanos=47093139352900}
2024-12-04 22:18:21.132 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:21.132 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:21.419 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-12-04 22:18:21.426 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2024-12-04 22:18:21.485 [main] INFO  cn.edu.xmu.oomall.product.dao.OnsaleDaoTest - Started OnsaleDaoTest in 8.482 seconds (process running for 238.052)
2024-12-04 22:18:21.485 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:18:21.486 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:202412042218214XCA
2024-12-04 22:18:21.486 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - admin token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsImRlcGFydElkIjowLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE4MjE0WENBIiwidXNlck5hbWUiOiIxMzA4OGFkbWluIiwidXNlckxldmVsIjoxLCJpc3MiOiJPT0FEIiwic3ViIjoidGhpcyBpcyBhIHRva2VuIiwiYXVkIjoiTUlOSUFQUCIsImlhdCI6MTczMzMyMTkwMSwiZXhwIjoxNzMzMzI1NTAxfQ.pIQBhJ7F8oH3WNBe3FH4L8IfrOKNR5Lx9qX2DBivGCc
2024-12-04 22:18:21.486 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:18:21.486 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 2 userName=shop1 departId=1 tokenId:202412042218214ADA
2024-12-04 22:18:21.486 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - shop 1 token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjIsImRlcGFydElkIjoxLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE4MjE0QURBIiwidXNlck5hbWUiOiJzaG9wMSIsInVzZXJMZXZlbCI6MSwiaXNzIjoiT09BRCIsInN1YiI6InRoaXMgaXMgYSB0b2tlbiIsImF1ZCI6Ik1JTklBUFAiLCJpYXQiOjE3MzMzMjE5MDEsImV4cCI6MTczMzMyNTUwMX0.0SU-OHS8b4tc2QvjZULqFabKL5rVgIb1AofuUp3rJCI
2024-12-04 22:18:21.486 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service-prod.yaml, group=DEFAULT_GROUP, cnt=11
2024-12-04 22:18:21.486 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service-prod.yaml, group=DEFAULT_GROUP
2024-12-04 22:18:21.486 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service, group=DEFAULT_GROUP, cnt=11
2024-12-04 22:18:21.486 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service, group=DEFAULT_GROUP
2024-12-04 22:18:21.486 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service.yaml, group=DEFAULT_GROUP, cnt=11
2024-12-04 22:18:21.486 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service.yaml, group=DEFAULT_GROUP
2024-12-04 22:18:21.559 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =3
2024-12-04 22:18:21.580 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:21.581 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:21.608 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@31a58c24, method = findById
2024-12-04 22:18:21.762 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =20
2024-12-04 22:18:21.764 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:21.765 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:21.779 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:21.780 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:21.792 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:21.793 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:21.951 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =10000000
2024-12-04 22:18:22.800 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:22.801 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:22.801 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:22.801 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:22.816 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:22.816 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:22.850 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service] & group[DEFAULT_GROUP]
2024-12-04 22:18:22.904 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:18:22.957 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service-prod.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:18:22.957 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-product-service-prod.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service,DEFAULT_GROUP'}]
2024-12-04 22:18:22.961 [main] INFO  c.e.x.oomall.product.dao.openfeign.TemplateDaoTest - The following 1 profile is active: "prod"
2024-12-04 22:18:22.971 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:22.971 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:22.976 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:22.976 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:22.977 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:22.977 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:23.109 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:18:23.109 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-04 22:18:23.121 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 6 JPA repository interfaces.
2024-12-04 22:18:23.121 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:18:23.121 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-12-04 22:18:23.124 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 2 MongoDB repository interfaces.
2024-12-04 22:18:23.257 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[cn.edu.xmu.oomall.product]' package. Please check your configuration.
2024-12-04 22:18:23.260 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=422f3cad-9cd9-3423-8a84-bdb901a58148
2024-12-04 22:18:23.281 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:23.282 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:23.283 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:23.285 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:23.286 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:23.286 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$1213/0x00000211188e2de8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:23.287 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:23.290 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:23.290 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:23.413 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:23.413 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:23.416 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:23.416 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:23.441 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-12} inited
2024-12-04 22:18:23.940 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:23.940 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:23.948 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-04 22:18:23.952 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-12-04 22:18:23.960 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:23.960 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:23.961 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-04 22:18:24.077 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-04 22:18:24.077 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:18:24.358 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-04 22:18:24.395 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'shop-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:18:24.422 [main] DEBUG cn.edu.xmu.oomall.product.config.ProductConfig - snowFlakeIdWorker: ip = 192.168.56.1
2024-12-04 22:18:24.451 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'elasticsearch-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:18:24.461 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:24.461 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:24.473 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo1:27017 to client view of cluster
2024-12-04 22:18:24.474 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo2:27017 to client view of cluster
2024-12-04 22:18:24.475 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo3:27017 to client view of cluster
2024-12-04 22:18:24.477 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/17.0.10+11-LTS-240"} created with settings MongoClientSettings{readPreference=ReadPreference{name=nearest, hedgeOptions=null}, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='demouser', source='oomall', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[cn.edu.xmu.oomall.product.config.MongoCommandLogger@41f4d2d1], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@399a27c0, com.mongodb.Jep395RecordCodecProvider@54baa076, com.mongodb.KotlinCodecProvider@3065d07d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[mongo1:27017, mongo2:27017, mongo3:27017], srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='rs0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-12-04 22:18:24.575 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51119700, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:18:16 CST 2024, lastUpdateTimeNanos=47096583139500}
2024-12-04 22:18:24.575 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:24.588 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo2:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=50785900, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:18:16 CST 2024, lastUpdateTimeNanos=47096596311000}
2024-12-04 22:18:24.588 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:24.589 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:24.593 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo3:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47927700, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:18:16 CST 2024, lastUpdateTimeNanos=47096601250500}
2024-12-04 22:18:24.600 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:24.600 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:24.655 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'freight-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:18:24.827 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:24.828 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:25.313 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo2:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:86)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:86)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:201)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:551)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:105)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:80)
	... 4 common frames omitted
2024-12-04 22:18:25.316 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo3:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:86)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:86)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:201)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:551)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:105)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:80)
	... 4 common frames omitted
2024-12-04 22:18:25.954 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:25.955 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:25.955 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:25.955 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:25.957 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:25.965 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:26.559 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:26.559 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:26.602 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:26.602 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:26.604 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:26.604 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:26.605 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:26.605 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:26.717 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:26.717 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:26.717 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:26.717 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:29.231 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:29.231 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:29.231 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:29.231 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:29.999 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (goods-producer) init on namesrv rocketmq-namesrv:9876
2024-12-04 22:18:30.704 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-12-04 22:18:30.711 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2024-12-04 22:18:30.768 [main] INFO  c.e.x.oomall.product.dao.openfeign.TemplateDaoTest - Started TemplateDaoTest in 8.665 seconds (process running for 247.337)
2024-12-04 22:18:30.769 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:18:30.769 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:202412042218307TZA
2024-12-04 22:18:30.769 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - admin token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsImRlcGFydElkIjowLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE4MzA3VFpBIiwidXNlck5hbWUiOiIxMzA4OGFkbWluIiwidXNlckxldmVsIjoxLCJpc3MiOiJPT0FEIiwic3ViIjoidGhpcyBpcyBhIHRva2VuIiwiYXVkIjoiTUlOSUFQUCIsImlhdCI6MTczMzMyMTkxMCwiZXhwIjoxNzMzMzI1NTEwfQ.cxSnG33hxH3V2cuLdJukNzBN9t8zGcQ75l-CT7q2glA
2024-12-04 22:18:30.769 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:18:30.769 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 2 userName=shop1 departId=1 tokenId:202412042218307RJA
2024-12-04 22:18:30.769 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - shop 1 token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjIsImRlcGFydElkIjoxLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE4MzA3UkpBIiwidXNlck5hbWUiOiJzaG9wMSIsInVzZXJMZXZlbCI6MSwiaXNzIjoiT09BRCIsInN1YiI6InRoaXMgaXMgYSB0b2tlbiIsImF1ZCI6Ik1JTklBUFAiLCJpYXQiOjE3MzMzMjE5MTAsImV4cCI6MTczMzMyNTUxMH0.YZJlmjx4CigT1tFD2FKCRwkxRqRxosfzgcGP68AvnCw
2024-12-04 22:18:30.769 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service-prod.yaml, group=DEFAULT_GROUP, cnt=12
2024-12-04 22:18:30.769 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service-prod.yaml, group=DEFAULT_GROUP
2024-12-04 22:18:30.769 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service, group=DEFAULT_GROUP, cnt=12
2024-12-04 22:18:30.770 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service, group=DEFAULT_GROUP
2024-12-04 22:18:30.770 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service.yaml, group=DEFAULT_GROUP, cnt=12
2024-12-04 22:18:30.770 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service.yaml, group=DEFAULT_GROUP
2024-12-04 22:18:30.789 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.openfeign.TemplateDao@100a16a, method = findById
2024-12-04 22:18:30.798 [main] DEBUG c.e.x.oomall.product.dao.openfeign.TemplateDaoTest - Test successful: Template(id=1, name=Template1)
2024-12-04 22:18:30.802 [main] ERROR cn.edu.xmu.javaee.core.aop.OpenFeignMapperAspect - HTTP code is 200/201 but InternalReturnObject error: errno=17, errmsg=Template is out of scope
2024-12-04 22:18:30.802 [main] ERROR cn.edu.xmu.javaee.core.aop.OpenFeignMapperAspect - Unexpected exception occurred: Template is out of scope
2024-12-04 22:18:30.802 [main] DEBUG c.e.x.oomall.product.dao.openfeign.TemplateDaoTest - Exception captured: Template is out of scope
2024-12-04 22:18:30.804 [main] ERROR cn.edu.xmu.javaee.core.aop.OpenFeignMapperAspect - HTTP code is 200/201 but InternalReturnObject error: errno=4, errmsg=Template not found
2024-12-04 22:18:30.805 [main] ERROR cn.edu.xmu.javaee.core.aop.OpenFeignMapperAspect - Unexpected exception occurred: Template not found
2024-12-04 22:18:30.805 [main] DEBUG c.e.x.oomall.product.dao.openfeign.TemplateDaoTest - Exception captured: Template not found
2024-12-04 22:18:30.859 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = null
2024-12-04 22:18:30.859 [main] ERROR cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@1b0536ee, method = findNoOnsaleById, e = {}
java.lang.IllegalArgumentException: ProductDao.findNoOnsaleById: product id can not be null
	at cn.edu.xmu.oomall.product.dao.ProductDao.findNoOnsaleById(ProductDao.java:119)
	at jdk.internal.reflect.GeneratedMethodAccessor109.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.edu.xmu.javaee.core.aop.DaoAspect.doAround(DaoAspect.java:29)
	at jdk.internal.reflect.GeneratedMethodAccessor97.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.dao.ProductDao$$SpringCGLIB$$2.findNoOnsaleById(<generated>)
	at jdk.internal.reflect.GeneratedMethodAccessor109.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)
	at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:482)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.dao.ProductDao$$SpringCGLIB$$0.findNoOnsaleById(<generated>)
	at cn.edu.xmu.oomall.product.dao.ProductDaoTest.lambda$testFindNoOnsaleByIdWhenNull$0(ProductDaoTest.java:40)
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:53)
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35)
	at org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3115)
	at cn.edu.xmu.oomall.product.dao.ProductDaoTest.testFindNoOnsaleByIdWhenNull(ProductDaoTest.java:40)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
2024-12-04 22:18:30.954 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 5461
2024-12-04 22:18:31.004 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@1b0536ee, method = findNoOnsaleById
2024-12-04 22:18:31.145 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findNoOnsaleById: id = 5461
2024-12-04 22:18:31.189 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:31.189 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:31.333 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 189
2024-12-04 22:18:31.383 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@1b0536ee, method = findByOnsale
2024-12-04 22:18:31.533 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: insert obj
2024-12-04 22:18:31.590 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:31.590 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:31.628 [main] WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper - SQL Error: 1048, SQLState: 23000
2024-12-04 22:18:31.628 [main] ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - Column 'gmt_create' cannot be null
2024-12-04 22:18:31.729 [main] ERROR cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDraftDao@5a608490, method = save, e = {}
org.springframework.dao.DataIntegrityViolationException: could not execute statement [Column 'gmt_create' cannot be null] [insert into goods_product_draft (category_id,creator_id,creator_name,gmt_create,gmt_modified,modifier_id,modifier_name,name,origin_place,original_price,product_id,shop_id,unit) values (?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into goods_product_draft (category_id,creator_id,creator_name,gmt_create,gmt_modified,modifier_id,modifier_name,name,origin_place,original_price,product_id,shop_id,unit) values (?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [null]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:335)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy215.save(Unknown Source)
	at cn.edu.xmu.oomall.product.dao.ProductDraftDao.save(ProductDraftDao.java:87)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at cn.edu.xmu.javaee.core.aop.DaoAspect.doAround(DaoAspect.java:29)
	at jdk.internal.reflect.GeneratedMethodAccessor97.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at cn.edu.xmu.oomall.product.dao.ProductDraftDao$$SpringCGLIB$$0.save(<generated>)
	at cn.edu.xmu.oomall.product.dao.ProductDraftDaoTest.lambda$testSaveWhenNull$1(ProductDraftDaoTest.java:45)
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:53)
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35)
	at org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3115)
	at cn.edu.xmu.oomall.product.dao.ProductDraftDaoTest.testSaveWhenNull(ProductDraftDaoTest.java:45)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:156)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [Column 'gmt_create' cannot be null] [insert into goods_product_draft (category_id,creator_id,creator_name,gmt_create,gmt_modified,modifier_id,modifier_name,name,origin_place,original_price,product_id,shop_id,unit) values (?,?,?,?,?,?,?,?,?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:62)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:671)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:292)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:273)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:323)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:391)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:305)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:137)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319)
	at jdk.proxy2/jdk.proxy2.$Proxy202.persist(Unknown Source)
	at cn.edu.xmu.javaee.core.jpa.SelectiveUpdateJpaRepositoryImpl.save(SelectiveUpdateJpaRepositoryImpl.java:53)
	at jdk.internal.reflect.GeneratedMethodAccessor118.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:173)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:148)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 110 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'gmt_create' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1166)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1101)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1467)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1084)
	at com.alibaba.druid.pool.DruidPooledPreparedStatement.executeUpdate(DruidPooledPreparedStatement.java:241)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 159 common frames omitted
2024-12-04 22:18:31.735 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDraftDao - findById: id =1
2024-12-04 22:18:31.771 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:31.771 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:31.787 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:31.787 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:31.796 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:31.796 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:32.308 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDraftDao - bos size:1
2024-12-04 22:18:32.308 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDraftDao@5a608490, method = retrieveProductDraftByShopId
2024-12-04 22:18:32.392 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDraftDao - bos size:0
2024-12-04 22:18:32.392 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDraftDao@5a608490, method = retrieveProductDraftByShopId
2024-12-04 22:18:33.307 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service] & group[DEFAULT_GROUP]
2024-12-04 22:18:33.358 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:18:33.407 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service-prod.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:18:33.407 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-product-service-prod.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service,DEFAULT_GROUP'}]
2024-12-04 22:18:33.410 [main] INFO  c.e.x.o.product.mapper.mongo.CouponActMongoTest - The following 1 profile is active: "prod"
2024-12-04 22:18:33.422 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:33.422 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:33.424 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:33.424 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:33.581 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:18:33.581 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-04 22:18:33.591 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 6 JPA repository interfaces.
2024-12-04 22:18:33.591 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:18:33.591 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-12-04 22:18:33.595 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 2 MongoDB repository interfaces.
2024-12-04 22:18:33.766 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[cn.edu.xmu.oomall.product]' package. Please check your configuration.
2024-12-04 22:18:33.768 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=422f3cad-9cd9-3423-8a84-bdb901a58148
2024-12-04 22:18:33.787 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:33.788 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:33.789 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:33.791 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:33.791 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:33.792 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$1213/0x00000211188e2de8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:33.793 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:33.795 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:33.796 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:18:33.908 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-13} inited
2024-12-04 22:18:33.940 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:33.940 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:33.967 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:33.967 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:34.417 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-04 22:18:34.420 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-12-04 22:18:34.425 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-04 22:18:34.469 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:34.469 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:34.547 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-04 22:18:34.547 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:18:34.627 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:34.627 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:34.656 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:34.656 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:34.789 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-04 22:18:34.818 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:34.818 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:34.830 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'shop-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:18:34.884 [main] DEBUG cn.edu.xmu.oomall.product.config.ProductConfig - snowFlakeIdWorker: ip = 192.168.56.1
2024-12-04 22:18:34.916 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:34.918 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:34.944 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'elasticsearch-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:18:34.966 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo1:27017 to client view of cluster
2024-12-04 22:18:34.967 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo2:27017 to client view of cluster
2024-12-04 22:18:34.968 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo3:27017 to client view of cluster
2024-12-04 22:18:34.970 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/17.0.10+11-LTS-240"} created with settings MongoClientSettings{readPreference=ReadPreference{name=nearest, hedgeOptions=null}, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='demouser', source='oomall', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[cn.edu.xmu.oomall.product.config.MongoCommandLogger@1afe1a23], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@399a27c0, com.mongodb.Jep395RecordCodecProvider@54baa076, com.mongodb.KotlinCodecProvider@3065d07d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[mongo1:27017, mongo2:27017, mongo3:27017], srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='rs0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-12-04 22:18:35.064 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47572800, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:18:26 CST 2024, lastUpdateTimeNanos=47107073077800}
2024-12-04 22:18:35.065 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:35.071 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo2:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47278900, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:18:26 CST 2024, lastUpdateTimeNanos=47107079618800}
2024-12-04 22:18:35.071 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:35.071 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:35.102 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'freight-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:18:35.409 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo2:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46476500, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:18:26 CST 2024, lastUpdateTimeNanos=47107417816700}
2024-12-04 22:18:35.409 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:35.409 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:35.412 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo3:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47109900, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:18:26 CST 2024, lastUpdateTimeNanos=47107420769300}
2024-12-04 22:18:35.412 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:35.412 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:35.486 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:35.486 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:35.941 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:35.942 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:35.954 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:35.955 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:35.967 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:35.967 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:36.568 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:36.568 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:36.608 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:36.608 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:36.609 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:36.609 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:36.613 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:36.613 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:36.724 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:36.725 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:36.726 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:36.726 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:39.180 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:39.180 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:39.187 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:39.187 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:39.209 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:39.209 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:40.579 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (goods-producer) init on namesrv rocketmq-namesrv:9876
2024-12-04 22:18:41.212 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:41.212 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:41.284 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-12-04 22:18:41.293 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2024-12-04 22:18:41.373 [main] INFO  c.e.x.o.product.mapper.mongo.CouponActMongoTest - Started CouponActMongoTest in 8.975 seconds (process running for 257.941)
2024-12-04 22:18:41.374 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:18:41.374 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:202412042218413F0A
2024-12-04 22:18:41.374 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - admin token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsImRlcGFydElkIjowLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE4NDEzRjBBIiwidXNlck5hbWUiOiIxMzA4OGFkbWluIiwidXNlckxldmVsIjoxLCJpc3MiOiJPT0FEIiwic3ViIjoidGhpcyBpcyBhIHRva2VuIiwiYXVkIjoiTUlOSUFQUCIsImlhdCI6MTczMzMyMTkyMSwiZXhwIjoxNzMzMzI1NTIxfQ.TeGPLlF-Ss8Jw5rUlWkWWlXY2Sk61s2Y6itxi2QV0vE
2024-12-04 22:18:41.374 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:18:41.374 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 2 userName=shop1 departId=1 tokenId:202412042218413VIA
2024-12-04 22:18:41.374 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - shop 1 token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjIsImRlcGFydElkIjoxLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE4NDEzVklBIiwidXNlck5hbWUiOiJzaG9wMSIsInVzZXJMZXZlbCI6MSwiaXNzIjoiT09BRCIsInN1YiI6InRoaXMgaXMgYSB0b2tlbiIsImF1ZCI6Ik1JTklBUFAiLCJpYXQiOjE3MzMzMjE5MjEsImV4cCI6MTczMzMyNTUyMX0.ljhC4e0HNkzKc3vQzHcX3dGUC3V1lwfkD2ieszUoSJo
2024-12-04 22:18:41.375 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service-prod.yaml, group=DEFAULT_GROUP, cnt=13
2024-12-04 22:18:41.375 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service-prod.yaml, group=DEFAULT_GROUP
2024-12-04 22:18:41.375 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service, group=DEFAULT_GROUP, cnt=13
2024-12-04 22:18:41.375 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service, group=DEFAULT_GROUP
2024-12-04 22:18:41.375 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service.yaml, group=DEFAULT_GROUP, cnt=13
2024-12-04 22:18:41.375 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service.yaml, group=DEFAULT_GROUP
2024-12-04 22:18:41.621 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:41.621 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:41.825 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:41.825 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:41.825 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:41.826 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:42.851 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:42.851 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:42.851 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:42.851 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:42.852 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:42.852 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:42.975 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:42.976 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:42.978 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:42.978 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:42.979 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:42.979 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:43.429 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:43.430 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:43.430 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:43.430 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:43.976 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:43.976 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:43.976 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:43.976 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:44.480 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:44.480 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:44.629 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:44.629 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:44.667 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:44.667 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:44.668 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:44.668 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:44.827 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:44.827 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:44.971 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo3:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:86)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:86)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:201)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:551)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:105)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:80)
	... 4 common frames omitted
2024-12-04 22:18:45.118 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:45.118 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:45.120 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:45.120 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:45.492 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:45.492 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:45.493 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:45.493 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:45.493 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:45.493 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:46.026 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:46.026 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:46.026 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:46.026 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:46.027 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:46.027 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:46.593 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:46.593 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:46.612 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:46.612 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:46.620 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:46.620 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:46.623 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:46.623 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:46.727 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:46.727 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:46.736 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:46.736 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:49.199 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:49.200 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:49.200 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:49.200 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:49.218 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:49.218 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:51.204 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:51.204 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:51.420 [main] INFO  org.mongodb.driver.cluster - Waiting for server to become available for operation with ID 553. Remaining time: 30000 ms. Selector: ReadPreferenceServerSelector{readPreference=ReadPreference{name=nearest, hedgeOptions=null}}, topology description: {type=REPLICA_SET, servers=[{address=mongo3:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, {address=mongo2:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketOpenException: Exception opening socket}, caused by {java.net.SocketTimeoutException: Connect timed out}}, {address=mongo1:27017, type=UNKNOWN, state=CONNECTING}].
2024-12-04 22:18:51.523 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo3:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=47829800, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:18:45 CST 2024, lastUpdateTimeNanos=47123531796100}
2024-12-04 22:18:51.524 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:51.600 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:51.600 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:51.862 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:51.863 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:51.863 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:51.863 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:51.993 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo2:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=45075100, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:18:45 CST 2024, lastUpdateTimeNanos=47124001421800}
2024-12-04 22:18:51.993 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:51.994 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:52.885 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:52.885 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:52.985 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:52.985 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:52.986 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:52.986 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:52.986 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:52.986 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:53.116 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:53.116 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:53.356 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo3:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48891900, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:18:45 CST 2024, lastUpdateTimeNanos=47125364538600}
2024-12-04 22:18:53.357 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:53.357 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:53.438 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:53.438 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:53.439 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:53.439 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:53.960 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:53.960 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:53.985 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:53.985 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:54.485 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:54.485 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:54.629 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:54.629 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:54.668 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:54.668 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:54.679 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:54.679 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:54.836 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:54.836 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:55.123 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:55.123 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:55.537 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:55.537 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:55.537 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:55.537 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:55.537 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:55.537 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:55.989 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:55.989 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:55.989 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:55.990 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:55.990 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:55.990 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:56.640 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:56.641 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:56.641 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:56.641 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:56.641 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:56.641 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:56.641 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:56.642 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:56.729 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:56.729 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:56.737 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:56.737 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:59.234 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:18:59.234 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:59.234 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:18:59.234 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:18:59.243 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:18:59.243 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:01.281 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:01.281 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:01.610 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:01.610 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:01.676 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:01.676 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:19:01.725 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:01.725 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:19:01.775 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:01.775 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:19:01.790 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:01.790 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:01.804 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:01.805 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:01.819 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:01.819 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:01.827 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:01.827 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:19:01.876 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:01.876 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:19:01.932 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:01.932 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:19:01.985 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:01.985 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:19:02.031 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:02.032 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo1:27017
2024-12-04 22:19:02.038 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:02.038 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:02.247 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:02.247 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo2:27017
2024-12-04 22:19:02.294 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:02.294 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo2:27017
2024-12-04 22:19:03.071 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service] & group[DEFAULT_GROUP]
2024-12-04 22:19:03.118 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:19:03.166 [main] WARN  c.a.cloud.nacos.client.NacosPropertySourceBuilder - Ignore the empty nacos configuration and get it based on dataId[product-service-prod.yaml] & group[DEFAULT_GROUP]
2024-12-04 22:19:03.166 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-product-service-prod.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service.yaml,DEFAULT_GROUP'}, BootstrapPropertySource {name='bootstrapProperties-product-service,DEFAULT_GROUP'}]
2024-12-04 22:19:03.169 [main] INFO  c.e.x.oomall.product.service.CouponActServiceTest - The following 1 profile is active: "prod"
2024-12-04 22:19:03.376 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:19:03.376 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-04 22:19:03.384 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 6 JPA repository interfaces.
2024-12-04 22:19:03.384 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2024-12-04 22:19:03.384 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-12-04 22:19:03.387 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 2 MongoDB repository interfaces.
2024-12-04 22:19:03.432 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:03.432 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:03.443 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:03.443 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:03.449 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:03.449 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:03.526 [main] WARN  org.mybatis.spring.mapper.ClassPathMapperScanner - No MyBatis mapper was found in '[cn.edu.xmu.oomall.product]' package. Please check your configuration.
2024-12-04 22:19:03.529 [main] INFO  o.springframework.cloud.context.scope.GenericScope - BeanFactory id=422f3cad-9cd9-3423-8a84-bdb901a58148
2024-12-04 22:19:03.560 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.ListenerContainerConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:19:03.561 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration' of type [org.apache.rocketmq.spring.autoconfigure.MessageConverterConfiguration$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:19:03.562 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'createRocketMQMessageConverter' of type [org.apache.rocketmq.spring.support.RocketMQMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:19:03.564 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:19:03.565 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:19:03.566 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$1213/0x00000211188e2de8] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:19:03.567 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:19:03.571 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketmq-org.apache.rocketmq.spring.autoconfigure.RocketMQProperties' of type [org.apache.rocketmq.spring.autoconfigure.RocketMQProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:19:03.571 [main] WARN  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'rocketMQMessageListenerContainerRegistrar' of type [org.apache.rocketmq.spring.support.RocketMQMessageListenerContainerRegistrar] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying). Is this bean getting eagerly injected/applied to a currently created BeanPostProcessor [org.apache.rocketmq.spring.annotation.RocketMQMessageListenerBeanPostProcessor]? Check the corresponding BeanPostProcessor declaration and its dependencies/advisors. If this bean does not have to be post-processed, declare it with ROLE_INFRASTRUCTURE.
2024-12-04 22:19:03.687 [main] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-14} inited
2024-12-04 22:19:03.969 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:03.969 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:03.994 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:03.994 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:04.188 [main] INFO  org.hibernate.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-04 22:19:04.192 [main] INFO  o.hibernate.cache.internal.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2024-12-04 22:19:04.201 [main] INFO  o.s.o.j.persistenceunit.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-04 22:19:04.369 [main] INFO  o.h.e.t.jta.platform.internal.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-04 22:19:04.369 [main] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:19:04.493 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:04.494 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:04.614 [main] DEBUG cn.edu.xmu.oomall.product.config.ProductConfig - snowFlakeIdWorker: ip = 192.168.56.1
2024-12-04 22:19:04.639 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:04.639 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:04.677 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:04.677 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:04.684 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-04 22:19:04.688 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:04.688 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:04.723 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'elasticsearch-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:19:04.760 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo1:27017 to client view of cluster
2024-12-04 22:19:04.761 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo2:27017 to client view of cluster
2024-12-04 22:19:04.763 [main] INFO  org.mongodb.driver.cluster - Adding discovered server mongo3:27017 to client view of cluster
2024-12-04 22:19:04.767 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/17.0.10+11-LTS-240"} created with settings MongoClientSettings{readPreference=ReadPreference{name=nearest, hedgeOptions=null}, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='demouser', source='oomall', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[cn.edu.xmu.oomall.product.config.MongoCommandLogger@7d969711], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@399a27c0, com.mongodb.Jep395RecordCodecProvider@54baa076, com.mongodb.KotlinCodecProvider@3065d07d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[mongo1:27017, mongo2:27017, mongo3:27017], srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='rs0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-12-04 22:19:04.846 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:04.846 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:04.853 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo2:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=44436000, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:18:56 CST 2024, lastUpdateTimeNanos=47136861786000}
2024-12-04 22:19:04.854 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:04.858 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo1:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46417100, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:18:56 CST 2024, lastUpdateTimeNanos=47136866412300}
2024-12-04 22:19:04.858 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:04.858 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:04.888 [main] INFO  o.s.cloud.openfeign.FeignClientFactoryBean - For 'freight-service' URL not provided. Will try picking an instance via load-balancing.
2024-12-04 22:19:05.111 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo3:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=297623800, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:18:56 CST 2024, lastUpdateTimeNanos=47137120182800}
2024-12-04 22:19:05.112 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:05.112 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:05.130 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:05.131 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:05.491 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:05.496 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:05.502 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:05.503 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:05.969 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:05.969 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:05.975 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:05.975 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:05.983 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:05.983 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:06.588 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:06.588 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:06.623 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:06.623 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:06.631 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:06.631 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:06.639 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:06.640 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:06.738 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:06.738 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:06.746 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:06.746 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:09.238 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:09.238 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:09.239 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:09.239 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:10.300 [main] INFO  o.a.r.s.autoconfigure.RocketMQAutoConfiguration - a producer (goods-producer) init on namesrv rocketmq-namesrv:9876
2024-12-04 22:19:10.849 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2024-12-04 22:19:10.863 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 19 endpoints beneath base path '/actuator'
2024-12-04 22:19:10.919 [main] INFO  c.e.x.oomall.product.service.CouponActServiceTest - Started CouponActServiceTest in 8.564 seconds (process running for 287.488)
2024-12-04 22:19:10.920 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:19:10.920 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 1 userName=13088admin departId=0 tokenId:2024120422191092PA
2024-12-04 22:19:10.920 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - admin token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsImRlcGFydElkIjowLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE5MTA5MlBBIiwidXNlck5hbWUiOiIxMzA4OGFkbWluIiwidXNlckxldmVsIjoxLCJpc3MiOiJPT0FEIiwic3ViIjoidGhpcyBpcyBhIHRva2VuIiwiYXVkIjoiTUlOSUFQUCIsImlhdCI6MTczMzMyMTk1MCwiZXhwIjoxNzMzMzI1NTUwfQ.wHR5F2a5mc2b7_qOhjXPzyv_yGp5vG-_BtY6K37-LLE
2024-12-04 22:19:10.920 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken:
2024-12-04 22:19:10.920 [main] DEBUG cn.edu.xmu.javaee.core.util.JwtHelper - createToken: userId = 2 userName=shop1 departId=1 tokenId:202412042219109TBA
2024-12-04 22:19:10.920 [main] INFO  cn.edu.xmu.oomall.product.config.StartupRunner - shop 1 token = eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjIsImRlcGFydElkIjoxLCJ0b2tlbklkIjoiMjAyNDEyMDQyMjE5MTA5VEJBIiwidXNlck5hbWUiOiJzaG9wMSIsInVzZXJMZXZlbCI6MSwiaXNzIjoiT09BRCIsInN1YiI6InRoaXMgaXMgYSB0b2tlbiIsImF1ZCI6Ik1JTklBUFAiLCJpYXQiOjE3MzMzMjE5NTAsImV4cCI6MTczMzMyNTU1MH0.hyWiVKYkg3vSdQCbEa53hBjuu6WxnnpvqUhrLMgBplk
2024-12-04 22:19:10.921 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service-prod.yaml, group=DEFAULT_GROUP, cnt=14
2024-12-04 22:19:10.921 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service-prod.yaml, group=DEFAULT_GROUP
2024-12-04 22:19:10.921 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service, group=DEFAULT_GROUP, cnt=14
2024-12-04 22:19:10.921 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service, group=DEFAULT_GROUP
2024-12-04 22:19:10.921 [main] INFO  com.alibaba.nacos.client.config.impl.CacheData - [fixed-nacos_8848] [add-listener] ok, tenant=, dataId=product-service.yaml, group=DEFAULT_GROUP, cnt=14
2024-12-04 22:19:10.921 [main] INFO  c.a.cloud.nacos.refresh.NacosContextRefresher - [Nacos Config] Listening config: dataId=product-service.yaml, group=DEFAULT_GROUP
2024-12-04 22:19:11.039 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=97, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:49, gmtModified=null, shopId=2, name=满100最便宜的打5折, objectId=657302634882bc534d981832, actClass=couponActDao, status=1)
2024-12-04 22:19:11.039 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=97, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:49, gmtModified=null, shopId=2, name=满100最便宜的打5折, objectId=657302634882bc534d981832, actClass=couponActDao, status=1)
2024-12-04 22:19:11.192 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:11.192 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:11.221 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:11.221 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:11.244 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:657302634882bc534d981832
2024-12-04 22:19:11.244 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=97, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:49, gmtModified=null, shopId=2, name=满100最便宜的打5折, objectId=657302634882bc534d981832, actClass=couponActDao, status=1)
2024-12-04 22:19:11.245 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:11.245 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:11.297 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})]
2024-12-04 22:19:11.299 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=97, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:49, gmtModified=null), shopId=2, name=满100最便宜的打5折, objectId=657302634882bc534d981832, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:19:11.299 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@5f07ab8f, method = getActivity
2024-12-04 22:19:11.300 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=97, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:49, gmtModified=null), shopId=2, name=满100最便宜的打5折, objectId=657302634882bc534d981832, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:19:11.300 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@44e2f736, method = findById
2024-12-04 22:19:11.300 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =33
2024-12-04 22:19:11.348 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:11.348 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 33
2024-12-04 22:19:11.396 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:11.396 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@51a31455
2024-12-04 22:19:11.396 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 33
2024-12-04 22:19:11.396 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =33
2024-12-04 22:19:11.396 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:11.396 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=33, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=6035, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=21, maxQuantity=50, shopId=2, productId=1582, type=3, deposit=0, payTime=null)
2024-12-04 22:19:11.396 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=33, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=6035, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=21, maxQuantity=50, shopId=2, productId=1582, type=3, deposit=0, payTime=null)
2024-12-04 22:19:11.396 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:11.442 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:11.443 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 2
2024-12-04 22:19:11.489 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:11.489 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@6db8e097
2024-12-04 22:19:11.489 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 2
2024-12-04 22:19:11.489 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:11.489 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:11.490 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:11.490 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:11.616 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:11.616 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:11.669 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1)
2024-12-04 22:19:11.669 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1)
2024-12-04 22:19:11.670 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:11.670 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:11.717 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:6573028729d39517cce1e03b
2024-12-04 22:19:11.718 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1)
2024-12-04 22:19:11.718 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:11.718 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:11.769 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=6573028729d39517cce1e03b, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":90,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PercentageCouponDiscount"})]
2024-12-04 22:19:11.770 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())
2024-12-04 22:19:11.771 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@5f07ab8f, method = getActivity
2024-12-04 22:19:11.771 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=98, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=3, name=满100打9折, objectId=6573028729d39517cce1e03b, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())
2024-12-04 22:19:11.771 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@44e2f736, method = findById
2024-12-04 22:19:11.772 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =33
2024-12-04 22:19:11.803 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:11.803 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:11.811 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:11.811 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:11.819 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:11.819 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 33
2024-12-04 22:19:11.820 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:11.820 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:11.864 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:11.864 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@5cf4f5a0
2024-12-04 22:19:11.864 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 33
2024-12-04 22:19:11.864 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =33
2024-12-04 22:19:11.865 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:11.865 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=33, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=6035, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=21, maxQuantity=50, shopId=2, productId=1582, type=3, deposit=0, payTime=null)
2024-12-04 22:19:11.865 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=33, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=6035, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=21, maxQuantity=50, shopId=2, productId=1582, type=3, deposit=0, payTime=null)
2024-12-04 22:19:11.865 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:11.911 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:11.911 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 2
2024-12-04 22:19:12.041 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:12.042 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:12.320 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:12.320 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@43b48f14
2024-12-04 22:19:12.320 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 2
2024-12-04 22:19:12.320 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:12.321 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:12.321 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:12.321 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:12.503 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=99, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=4, name=满100减10元, objectId=657302a3ed665a4291d50bfb, actClass=couponActDao, status=1)
2024-12-04 22:19:12.503 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=99, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=4, name=满100减10元, objectId=657302a3ed665a4291d50bfb, actClass=couponActDao, status=1)
2024-12-04 22:19:12.505 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:12.505 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:12.556 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:657302a3ed665a4291d50bfb
2024-12-04 22:19:12.556 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=99, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=4, name=满100减10元, objectId=657302a3ed665a4291d50bfb, actClass=couponActDao, status=1)
2024-12-04 22:19:12.557 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:12.557 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:12.603 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=657302a3ed665a4291d50bfb, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":1000,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponDiscount"})]
2024-12-04 22:19:12.604 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=99, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=4, name=满100减10元, objectId=657302a3ed665a4291d50bfb, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PriceCouponDiscount())
2024-12-04 22:19:12.604 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@5f07ab8f, method = getActivity
2024-12-04 22:19:12.605 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=99, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=4, name=满100减10元, objectId=657302a3ed665a4291d50bfb, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PriceCouponDiscount())
2024-12-04 22:19:12.605 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@44e2f736, method = findById
2024-12-04 22:19:12.605 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =33
2024-12-04 22:19:12.652 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:12.652 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 33
2024-12-04 22:19:12.699 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:12.699 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@5a7f8416
2024-12-04 22:19:12.699 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 33
2024-12-04 22:19:12.699 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =33
2024-12-04 22:19:12.700 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:12.700 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=33, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=6035, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=21, maxQuantity=50, shopId=2, productId=1582, type=3, deposit=0, payTime=null)
2024-12-04 22:19:12.700 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=33, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=6035, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=21, maxQuantity=50, shopId=2, productId=1582, type=3, deposit=0, payTime=null)
2024-12-04 22:19:12.700 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:12.746 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:12.746 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 2
2024-12-04 22:19:12.793 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:12.793 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@21a21d32
2024-12-04 22:19:12.793 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 2
2024-12-04 22:19:12.793 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:12.794 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:12.794 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:12.794 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:12.801 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:12.801 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:12.818 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:12.818 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:12.861 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:12.861 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:12.976 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=跨2类9折, objectId=65730218f527a2548b1977d8, actClass=couponActDao, status=1)
2024-12-04 22:19:12.976 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=跨2类9折, objectId=65730218f527a2548b1977d8, actClass=couponActDao, status=1)
2024-12-04 22:19:12.976 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:12.977 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:12.993 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:12.993 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:13.004 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:13.004 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:13.005 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:13.005 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:13.026 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:65730218f527a2548b1977d8
2024-12-04 22:19:13.026 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=跨2类9折, objectId=65730218f527a2548b1977d8, actClass=couponActDao, status=1)
2024-12-04 22:19:13.027 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:13.027 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:13.076 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=65730218f527a2548b1977d8, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":90,"couponLimitation":{"value":2,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CrossCategoryLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PercentageCouponDiscount"})]
2024-12-04 22:19:13.078 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=跨2类9折, objectId=65730218f527a2548b1977d8, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())
2024-12-04 22:19:13.078 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@5f07ab8f, method = getActivity
2024-12-04 22:19:13.078 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=10, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=跨2类9折, objectId=65730218f527a2548b1977d8, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())
2024-12-04 22:19:13.078 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@44e2f736, method = findById
2024-12-04 22:19:13.078 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =33
2024-12-04 22:19:13.408 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:13.408 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 33
2024-12-04 22:19:13.417 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:13.417 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:13.450 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:13.451 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:13.451 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:13.451 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:13.454 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:13.454 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@4d6d7831
2024-12-04 22:19:13.454 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 33
2024-12-04 22:19:13.454 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =33
2024-12-04 22:19:13.455 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:13.455 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=33, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=6035, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=21, maxQuantity=50, shopId=2, productId=1582, type=3, deposit=0, payTime=null)
2024-12-04 22:19:13.455 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=33, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=6035, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=21, maxQuantity=50, shopId=2, productId=1582, type=3, deposit=0, payTime=null)
2024-12-04 22:19:13.455 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:13.502 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:13.502 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 2
2024-12-04 22:19:13.548 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:13.549 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@502ef625
2024-12-04 22:19:13.549 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 2
2024-12-04 22:19:13.549 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:13.549 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:13.549 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:13.550 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:13.751 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=11, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-28T15:40:45, gmtModified=null, shopId=7, name=跨2类最便宜的打5折, objectId=657302321a75f773e8ea8156, actClass=couponActDao, status=1)
2024-12-04 22:19:13.751 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=11, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-28T15:40:45, gmtModified=null, shopId=7, name=跨2类最便宜的打5折, objectId=657302321a75f773e8ea8156, actClass=couponActDao, status=1)
2024-12-04 22:19:13.752 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:13.752 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:13.801 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:657302321a75f773e8ea8156
2024-12-04 22:19:13.801 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=11, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-28T15:40:45, gmtModified=null, shopId=7, name=跨2类最便宜的打5折, objectId=657302321a75f773e8ea8156, actClass=couponActDao, status=1)
2024-12-04 22:19:13.802 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:13.802 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:13.852 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=657302321a75f773e8ea8156, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":2,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CrossCategoryLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})]
2024-12-04 22:19:13.854 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=11, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-28T15:40:45, gmtModified=null), shopId=7, name=跨2类最便宜的打5折, objectId=657302321a75f773e8ea8156, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:19:13.854 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@5f07ab8f, method = getActivity
2024-12-04 22:19:13.854 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=11, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-28T15:40:45, gmtModified=null), shopId=7, name=跨2类最便宜的打5折, objectId=657302321a75f773e8ea8156, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:19:13.855 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@44e2f736, method = findById
2024-12-04 22:19:13.855 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =33
2024-12-04 22:19:13.901 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:13.901 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 33
2024-12-04 22:19:13.946 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:13.946 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@665a0bea
2024-12-04 22:19:13.947 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 33
2024-12-04 22:19:13.947 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =33
2024-12-04 22:19:13.947 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:13.948 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=33, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=6035, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=21, maxQuantity=50, shopId=2, productId=1582, type=3, deposit=0, payTime=null)
2024-12-04 22:19:13.948 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=33, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=6035, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=21, maxQuantity=50, shopId=2, productId=1582, type=3, deposit=0, payTime=null)
2024-12-04 22:19:13.948 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:13.969 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:13.970 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:13.994 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:13.994 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 2
2024-12-04 22:19:14.002 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:14.002 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:14.042 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:14.042 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@19e92f3a
2024-12-04 22:19:14.042 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 2
2024-12-04 22:19:14.042 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:14.043 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:14.043 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:14.043 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:14.234 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=99, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=4, name=满100减10元, objectId=657302a3ed665a4291d50bfb, actClass=couponActDao, status=1)
2024-12-04 22:19:14.235 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=99, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=4, name=满100减10元, objectId=657302a3ed665a4291d50bfb, actClass=couponActDao, status=1)
2024-12-04 22:19:14.235 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:14.235 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:14.281 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:657302a3ed665a4291d50bfb
2024-12-04 22:19:14.282 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=99, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=4, name=满100减10元, objectId=657302a3ed665a4291d50bfb, actClass=couponActDao, status=1)
2024-12-04 22:19:14.282 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:14.282 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:14.330 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=657302a3ed665a4291d50bfb, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":1000,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponDiscount"})]
2024-12-04 22:19:14.332 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=99, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=4, name=满100减10元, objectId=657302a3ed665a4291d50bfb, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PriceCouponDiscount())
2024-12-04 22:19:14.332 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@5f07ab8f, method = getActivity
2024-12-04 22:19:14.332 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=99, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=4, name=满100减10元, objectId=657302a3ed665a4291d50bfb, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PriceCouponDiscount())
2024-12-04 22:19:14.332 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@44e2f736, method = findById
2024-12-04 22:19:14.332 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =1
2024-12-04 22:19:14.381 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:14.382 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 1
2024-12-04 22:19:14.493 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:14.493 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@6259846c
2024-12-04 22:19:14.493 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 1
2024-12-04 22:19:14.493 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =1
2024-12-04 22:19:14.494 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:14.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=53295, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=2000, maxQuantity=50, shopId=10, productId=1550, type=0, deposit=0, payTime=null)
2024-12-04 22:19:14.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=53295, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=2000, maxQuantity=50, shopId=10, productId=1550, type=0, deposit=0, payTime=null)
2024-12-04 22:19:14.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:14.503 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:14.503 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:14.646 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:14.646 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:14.683 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:14.683 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:14.692 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:14.692 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:14.816 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:14.816 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 2
2024-12-04 22:19:14.847 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:14.847 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:14.865 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:14.865 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@27bd5e79
2024-12-04 22:19:14.865 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 2
2024-12-04 22:19:14.865 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:14.865 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:14.865 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:14.865 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:14.865 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =3
2024-12-04 22:19:14.907 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:14.907 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:14.914 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:14.914 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 3
2024-12-04 22:19:14.915 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:14.915 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:14.962 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:14.962 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@357b4de6
2024-12-04 22:19:14.962 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 3
2024-12-04 22:19:14.963 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =3
2024-12-04 22:19:14.963 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:14.963 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=12650, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=26, maxQuantity=3, shopId=4, productId=1552, type=3, deposit=10000, payTime=2023-12-09T00:00)
2024-12-04 22:19:14.963 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=3, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=12650, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=26, maxQuantity=3, shopId=4, productId=1552, type=3, deposit=10000, payTime=2023-12-09T00:00)
2024-12-04 22:19:14.963 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =4
2024-12-04 22:19:15.009 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:15.010 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 4
2024-12-04 22:19:15.056 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:15.056 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@58467ead
2024-12-04 22:19:15.056 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 4
2024-12-04 22:19:15.057 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =4
2024-12-04 22:19:15.057 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:15.058 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1027, beginTime=2021-11-11T14:38:20, endTime=2030-02-19T14:38:20, quantity=32, maxQuantity=50, shopId=1, productId=1553, type=0, deposit=0, payTime=null)
2024-12-04 22:19:15.058 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=4, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=1027, beginTime=2021-11-11T14:38:20, endTime=2030-02-19T14:38:20, quantity=32, maxQuantity=50, shopId=1, productId=1553, type=0, deposit=0, payTime=null)
2024-12-04 22:19:15.058 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =5
2024-12-04 22:19:15.103 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:15.103 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 5
2024-12-04 22:19:15.141 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:15.141 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:15.149 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:15.149 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@3ce8ac5f
2024-12-04 22:19:15.149 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 5
2024-12-04 22:19:15.149 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =5
2024-12-04 22:19:15.150 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:15.150 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=3280, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=67, maxQuantity=50, shopId=8, productId=1554, type=0, deposit=0, payTime=null)
2024-12-04 22:19:15.150 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=3280, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=67, maxQuantity=50, shopId=8, productId=1554, type=0, deposit=0, payTime=null)
2024-12-04 22:19:15.165 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:15.165 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:15.333 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=99, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=4, name=满100减10元, objectId=657302a3ed665a4291d50bfb, actClass=couponActDao, status=1)
2024-12-04 22:19:15.333 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=99, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=4, name=满100减10元, objectId=657302a3ed665a4291d50bfb, actClass=couponActDao, status=1)
2024-12-04 22:19:15.334 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:15.334 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:15.383 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:657302a3ed665a4291d50bfb
2024-12-04 22:19:15.383 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=99, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=4, name=满100减10元, objectId=657302a3ed665a4291d50bfb, actClass=couponActDao, status=1)
2024-12-04 22:19:15.384 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:15.384 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:15.441 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=657302a3ed665a4291d50bfb, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":1000,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponDiscount"})]
2024-12-04 22:19:15.446 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=99, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=4, name=满100减10元, objectId=657302a3ed665a4291d50bfb, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PriceCouponDiscount())
2024-12-04 22:19:15.447 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@5f07ab8f, method = getActivity
2024-12-04 22:19:15.447 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=99, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=4, name=满100减10元, objectId=657302a3ed665a4291d50bfb, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PriceCouponDiscount())
2024-12-04 22:19:15.447 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@44e2f736, method = findById
2024-12-04 22:19:15.447 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =33
2024-12-04 22:19:15.492 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:15.492 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:15.494 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:15.494 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:15.497 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:15.497 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 33
2024-12-04 22:19:15.502 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:15.503 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:15.546 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:15.546 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@228cd7
2024-12-04 22:19:15.546 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 33
2024-12-04 22:19:15.546 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =33
2024-12-04 22:19:15.546 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:15.546 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=33, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=6035, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=21, maxQuantity=50, shopId=2, productId=1582, type=3, deposit=0, payTime=null)
2024-12-04 22:19:15.547 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=33, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=6035, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=21, maxQuantity=50, shopId=2, productId=1582, type=3, deposit=0, payTime=null)
2024-12-04 22:19:15.547 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:15.593 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:15.593 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 2
2024-12-04 22:19:15.641 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:15.641 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@3d50fc26
2024-12-04 22:19:15.641 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 2
2024-12-04 22:19:15.641 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:15.642 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:15.642 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:15.642 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:15.821 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=9, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=跨2类减10元, objectId=657301e6186c151467fe00db, actClass=couponActDao, status=1)
2024-12-04 22:19:15.821 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=9, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=跨2类减10元, objectId=657301e6186c151467fe00db, actClass=couponActDao, status=1)
2024-12-04 22:19:15.822 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:15.822 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:15.869 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:657301e6186c151467fe00db
2024-12-04 22:19:15.869 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=9, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=跨2类减10元, objectId=657301e6186c151467fe00db, actClass=couponActDao, status=1)
2024-12-04 22:19:15.871 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:15.871 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:15.917 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=657301e6186c151467fe00db, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":1000,"couponLimitation":{"value":2,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CrossCategoryLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponDiscount"})]
2024-12-04 22:19:15.919 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=9, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=跨2类减10元, objectId=657301e6186c151467fe00db, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PriceCouponDiscount())
2024-12-04 22:19:15.919 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@5f07ab8f, method = getActivity
2024-12-04 22:19:15.919 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=9, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=跨2类减10元, objectId=657301e6186c151467fe00db, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PriceCouponDiscount())
2024-12-04 22:19:15.919 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@44e2f736, method = findById
2024-12-04 22:19:15.919 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =33
2024-12-04 22:19:15.965 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:15.965 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 33
2024-12-04 22:19:15.976 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:15.977 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:15.981 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:15.981 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:15.989 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:15.989 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:16.010 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:16.010 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@4dad2e9d
2024-12-04 22:19:16.010 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 33
2024-12-04 22:19:16.010 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =33
2024-12-04 22:19:16.011 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:16.011 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=33, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=6035, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=21, maxQuantity=50, shopId=2, productId=1582, type=3, deposit=0, payTime=null)
2024-12-04 22:19:16.011 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=33, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=6035, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=21, maxQuantity=50, shopId=2, productId=1582, type=3, deposit=0, payTime=null)
2024-12-04 22:19:16.011 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:16.058 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:16.058 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 2
2024-12-04 22:19:16.107 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:16.107 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@1ac7d004
2024-12-04 22:19:16.107 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 2
2024-12-04 22:19:16.107 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:16.108 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:16.108 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:16.108 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:16.289 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:19:16.289 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:19:16.290 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:16.290 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:16.336 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:65730693e61c0b69ba4dc049
2024-12-04 22:19:16.336 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:19:16.336 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:16.337 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:16.383 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=65730693e61c0b69ba4dc049, couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy={"value":90,"couponLimitation":{"value":0,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.ComplexCouponLimitation","couponLimitationList":[{"value":3,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.AmountCouponLimitation"},{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"}]},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PercentageCouponDiscount"})]
2024-12-04 22:19:16.385 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:19:16.385 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@5f07ab8f, method = getActivity
2024-12-04 22:19:16.385 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:19:16.385 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@44e2f736, method = findById
2024-12-04 22:19:16.385 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =1
2024-12-04 22:19:16.430 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:16.430 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 1
2024-12-04 22:19:16.475 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:16.475 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@a071880
2024-12-04 22:19:16.475 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 1
2024-12-04 22:19:16.475 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =1
2024-12-04 22:19:16.476 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:16.476 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=53295, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=2000, maxQuantity=50, shopId=10, productId=1550, type=0, deposit=0, payTime=null)
2024-12-04 22:19:16.476 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=53295, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=2000, maxQuantity=50, shopId=10, productId=1550, type=0, deposit=0, payTime=null)
2024-12-04 22:19:16.476 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:16.521 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:16.521 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 2
2024-12-04 22:19:16.602 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:16.602 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:16.632 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:16.632 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:16.639 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:16.639 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:16.639 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:16.639 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:16.746 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:16.746 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:16.753 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:16.754 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:16.949 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:16.949 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@7ac1382f
2024-12-04 22:19:16.949 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 2
2024-12-04 22:19:16.949 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:16.949 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:16.949 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:16.949 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:17.132 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:19:17.132 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:19:17.133 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:17.133 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:17.184 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:65730693e61c0b69ba4dc049
2024-12-04 22:19:17.184 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null, shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1)
2024-12-04 22:19:17.185 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:17.186 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:17.232 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=65730693e61c0b69ba4dc049, couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy={"value":90,"couponLimitation":{"value":0,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.ComplexCouponLimitation","couponLimitationList":[{"value":3,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.AmountCouponLimitation"},{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"}]},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PercentageCouponDiscount"})]
2024-12-04 22:19:17.234 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:19:17.235 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@5f07ab8f, method = getActivity
2024-12-04 22:19:17.235 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=101, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2023-12-08T12:12:50, gmtModified=null), shopId=2, name=3件满100打9折, objectId=65730693e61c0b69ba4dc049, actClass=couponActDao, status=1), couponTime=null, quantity=100, quantityType=1, validTerm=0, strategy=PercentageCouponDiscount())
2024-12-04 22:19:17.235 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@44e2f736, method = findById
2024-12-04 22:19:17.235 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =1
2024-12-04 22:19:17.283 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:17.284 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 1
2024-12-04 22:19:17.330 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:17.330 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@5e3c0a62
2024-12-04 22:19:17.330 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 1
2024-12-04 22:19:17.330 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =1
2024-12-04 22:19:17.331 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:17.331 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=53295, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=2000, maxQuantity=50, shopId=10, productId=1550, type=0, deposit=0, payTime=null)
2024-12-04 22:19:17.331 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=1, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=53295, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=2000, maxQuantity=50, shopId=10, productId=1550, type=0, deposit=0, payTime=null)
2024-12-04 22:19:17.331 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:17.377 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:17.378 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 2
2024-12-04 22:19:17.422 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:17.422 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@3e5f33e7
2024-12-04 22:19:17.422 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 2
2024-12-04 22:19:17.422 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:17.423 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:17.423 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:17.423 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:17.611 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1)
2024-12-04 22:19:17.611 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1)
2024-12-04 22:19:17.612 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:17.612 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:17.661 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:657300a17077a872bd9852fe
2024-12-04 22:19:17.661 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1)
2024-12-04 22:19:17.663 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:17.663 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:17.711 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=657300a17077a872bd9852fe, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":3,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.AmountCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})]
2024-12-04 22:19:17.712 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:19:17.712 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@5f07ab8f, method = getActivity
2024-12-04 22:19:17.713 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=5, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=2, name=满3件最便宜的5折, objectId=657300a17077a872bd9852fe, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=CheapestPercentageDiscount())
2024-12-04 22:19:17.713 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@44e2f736, method = findById
2024-12-04 22:19:17.713 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =33
2024-12-04 22:19:17.766 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:17.768 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 33
2024-12-04 22:19:17.816 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:17.816 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@16ee5664
2024-12-04 22:19:17.816 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 33
2024-12-04 22:19:17.816 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =33
2024-12-04 22:19:17.817 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:17.817 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=33, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=6035, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=21, maxQuantity=50, shopId=2, productId=1582, type=3, deposit=0, payTime=null)
2024-12-04 22:19:17.817 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=33, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=6035, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=21, maxQuantity=50, shopId=2, productId=1582, type=3, deposit=0, payTime=null)
2024-12-04 22:19:17.817 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:17.865 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:17.865 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 2
2024-12-04 22:19:17.914 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:17.914 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@47e829df
2024-12-04 22:19:17.914 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 2
2024-12-04 22:19:17.914 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:17.915 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:17.915 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:17.915 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:18.351 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=6, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=3, name=满3件9折, objectId=6573013852e9e940b231c427, actClass=couponActDao, status=1)
2024-12-04 22:19:18.351 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=6, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=3, name=满3件9折, objectId=6573013852e9e940b231c427, actClass=couponActDao, status=1)
2024-12-04 22:19:18.352 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:18.352 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:18.400 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:6573013852e9e940b231c427
2024-12-04 22:19:18.401 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=6, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=3, name=满3件9折, objectId=6573013852e9e940b231c427, actClass=couponActDao, status=1)
2024-12-04 22:19:18.401 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:18.401 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:18.448 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=6573013852e9e940b231c427, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":90,"couponLimitation":{"value":3,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.AmountCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PercentageCouponDiscount"})]
2024-12-04 22:19:18.449 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=6, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=3, name=满3件9折, objectId=6573013852e9e940b231c427, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())
2024-12-04 22:19:18.449 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@5f07ab8f, method = getActivity
2024-12-04 22:19:18.449 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=6, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=3, name=满3件9折, objectId=6573013852e9e940b231c427, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PercentageCouponDiscount())
2024-12-04 22:19:18.449 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@44e2f736, method = findById
2024-12-04 22:19:18.449 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =33
2024-12-04 22:19:18.493 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:18.494 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 33
2024-12-04 22:19:18.539 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:18.539 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@5e034c30
2024-12-04 22:19:18.539 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 33
2024-12-04 22:19:18.539 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =33
2024-12-04 22:19:18.540 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:18.540 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=33, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=6035, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=21, maxQuantity=50, shopId=2, productId=1582, type=3, deposit=0, payTime=null)
2024-12-04 22:19:18.540 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=33, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=6035, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=21, maxQuantity=50, shopId=2, productId=1582, type=3, deposit=0, payTime=null)
2024-12-04 22:19:18.540 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:18.588 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:18.589 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 2
2024-12-04 22:19:18.700 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:18.700 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@16dc4cd3
2024-12-04 22:19:18.700 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 2
2024-12-04 22:19:18.700 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:18.701 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:18.701 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:18.702 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:18.894 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: po = ActivityPo(id=7, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=4, name=满3件减10元, objectId=657301991ae07d79171442eb, actClass=couponActDao, status=1)
2024-12-04 22:19:18.894 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: po = ActivityPo(id=7, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=4, name=满3件减10元, objectId=657301991ae07d79171442eb, actClass=couponActDao, status=1)
2024-12-04 22:19:18.895 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:18.895 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:18.942 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - objid->657302634882bc534d981832:Optional[CouponActPo(objectId=657302634882bc534d981832, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":50,"couponLimitation":{"value":10000,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.CheapestPercentageDiscount"})],po.objid:657301991ae07d79171442eb
2024-12-04 22:19:18.942 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---copy after getActivity: po = ActivityPo(id=7, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null, shopId=4, name=满3件减10元, objectId=657301991ae07d79171442eb, actClass=couponActDao, status=1)
2024-12-04 22:19:18.945 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Command: find
2024-12-04 22:19:18.945 [main] INFO  c.edu.xmu.oomall.product.config.MongoCommandLogger - Connection Address: mongo3:27017
2024-12-04 22:19:18.995 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: ret = Optional[CouponActPo(objectId=657301991ae07d79171442eb, couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy={"value":1000,"couponLimitation":{"value":3,"className":"cn.edu.xmu.oomall.product.model.strategy.impl.AmountCouponLimitation"},"className":"cn.edu.xmu.oomall.product.model.strategy.impl.PriceCouponDiscount"})]
2024-12-04 22:19:18.998 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.CouponActDao - ---getActivity: bo = CouponAct(super=Activity(super=OOMallObject(id=7, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=4, name=满3件减10元, objectId=657301991ae07d79171442eb, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PriceCouponDiscount())
2024-12-04 22:19:18.998 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.CouponActDao@5f07ab8f, method = getActivity
2024-12-04 22:19:18.998 [main] DEBUG c.edu.xmu.oomall.product.dao.activity.ActivityDao - build: bo = CouponAct(super=Activity(super=OOMallObject(id=7, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2022-12-09T02:09:26, gmtModified=null), shopId=4, name=满3件减10元, objectId=657301991ae07d79171442eb, actClass=couponActDao, status=1), couponTime=null, quantity=null, quantityType=null, validTerm=null, strategy=PriceCouponDiscount())
2024-12-04 22:19:18.998 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.activity.ActivityDao@44e2f736, method = findById
2024-12-04 22:19:18.999 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =33
2024-12-04 22:19:19.268 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:19.269 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:19.269 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:19.269 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:19.327 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:19.327 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 33
2024-12-04 22:19:19.375 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:19.375 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@d0b9fe5
2024-12-04 22:19:19.375 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 33
2024-12-04 22:19:19.375 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =33
2024-12-04 22:19:19.376 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:19.376 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=33, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=6035, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=21, maxQuantity=50, shopId=2, productId=1582, type=3, deposit=0, payTime=null)
2024-12-04 22:19:19.376 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=33, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=6035, beginTime=2021-11-11T14:38:20, endTime=2027-02-19T14:38:20, quantity=21, maxQuantity=50, shopId=2, productId=1582, type=3, deposit=0, payTime=null)
2024-12-04 22:19:19.376 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:19.422 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:19.423 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 2
2024-12-04 22:19:19.470 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@6eb07ab8, method = findByOnsale
2024-12-04 22:19:19.470 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: onsaleExecutor = cn.edu.xmu.oomall.product.dao.onsale.SpecOnSaleExecutor@30877cb1
2024-12-04 22:19:19.470 [main] DEBUG c.e.x.oomall.product.dao.onsale.SpecOnSaleExecutor - execute: onsaleId = 2
2024-12-04 22:19:19.470 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =2
2024-12-04 22:19:19.471 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@6c38b2ff, method = findById
2024-12-04 22:19:19.471 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:19.471 [main] DEBUG cn.edu.xmu.oomall.product.dao.bo.Product - getValidOnsale: validOnsale = OnSale(super=OOMallObject(id=2, creatorId=1, creatorName=admin, modifierId=null, modifierName=null, gmtCreate=2021-11-11T14:38:20, gmtModified=null), price=473, beginTime=2021-11-11T14:38:20, endTime=2029-02-19T14:38:20, quantity=97, maxQuantity=50, shopId=3, productId=1551, type=3, deposit=0, payTime=null)
2024-12-04 22:19:19.670 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - findById: id =147
2024-12-04 22:19:19.716 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = findById
2024-12-04 22:19:19.717 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - save: onsale=OnSale(super=OOMallObject(id=147, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=null, beginTime=null, endTime=null, quantity=124, maxQuantity=null, shopId=null, productId=1696, type=null, deposit=null, payTime=null)
2024-12-04 22:19:19.717 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - hasConflictOnsale: onsale = OnSale(super=OOMallObject(id=147, creatorId=null, creatorName=null, modifierId=null, modifierName=null, gmtCreate=null, gmtModified=null), price=null, beginTime=null, endTime=null, quantity=124, maxQuantity=null, shopId=null, productId=1696, type=null, deposit=null, payTime=null)
2024-12-04 22:19:19.771 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - save: update obj
2024-12-04 22:19:19.771 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : className = cn.edu.xmu.oomall.product.mapper.po.OnsalePo
2024-12-04 22:19:19.771 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : table = goods_onsale
2024-12-04 22:19:19.771 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getId
2024-12-04 22:19:19.771 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.id, object  = 147
2024-12-04 22:19:19.771 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = id
2024-12-04 22:19:19.771 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorId
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.creatorId, object  = null
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_id
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getCreatorName
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.OnsalePo.creatorName, object  = null
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = creator_name
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierId
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.modifierId, object  = 1
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_id
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getModifierName
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.String cn.edu.xmu.oomall.product.mapper.po.OnsalePo.modifierName, object  = admin
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = modifier_name
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtCreate
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.gmtCreate, object  = null
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_create
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getGmtModified
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.gmtModified, object  = 2024-12-04T22:19:19.770180500
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = gmt_modified
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getShopId
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.shopId, object  = null
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = shop_id
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getProductId
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.productId, object  = 1696
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = product_id
2024-12-04 22:19:19.772 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getPrice
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.price, object  = null
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = price
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getBeginTime
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.beginTime, object  = null
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = begin_time
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getEndTime
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.endTime, object  = null
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = end_time
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getQuantity
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Integer cn.edu.xmu.oomall.product.mapper.po.OnsalePo.quantity, object  = 124
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = quantity
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getType
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Byte cn.edu.xmu.oomall.product.mapper.po.OnsalePo.type, object  = null
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = type
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getMaxQuantity
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Integer cn.edu.xmu.oomall.product.mapper.po.OnsalePo.maxQuantity, object  = null
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = max_quantity
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getPayTime
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.time.LocalDateTime cn.edu.xmu.oomall.product.mapper.po.OnsalePo.payTime, object  = null
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = pay_time
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getValueByPropertyName : method = getDeposit
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : pp = private java.lang.Long cn.edu.xmu.oomall.product.mapper.po.OnsalePo.deposit, object  = null
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : columns = deposit
2024-12-04 22:19:19.773 [main] DEBUG c.e.x.j.core.jpa.SelectiveUpdateJpaRepositoryImpl - getSql : sql = update goods_onsale set modifier_id = 1, modifier_name = 'admin', gmt_modified = '2024-12-04T22:19:19.770180500', product_id = 1696, quantity = 124 where id = 147;
2024-12-04 22:19:19.818 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = save
2024-12-04 22:19:19.957 [main] DEBUG cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao - retrieveByActId: actId = 4, page = 1, pageSize = 10
2024-12-04 22:19:20.287 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = retrieveByActId
2024-12-04 22:19:20.287 [main] DEBUG cn.edu.xmu.oomall.product.dao.ProductDao - findOnsaleById: id = 119
2024-12-04 22:19:20.335 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.ProductDao@2c14ec2, method = findByOnsale
2024-12-04 22:19:20.516 [main] DEBUG cn.edu.xmu.javaee.core.aop.DaoAspect - doAround: obj = cn.edu.xmu.oomall.product.dao.onsale.OnSaleDao@7bf1fd45, method = delete
2024-12-04 22:19:20.622 [Thread-5] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Start destroying common HttpClient
2024-12-04 22:19:20.622 [Thread-7] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Start destroying Publisher
2024-12-04 22:19:20.622 [Thread-7] WARN  com.alibaba.nacos.common.notify.NotifyCenter - [NotifyCenter] Destruction of the end
2024-12-04 22:19:20.623 [Thread-5] WARN  c.alibaba.nacos.common.http.HttpClientBeanHolder - [HttpClientBeanHolder] Destruction of the end
2024-12-04 22:19:21.228 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:21.228 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:21.530 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Exception in monitor thread while connecting to server mongo3:27017
com.mongodb.MongoSocketOpenException: Exception opening socket
	at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:86)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:86)
	at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:201)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)
	at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)
	at java.base/java.lang.Thread.run(Thread.java:842)
Caused by: java.net.SocketTimeoutException: Connect timed out
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:551)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)
	at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:105)
	at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:80)
	... 4 common frames omitted
2024-12-04 22:19:21.659 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:21.660 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:21.864 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:21.865 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:21.865 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:21.865 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:21.866 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:21.866 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:22.110 [SpringApplicationShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:19:22.113 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closing ...
2024-12-04 22:19:22.119 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} closed
2024-12-04 22:19:22.331 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:22.331 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:22.808 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:22.808 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:22.827 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:22.827 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:22.863 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:22.863 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:22.950 [SpringApplicationShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:19:22.950 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-2} closing ...
2024-12-04 22:19:22.951 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-2} closed
2024-12-04 22:19:22.954 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown begin
2024-12-04 22:19:22.954 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown begin
2024-12-04 22:19:22.954 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.backups.FailoverReactor do shutdown stop
2024-12-04 22:19:22.954 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.cache.ServiceInfoHolder do shutdown stop
2024-12-04 22:19:22.954 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown begin
2024-12-04 22:19:22.954 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown begin
2024-12-04 22:19:22.954 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServiceInfoUpdateService do shutdown stop
2024-12-04 22:19:22.955 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown begin
2024-12-04 22:19:22.955 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-12-04 22:19:22.955 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-12-04 22:19:22.955 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.core.ServerListManager do shutdown stop
2024-12-04 22:19:22.955 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown begin
2024-12-04 22:19:22.955 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Start destroying NacosRestTemplate
2024-12-04 22:19:22.955 [SpringApplicationShutdownHook] WARN  com.alibaba.nacos.client.naming - [NamingHttpClientManager] Destruction of the end
2024-12-04 22:19:22.955 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.http.NamingHttpClientProxy do shutdown stop
2024-12-04 22:19:22.955 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown naming grpc client proxy for  uuid->dd740f43-30f0-4684-9d81-b21554599c6b
2024-12-04 22:19:22.955 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - Shutdown grpc redo service executor java.util.concurrent.ScheduledThreadPoolExecutor@2ef5bb96[Running, pool size = 1, active threads = 0, queued tasks = 1, completed tasks = 40]
2024-12-04 22:19:22.955 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown rpc client, set status to shutdown
2024-12-04 22:19:22.955 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Shutdown client event executor java.util.concurrent.ScheduledThreadPoolExecutor@25cfa4cf[Running, pool size = 2, active threads = 2, queued tasks = 0, completed tasks = 0]
2024-12-04 22:19:22.955 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.common.remote.client - Close current connection 1733321841983_10.0.0.101_64828
2024-12-04 22:19:22.965 [SpringApplicationShutdownHook] INFO  c.a.nacos.common.remote.client.grpc.GrpcClient - Shutdown grpc executor java.util.concurrent.ThreadPoolExecutor@1072fcdc[Running, pool size = 2, active threads = 0, queued tasks = 0, completed tasks = 33]
2024-12-04 22:19:22.965 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - shutdown and remove naming rpc client  for uuid ->dd740f43-30f0-4684-9d81-b21554599c6b
2024-12-04 22:19:22.965 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - [null] CredentialWatcher is stopped
2024-12-04 22:19:22.965 [SpringApplicationShutdownHook] INFO  c.a.n.client.auth.ram.identify.CredentialService - [null] CredentialService is freed
2024-12-04 22:19:22.965 [SpringApplicationShutdownHook] INFO  com.alibaba.nacos.client.naming - com.alibaba.nacos.client.naming.remote.NamingClientProxyDelegate do shutdown stop
2024-12-04 22:19:23.002 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:23.002 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:23.002 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:23.002 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:23.008 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:23.008 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:23.253 [SpringApplicationShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:19:23.254 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-3} closing ...
2024-12-04 22:19:23.255 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-3} closed
2024-12-04 22:19:23.426 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:23.426 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:23.456 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:23.456 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:23.461 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:23.461 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:23.979 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:23.979 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:24.009 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:24.009 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:24.512 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:24.513 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:24.648 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:24.648 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:24.658 [com.alibaba.nacos.client.Worker.9] INFO  c.a.n.client.auth.ram.identify.CredentialWatcher - null No credential found
2024-12-04 22:19:24.689 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:24.689 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:24.750 [SpringApplicationShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:19:24.751 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-4} closing ...
2024-12-04 22:19:24.752 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-4} closed
2024-12-04 22:19:24.850 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:24.850 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:24.914 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:24.914 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:24.925 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:24.925 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:24.988 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:24.989 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:25.150 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:25.150 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:25.174 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:25.175 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:25.503 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:25.504 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:25.505 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:25.505 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:25.511 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:25.511 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:26.043 [SpringApplicationShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:19:26.043 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-5} closing ...
2024-12-04 22:19:26.044 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-5} closed
2024-12-04 22:19:26.047 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:26.047 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:26.047 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:26.048 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:26.048 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:26.048 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:26.607 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:26.607 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:26.640 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:26.640 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:26.642 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:26.642 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:26.648 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:26.648 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:26.756 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:26.756 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:26.758 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:26.758 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:27.658 [SpringApplicationShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:19:27.658 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-6} closing ...
2024-12-04 22:19:27.659 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-6} closed
2024-12-04 22:19:27.668 [SpringApplicationShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:19:27.669 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-7} closing ...
2024-12-04 22:19:27.669 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-7} closed
2024-12-04 22:19:27.678 [SpringApplicationShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:19:27.679 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-8} closing ...
2024-12-04 22:19:27.680 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-8} closed
2024-12-04 22:19:29.237 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:29.237 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:29.237 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:29.237 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:29.253 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:29.253 [cluster-ClusterId{value='6750646406b2de2102d09640', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:30.531 [SpringApplicationShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:19:30.532 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-9} closing ...
2024-12-04 22:19:30.533 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-9} closed
2024-12-04 22:19:31.277 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:31.278 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:31.624 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=mongo3:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=46673100, setName='rs0', canonicalAddress=mongo1:27017, hosts=[mongo1:27017], passives=[mongo3:27017, mongo2:27017], arbiters=[], primary='mongo1:27017', tagSet=TagSet{[]}, electionId=7fffffff00000000000000f7, setVersion=1, topologyVersion=TopologyVersion{processId=6750545c33ed055bb0fd0f23, counter=6}, lastWriteDate=Wed Dec 04 22:19:26 CST 2024, lastUpdateTimeNanos=47163632447000}
2024-12-04 22:19:31.624 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:31.624 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:31.813 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:31.813 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:31.817 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:31.817 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:31.834 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:31.834 [cluster-ClusterId{value='6750645306b2de2102d0963e', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:31.932 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:31.932 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:32.057 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:32.057 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:32.774 [SpringApplicationShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:19:32.774 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-10} closing ...
2024-12-04 22:19:32.775 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-10} closed
2024-12-04 22:19:32.817 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:32.817 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:32.833 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:32.833 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:32.867 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:32.867 [cluster-ClusterId{value='675063fa06b2de2102d09639', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:33.009 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:33.009 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:33.009 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:33.009 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:33.016 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:33.016 [cluster-ClusterId{value='6750642206b2de2102d0963c', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:33.538 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:33.539 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:33.539 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:33.539 [cluster-ClusterId{value='6750647d06b2de2102d09642', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:33.631 [SpringApplicationShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:19:33.632 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-11} closing ...
2024-12-04 22:19:33.633 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-11} closed
2024-12-04 22:19:33.828 [SpringApplicationShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:19:33.829 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-12} closing ...
2024-12-04 22:19:33.830 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-12} closed
2024-12-04 22:19:33.989 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:33.989 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:34.019 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:34.019 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:34.519 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:34.519 [cluster-ClusterId{value='6750648806b2de2102d09643', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:34.652 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:34.653 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:34.699 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:34.700 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:34.700 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:34.700 [cluster-ClusterId{value='675064b006b2de2102d09645', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:34.858 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:34.858 [cluster-ClusterId{value='6750642d06b2de2102d0963d', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:34.922 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:34.922 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:34.932 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:34.932 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:35.152 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:35.153 [cluster-ClusterId{value='675064ba06b2de2102d09646', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:35.180 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:35.180 [cluster-ClusterId{value='675064d806b2de2102d09647', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:35.346 [SpringApplicationShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:19:35.346 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-13} closing ...
2024-12-04 22:19:35.348 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-13} closed
2024-12-04 22:19:35.507 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:35.507 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:35.513 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:35.513 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:35.518 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:35.518 [cluster-ClusterId{value='675064a706b2de2102d09644', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:35.994 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:35.994 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:35.994 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:35.994 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:35.999 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:35.999 [cluster-ClusterId{value='6750640706b2de2102d0963a', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:36.616 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:36.617 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:36.644 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:36.645 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:36.648 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo3:27017
2024-12-04 22:19:36.648 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:36.653 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:36.653 [cluster-ClusterId{value='6750647606b2de2102d09641', description='null'}-mongo2:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo2:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:36.764 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo2:27017
2024-12-04 22:19:36.764 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo1:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo1:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:37.080 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Rediscovering type of existing primary mongo1:27017
2024-12-04 22:19:37.080 [cluster-ClusterId{value='675063e906b2de2102d09638', description='null'}-mongo3:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary mongo3:27017 with max election id 7fffffff00000000000000f7 and max set version 1
2024-12-04 22:19:38.027 [SpringApplicationShutdownHook] INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-04 22:19:38.028 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-14} closing ...
2024-12-04 22:19:38.028 [SpringApplicationShutdownHook] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-14} closed
